window.__require=function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){return o(e[s][1][t]||t)},p,p.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({AniAct:[function(t,e,i){"use strict";cc._RF.push(e,"4bb88PEWntE8KOh7mj2L1Rc","AniAct"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=function(){function t(t){this.isPlaying=!1,this.timeScale=1,this.rootNode=null,this.onStart=new n.Event,this.onEnd=new n.Event,this.testNum=5,this._setProp(t,"timeScale"),this._setProp(t,"rootNode")}return t.prototype.update=function(t){this.isPlaying&&this._update(t*this.timeScale)},t.prototype.play=function(){this.isPlaying=!0,this._play(),this.onStart.call()},t.prototype.stop=function(){this.isPlaying=!1,this._stop(),this.onEnd.call()},t.prototype.pause=function(){this.isPlaying=!1,this._pause()},t.prototype.resume=function(){this.isPlaying=!0,this._resume()},t.prototype._update=function(t){this.testNum-=t,this.testNum>0||this.stop()},t.prototype._play=function(){},t.prototype._stop=function(){},t.prototype._pause=function(){},t.prototype._resume=function(){},t.prototype._setProp=function(t,e){void 0!=t[e]&&(this[e]=t[e])},t.prototype._getRoot=function(t){for(var e=t,i=cc.director.getScene(),n=100;e.parent!=i;)if(e=e.parent,n--<0)return e;return e},t.prototype._getFixedWorldPos=function(t){return t},t.prototype._getEase=function(t){var e=null;return 1==t.length?e=[t[0],0,1-t[0],1]:2==t.length?e=[t[0],0,1-t[1],1]:4==t.length&&(e=[t[0],t[1],1-t[2],1-t[3]]),e},t}();i.AniAct=o,cc._RF.pop()},{"../../Uzil":"Uzil"}],AniCollect:[function(t,e,i){"use strict";cc._RF.push(e,"f3676rPDbdIIZEsxaZPk5KM","AniCollect"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniAct"),r=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=i.AniCollect_MoveType||(i.AniCollect_MoveType={}));var s=function(t){function e(e){var i=t.call(this,e)||this;return i.actors=[],i._actorInfos=[],i.target=null,i.areaRadius=0,i.moveType=n.SPEED,i.speed=0,i.acceleration=0,i.duration=5,i._runnedTime=0,i.easeInOut=[0],i._easeBezier=null,i.curve=null,i._setProp(e,"actors"),i._setProp(e,"target"),i._setProp(e,"moveType"),i._setProp(e,"areaRadius"),i._setProp(e,"speed"),i._setProp(e,"acceleration"),i._setProp(e,"easeInOut"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=!0;if(this.moveType==n.SPEED){this.speed+=this.acceleration*t;for(var i=0,o=this._getAllActorInfo();i<o.length;i++){(p=(u=o[i]).targetPos)||(p=this._getTargetLocalPos(u.node.parent),u.targetPos=p);var s=r.Mathf.moveTowardV2(u.pos,p,this.speed*t);u.node.setPosition(s),0==s.equals(p)&&(e=!1)}}else if(this.moveType==n.DURATION)for(var a=0,c=this._getAllActorInfo();a<c.length;a++){var u,p;(p=(u=c[a]).targetPos)||(p=this._getTargetLocalPos(u.node.parent),u.targetPos=p),u.percent=r.Mathf.moveToward(u.percent,1,this.speed*t);var l=this._easeBezier.compute(u.percent);s=r.Mathf.lerpV2(u.orinPos,p,l);u.node.setPosition(s),0==s.equals(p)&&(e=!1)}e&&this.stop()}},e.prototype._play=function(){this.moveType==n.SPEED||this.moveType==n.DURATION&&(this.speed=1/this.duration),this._actorInfos=[];for(var t=0,e=this.actors;t<e.length;t++){var i=e[t];this._actorInfos.push({node:i,orinPos:i.position,percent:0})}var o=this._getEase(this.easeInOut);o&&(this._easeBezier=r.BezierData.easyBezier(o[0],o[1],o[2],o[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){if(void 0===t&&(t=!0),this.target instanceof cc.Node){var e=this.target,i=e.position;if(t){var n=e.getContentSize(),o=0-n.width*e.anchorX,s=0+n.width*(1-e.anchorX),a=0+n.height*(1-e.anchorY),c=0-n.height*e.anchorY;i.x+=cc.misc.lerp(o,s,Math.random()),i.y+=cc.misc.lerp(c,a,Math.random())}return e.parent.convertToWorldSpaceAR(i)}if(this.target instanceof cc.Vec2){i=this.target.clone();if(t){var u=r.Mathf.angleToVec2(359*Math.random());u=u.normalize().mul(this.areaRadius),i.addSelf(u)}return this._getFixedWorldPos(i)}},e.prototype._getTargetLocalPos=function(t){var e=this._getTargetWorldPos();return t.convertToNodeSpaceAR(e)},e.prototype._getWorldPosByNode=function(t){return t.parent.convertToWorldSpaceAR(t.getPosition())},e.prototype._getAllActorInfo=function(){for(var t=this._getTargetWorldPos(),e=0,i=this.actors;e<i.length;e++)for(var n=i[e],o=this._getWorldPosByNode(n),r=t.sub(o),s=0,a=this._actorInfos;s<a.length;s++){var c=a[s];c.node==n&&(c.pos=n.position,c.worldPos=o,c.distance=r)}return this._actorInfos},e}(o.AniAct);i.AniCollect=s,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniComponent_Collect:[function(t,e,i){"use strict";cc._RF.push(e,"26a7dMRlq5Ij7oSH779kV6j","AniComponent_Collect"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniTween"),r=t("../act/AniCollect");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{targetType:{default:n.POSITION,type:cc.Enum(n)},targetPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},areaRadius:{default:0,visible:function(){return this.targetType==n.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},actors:{default:[],type:cc.Node},movementType:{default:r.AniCollect_MoveType.SPEED,type:cc.Enum(r.AniCollect_MoveType)},acceleration:{default:5,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},speed:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},duration:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.node),t.actors=this.actors,this.targetType==n.POSITION?t.target=this.targetPos:this.targetType==n.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.areaRadius=this.areaRadius,t.speed=this.speed,t.acceleration=this.acceleration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new o.AniTween).collect(t),this.tween.play()},_preview:function(){for(var t=[],e=0,i=this.actors;e<i.length;e++){var n=i[e];t.push({node:n,pos:n.position})}this.beforePreview.positions=t,this.play()},_unpreview:function(){this.stop();var t=this.beforePreview.positions;if(t)for(var e=0,i=t;e<i.length;e++){var n=i[e];n.node.setPosition(n.pos)}}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniCollect":"AniCollect"}],AniComponent_Goto:[function(t,e,i){"use strict";cc._RF.push(e,"49a54txto9KfoWWRUPSf2f5","AniComponent_Goto"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../act/AniGoto"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},targetPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},moveType:{type:cc.Enum(o.AniGoto_MoveType),default:o.AniGoto_MoveType.DURATION},speed:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.SPEED}},acceleration:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==o.AniGoto_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==o.AniGoto_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.targetPosition:this.targetType==n.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],this.tween=(new r.AniTween).goto(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniGoto":"AniGoto"}],AniComponent_LookAt:[function(t,e,i){"use strict";cc._RF.push(e,"2fcd7lNxQNP5Z5pUGuya+9a","AniComponent_LookAt"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniTween");(function(t){t[t.POSITION=0]="POSITION",t[t.NODE=1]="NODE"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.NODE,type:cc.Enum(n)},lookAtNode:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},lookAtPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.lookAtPosition:this.targetType==n.NODE&&(t.target=this.lookAtNode),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new o.AniTween).lookAt(t),this.tween.play()},_preview:function(){this.actorNode&&(this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play())},_unpreview:function(){this.actorNode&&(this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Move:[function(t,e,i){"use strict";cc._RF.push(e,"ac9f80/u5RFELWgwZoriNGA","AniComponent_Move"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniTween");(function(t){t[t.VELOCITY=0]="VELOCITY",t[t.CURVE=1]="CURVE"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},moveType:{default:n.VELOCITY,type:cc.Enum(n)},velocity:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==n.VELOCITY}},acceleration:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==n.VELOCITY}},duration:{default:5,visible:function(){return this.moveType==n.VELOCITY}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==n.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.moveType=this.moveType,t.velocity=this.velocity.clone(),t.acceleration=this.acceleration.clone(),t.duration=this.duration,this.tween=(new o.AniTween).move(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Path:[function(t,e,i){"use strict";cc._RF.push(e,"1f103xu61pPwKXhOOmU+fZo","AniComponent_Path"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../act/AniPath"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},isPathClosure:{default:!0},pathPos:{default:[],type:cc.Vec2,visible:function(){return this.targetType==n.POSITION}},pathLocators:{default:[],type:cc.Node,visible:function(){return this.targetType==n.NODE}},moveType:{default:o.AniPath_MoveType.SPEED,type:cc.Enum(o.AniPath_MoveType)},wrapType:{default:o.AniPath_WrapType.LOOP,type:cc.Enum(o.AniPath_WrapType)},speed:{default:0,visible:function(){return this.moveType==o.AniPath_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==o.AniPath_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==o.AniPath_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.path=this.pathPos:this.targetType==n.NODE&&(t.path=this.pathLocators),t.isPathClosure=this.isPathClosure,t.moveType=this.moveType,t.wrapType=this.wrapType,t.speed=this.speed,t.duration=this.duration,this.tween=(new r.AniTween).path(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniPath":"AniPath"}],AniComponent_Spin:[function(t,e,i){"use strict";cc._RF.push(e,"ab8a6/o3NBGf5mHk0Kl/96z","AniComponent_Spin"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new n.AniTween).spin(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Spiral:[function(t,e,i){"use strict";cc._RF.push(e,"dc628Jd+85PX5qZ/5IblG9C","AniComponent_Spiral"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../act/AniSpiral"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},centerPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},centerLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},currentAngle:{default:-1},initialAngle:{default:-1},wrapType:{default:o.AniSpiral_WrapType.CONTINUED,type:cc.Enum(o.AniSpiral_WrapType)},rotateNormal:{default:1},rotateSpeed:{default:0},rotateAcceleration:{default:0},radius:{default:-1},radiusNormal:{default:0},radiusSpeed:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.centerPos:this.targetType==n.NODE&&(t.target=this.centerLocator),t.wrapType=this.wrapType,t.currentAngle=this.currentAngle,t.initialAngle=this.initialAngle,t.rotateNormal=this.rotateNormal,t.rotateSpeed=this.rotateSpeed,t.rotateAcceleration=this.rotateAcceleration,t.radius=this.radius,t.radiusNormal=this.radiusNormal,t.radiusSpeed=this.radiusSpeed,this.tween=(new r.AniTween).spiral(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniSpiral":"AniSpiral"}],AniComponent_Swing:[function(t,e,i){"use strict";cc._RF.push(e,"e5edbm6VyJG2YGGdtZZWIja","AniComponent_Swing"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},angles:{default:[],type:cc.Float},speed:{default:0},duration:{default:-1},easeIn_percent:{default:0},easeOut_percent:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.angles=this.angles.slice(),t.speed=this.speed,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new n.AniTween).swing(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent:[function(t,e,i){"use strict";cc._RF.push(e,"3be30JMzvBAVJQ4T97AhG4K","AniComponent"),Object.defineProperty(i,"__esModule",{value:!0}),cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,playOnFocus:!0},properties:{isPlayOnAwake:{default:!1},tween:{default:null,type:Object,visible:!1},isPreview:{get:function(){return this._isPreview},set:function(t){this._isPreview=t,1==t?this._preview():this._unpreview()}},_isPreview:{default:!1,visible:!1},beforePreview:{visible:!1,default:{}},isPlaying:{default:!1,visible:!1},timeScale:{default:1}},start:function(){this._start(),this.isPlayOnAwake&&this.play()},update:function(t){var e=t*this.timeScale;this.tween&&this.tween.update(e),this._update(e)},empty:function(){},play:function(){this.isPlaying=!0,this._play()},stop:function(){this.isPlaying=!1,this.isPreview&&(this.isPreview=!1),this._stop()},pause:function(){this.isPlaying=!1,this._pause()},resume:function(){this.isPlaying=!0,this._resume()},_stop:function(){this.tween&&this.tween.stop()},_pause:function(){this.tween&&this.tween.pause()},_resume:function(){this.tween&&this.tween.resume()},_getRoot:function(t){if(!t)return null;for(var e=t,i=cc.director.getScene(),n=100;e.parent!=i;)if(e=e.parent,n--<0)return e;return e}}),cc._RF.pop()},{}],AniGoto:[function(t,e,i){"use strict";cc._RF.push(e,"07a40O1N2tHKojKOTUynPso","AniGoto"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniAct"),r=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=i.AniGoto_MoveType||(i.AniGoto_MoveType={}));var s=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.target=null,i.moveType=n.DURATION,i.speed=500,i.speed_acceleration=0,i.duration=1,i._runnedTime=0,i._orinPos=cc.Vec2.ZERO,i.easeInOut=[],i.curvePoint=null,i._curveBezier=null,i.curveLength=5,i._easeBezier=null,i._setProp(e,"actorNode"),i._setProp(e,"target"),i._setProp(e,"moveType"),i._setProp(e,"speed"),void 0!=e.acceleration&&(i.speed_acceleration=e.acceleration),i._setProp(e,"curve"),i._setProp(e,"duration"),i._setProp(e,"easeInOut"),i._setProp(e,"curvePoint"),i._setProp(e,"curveLength"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=(this._getTargetWorldPos(),this._getLocalPos(this._getTargetWorldPos(),e.parent));if(this.moveType==n.SPEED){this.speed+=this.speed_acceleration*t;var o=e.position;if(i.sub(o).mag()<5)return void this.stop();var s=r.Mathf.moveTowardV2(o,i,this.speed*t);e.setPosition(s)}else if(this.moveType==n.DURATION){var a=this._runnedTime/this.duration;this._easeBezier&&(a=this._easeBezier.compute(a));var c=r.Mathf.lerpV2(this._orinPos,i,a);e.setPosition(c),this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}}},e.prototype._play=function(){this._runnedTime=0,this._orinPos=this.actorNode.position;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=r.BezierData.easyBezier(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){return this.target instanceof cc.Node?this._getWorldPos(this.target):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):void 0},e.prototype._getWorldPos=function(t){return t.parent.convertToWorldSpaceAR(t.position)},e.prototype._getLocalPos=function(t,e){return e.convertToNodeSpaceAR(t)},e}(o.AniAct);i.AniGoto=s,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniLookAt:[function(t,e,i){"use strict";cc._RF.push(e,"19711CsahJC15uCKy3TsdZL","AniLookAt"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniAct"),o=t("../../../Uzil"),r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.target=null,i._speed=0,i._initialSpeed=0,i.acceleration=0,i.duration=-1,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"target"),i._setProp(e,"speed"),i._setProp(e,"acceleration"),i._setProp(e,"duration"),i}return __extends(e,t),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._initialSpeed=t,this._speed=t},enumerable:!0,configurable:!0}),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetAngle();this._speed+=this.acceleration*t,e.rotation=o.Mathf.rotateToward(e.rotation,i,this._speed*t),e.rotation==i?this._speed=0:this._speed=this._initialSpeed,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this.speed=this._initialSpeed},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetPos=function(){return this.target instanceof cc.Node?this.target.parent.convertToWorldSpaceAR(this.target.position):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):cc.Vec2.ZERO},e.prototype._getSelfPos=function(){return this.actorNode.parent.convertToWorldSpaceAR(this.actorNode.position)},e.prototype._getTargetAngle=function(){var t=this._getSelfPos(),e=this._getTargetPos().sub(t).signAngle(cc.Vec2.UP);return e=cc.misc.radiansToDegrees(e),e=o.Mathf.validAngle(e)},e}(n.AniAct);i.AniLookAt=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniMove:[function(t,e,i){"use strict";cc._RF.push(e,"bbd79emhq1Dx418gJ952tDS","AniMove"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniAct");(function(t){t[t.VELOCITY=0]="VELOCITY"})(n=i.AniMove_MoveType||(i.AniMove_MoveType={}));var r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.moveType=n.VELOCITY,i.velocity=cc.Vec2.ZERO,i.acceleration=cc.Vec2.ZERO,i.duration=5,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"moveType"),e.velocity&&(i.velocity=e.velocity),e.acceleration&&(i.acceleration=e.acceleration),e.duration&&(i.duration=e.duration),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;if(this.moveType==n.VELOCITY){this.velocity.addSelf(this.acceleration.mul(t));var i=e.position;i.addSelf(this.velocity.mul(t)),e.setPosition(i)}this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(o.AniAct);i.AniMove=r,cc._RF.pop()},{"../AniAct":"AniAct"}],AniPath:[function(t,e,i){"use strict";cc._RF.push(e,"58ed2pdBphLKr9yMScNUnJv","AniPath"),Object.defineProperty(i,"__esModule",{value:!0});var n,o,r=t("../AniAct"),s=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=i.AniPath_MoveType||(i.AniPath_MoveType={})),function(t){t[t.LOOP=0]="LOOP",t[t.PINGPONG=1]="PINGPONG",t[t.ONCE=2]="ONCE"}(o=i.AniPath_WrapType||(i.AniPath_WrapType={}));var a=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.path=[],i.isPathClosure=!0,i._currentPathIdx=-1,i._nextPathNormal=1,i.moveType=n.SPEED,i.wrapType=o.LOOP,i.speed=0,i.duration=5,i._runnedTime=0,i.curve=null,i._setProp(e,"actorNode"),e.path&&(i.path=e.path.slice()),i._setProp(e,"isPathClosure"),i._setProp(e,"moveType"),i._setProp(e,"wrapType"),i._setProp(e,"speed"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetLocalPos(),r=e.position;if(this.moveType==n.SPEED){var a=s.Mathf.moveTowardV2(r,i,this.speed*t);e.setPosition(a)}else if(this.moveType==n.DURATION){a=s.Mathf.moveTowardV2(r,i,this.speed*t);e.setPosition(a)}e.position.equals(i)&&(this._currentPathIdx+=this._nextPathNormal,this.wrapType==o.LOOP?this._currentPathIdx>=this._getPathCount()&&(this.isPathClosure?this._currentPathIdx=0:(e.setPosition(this._getTargetLocalPos(0)),this._currentPathIdx=1)):this.wrapType==o.PINGPONG?(this._currentPathIdx>=this._getPathCount()||this._currentPathIdx<0)&&(this._nextPathNormal*=-1,this._currentPathIdx+=this._nextPathNormal):this.wrapType==o.ONCE&&this._currentPathIdx>=this._getPathCount()&&this.stop())}},e.prototype._play=function(){if(this._nextPathNormal=1,this._currentPathIdx=0,this._runnedTime=0,this.isPathClosure&&this.path.length>0&&this.path.push(this.path[0]),this.moveType==n.SPEED);else if(this.moveType==n.DURATION){var t=this._getPathLength();this.speed=this._getSpeed(t,0,this.duration)}this.actorNode.setPosition(this._getTargetLocalPos(0))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){void 0===t&&(t=-1),-1==t&&(t=this._currentPathIdx);var e=this.path[t];return null==e?cc.Vec2.ZERO:e instanceof cc.Node?e.parent.convertToWorldSpaceAR(e.position):e instanceof cc.Vec2?this._getFixedWorldPos(e):void 0},e.prototype._getTargetLocalPos=function(t){void 0===t&&(t=-1);var e=this._getTargetWorldPos(t);return this.actorNode.parent.convertToNodeSpaceAR(e)},e.prototype._getPathCount=function(){return this.path.length},e.prototype._getPathLength=function(){if(this.path.length<=0)return 0;for(var t=0,e=this._getTargetWorldPos(0),i=1;i<this.path.length;i++){var n=this._getTargetWorldPos(i);t+=n.sub(e).mag(),e=n}return t},e.prototype._getSpeed=function(t,e,i){return(t-e*Math.pow(i,2)/2)/this.duration},e}(r.AniAct);i.AniPath=a,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniSpin:[function(t,e,i){"use strict";cc._RF.push(e,"716c2EyYtBFq4e88zUywxRa","AniSpin"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.speed=0,i.acceleration=0,i.curve=null,i.duration=5,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"speed"),i._setProp(e,"acceleration"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;this.speed+=this.acceleration*t,e.rotation+=this.speed*t,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").AniAct);i.AniSpin=n,cc._RF.pop()},{"../AniAct":"AniAct"}],AniSpiral:[function(t,e,i){"use strict";cc._RF.push(e,"38ee7xzqvFCspNmJuj+tm8R","AniSpiral"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniAct"),o=t("../../../Uzil");(function(t){t[t.CONTINUED=0]="CONTINUED",t[t.PINGPONG=1]="PINGPONG"})(i.AniSpiral_WrapType||(i.AniSpiral_WrapType={}));var r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.target=null,i.wrapType=-1,i.currentAngle=-1,i.initialAngle=-1,i.rotateNormal=1,i.rotateSpeed=0,i.rotateAcceleration=0,i.radius=1,i.radiusNormal=1,i.radiusSpeed=0,i.curve=null,i._setProp(e,"actorNode"),i._setProp(e,"target"),i._setProp(e,"wrapType"),i._setProp(e,"initialAngle"),i._setProp(e,"rotateNormal"),i._setProp(e,"rotateSpeed"),i._setProp(e,"rotateAcceleration"),i._setProp(e,"radius"),i._setProp(e,"radiusNormal"),i._setProp(e,"radiusSpeed"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetLocalPos();e.getPosition();this.rotateSpeed+=this.rotateAcceleration*this.rotateNormal*t,this.currentAngle+=this.rotateSpeed*this.rotateNormal*t,this.radius+=this.radiusSpeed*this.radiusNormal*t;var n=o.Mathf.angleToVec2(this.currentAngle),r=i.add(n.normalize().mul(this.radius));e.setPosition(r)}},e.prototype._play=function(){var t=this.initialAngle,e=this._getTargetLocalPos().sub(this.actorNode.position);t<=-1&&(t=cc.Vec2.UP.signAngle(e),t=cc.misc.radiansToDegrees(t),this.initialAngle=t),this.currentAngle=t,this.radius<=-1&&(this.radius=e.mag())},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){if(this.target instanceof cc.Node){var t=this.target;return t.parent.convertToWorldSpaceAR(t.getPosition())}if(this.target instanceof cc.Vec2)return this._getFixedWorldPos(this.target)},e.prototype._getTargetLocalPos=function(){var t=this._getTargetWorldPos();return this.actorNode.parent.convertToNodeSpaceAR(t)},e}(n.AniAct);i.AniSpiral=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniSwing:[function(t,e,i){"use strict";cc._RF.push(e,"83dceZaqyNAfY5EnStqJA4T","AniSwing"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniAct"),o=t("../../../Uzil"),r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.angles=[],i._currentAngleIdx=-1,i._nextNormal=1,i.currentAngle=-1,i.speed=0,i.easeInOut=[],i._easeBezier=null,i.curve=null,i.duration=-1,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"angles"),i._setProp(e,"speed"),i._setProp(e,"easeInOut"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetAngle();if(e.rotation==i){var n=this._currentAngleIdx+this._nextNormal;(n>=this.angles.length||n<0)&&(this._nextNormal*=-1),this._currentAngleIdx+=this._nextNormal,i=this._getTargetAngle()}var r=this._getLastAngle();this.currentAngle=o.Mathf.moveToward(this.currentAngle,i,this.speed*t);var s=this.currentAngle;if(this._easeBezier){var a=1-(i-this.currentAngle)/(i-r),c=this._easeBezier.compute(a);s=cc.misc.lerp(r,i,c)}e.rotation=s,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this._currentAngleIdx=0,this.currentAngle=this._getTargetAngle(),this._currentAngleIdx=1;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=o.BezierData.easyBezier(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetAngle=function(){return 0==this.angles.length?0:this.angles[this._currentAngleIdx]},e.prototype._getLastAngle=function(){if(0==this.angles.length)return 0;var t=this._currentAngleIdx-this._nextNormal;return this.angles[t]},e}(n.AniAct);i.AniSwing=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniTemplate:[function(t,e,i){"use strict";cc._RF.push(e,"c5aecoIFxJCGoKlX45fRLeK","AniTemplate"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._update=function(t){},e.prototype._play=function(){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").AniAct);i.AniTemplate=n,cc._RF.pop()},{"../AniAct":"AniAct"}],AniTween:[function(t,e,i){"use strict";cc._RF.push(e,"fa15fBO5RRMxLJZioowH2ty","AniTween"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=t("../index_AniTween"),r=function(){function t(){this.isPlaying=!1,this.currentIdx=-1,this.currentAct=null,this.actQueue=[],this._updateTask=null}return t.prototype.update=function(t){this.isPlaying&&this.currentAct.update(t)},t.prototype.play=function(){for(var t=this,e=0;e<t.actQueue.length;e++){var i=t.actQueue[e];i.onEnd.remove("playNext"),i.onEnd.add(function(){t.playNext()}).name("playNext")}t._updateTask=n.Invoker.update(function(e){t.update(e)}),t.isPlaying=!0,t.playNext()},t.prototype.stop=function(){n.Invoker.stop(this._updateTask),this.isPlaying=!1,this.currentIdx=-1},t.prototype.pause=function(){this.isPlaying=!1},t.prototype.resume=function(){this.isPlaying=!0},t.prototype.queue=function(t){return this.actQueue.push(t),this},t.prototype.playNext=function(){this.currentIdx++,this.currentIdx>=this.actQueue.length?this.stop():(this.currentAct=this.actQueue[this.currentIdx],this.currentAct.play())},t.prototype.move=function(t){return this.queue(new o.AniMove(t))},t.prototype.goto=function(t){return this.queue(new o.AniGoto(t))},t.prototype.spin=function(t){return this.queue(new o.AniSpin(t))},t.prototype.swing=function(t){return this.queue(new o.AniSwing(t))},t.prototype.lookAt=function(t){return this.queue(new o.AniLookAt(t))},t.prototype.around=function(t){return this.spiral(t)},t.prototype.spiral=function(t){return this.queue(new o.AniSpiral(t))},t.prototype.path=function(t){return this.queue(new o.AniPath(t))},t.prototype.collect=function(t){return this.queue(new o.AniCollect(t))},t}();i.AniTween=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_AniTween":"index_AniTween"}],AnimClip:[function(t,e,i){"use strict";cc._RF.push(e,"3652asiaJBLv5UL+3IP35Bn","AnimClip"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=""),this.name="",this.mixAlpha=1,this.trackIdx=0,this.isLoop=!1,this.name=t}return t.prototype.alpha=function(t){return this.mixAlpha=t,this},t.prototype.track=function(t){return this.trackIdx=t,this},t.prototype.loop=function(t){return void 0===t&&(t=!0),this.isLoop=t,this},t}();i.AnimClip=n,cc._RF.pop()},{}],AnimCondition:[function(t,e,i){"use strict";cc._RF.push(e,"e68a2H7WANPz5hqPa35eYAl","AnimCondition"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=function(){function t(t,e,i){this.toCompare=0,this.comparer=n.Comparer.equal,this.parameterKey="",this.parameterKey=t,this.comparer=e,this.toCompare=i}return t.prototype.isPass=function(t){var e=this.parameterKey;if(!e||""==e)return!1;var i=t[e];return null!=i&&void 0!=i&&this._compare(i,this.toCompare,this.comparer)},t.prototype._compare=function(t,e,i){switch(i){case n.Comparer.equal:return t==e||JSON.parse(t)==JSON.parse(e);case n.Comparer.not_equal:return t!=e||JSON.parse(t)!=JSON.parse(e);case n.Comparer.greater:return t>e;case n.Comparer.greater_equal:return t>=e;case n.Comparer.less:return t<e;case n.Comparer.less_equal:return t<=e}return!1},t}();i.AnimCondition=o,cc._RF.pop()},{"../../../Uzil":"Uzil"}],AnimFactory:[function(t,e,i){"use strict";cc._RF.push(e,"9b3bdMLSNJGo5wMPgGyCLBZ","AnimFactory"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Animator"),o=function(){function t(){}return t.createClip=function(e){if(0==t.validate(e,["name"]))return null;var i=new n.AnimClip(e.name),o=e.track;o&&(i.trackIdx=o);var r=e.isLoop;return null!=r&&(i.isLoop=JSON.parse(r)),i},t.createState=function(e){if(0==t.validate(e,["name"]))return null;var i=new n.AnimState(e.name),o=e.clips;if(o)for(var r=0,s=o;r<s.length;r++){var a=s[r],c=this.createClip(a);i.addClip(c)}var u=e.transitions;if(u)for(var p=0,l=u;p<l.length;p++){a=l[p];var h=this.createTransition(a);i.addTransition(h)}return i},t.createTransition=function(e){if(0==t.validate(e,["nextState"]))return null;var i=new n.AnimTransition,o=e.conditions;if(o)for(var r=0,s=o;r<s.length;r++){var a=s[r],c=this.createCondition(a);i.addCondition(c)}var u=e.nextState;u&&(i.nextState=u);var p=e.exitTime;null!=p&&(i.exitTime=parseFloat(p));var l=e.mixTime;return l&&(i.mixTime=parseFloat(l)),i},t.createCondition=function(e){return 0==t.validate(e,["key","comparer","value"])?null:new n.AnimCondition(e.key,e.comparer,e.value)},t.validate=function(t,e){for(var i=0,n=e;i<n.length;i++){if(void 0==t[n[i]])return!1}return!0},t}();i.AnimFactory=o,cc._RF.pop()},{"../../index_Animator":"index_Animator"}],AnimState:[function(t,e,i){"use strict";cc._RF.push(e,"8c0d7MSCktBf5i1gdkSMVQc","AnimState"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=""),this._name="",this.animClips=[],this.transitions=[],this.name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name?this._name:this.animClips.length>0?this.animClips[0].name:void 0},set:function(t){this._name=t},enumerable:!0,configurable:!0}),t.prototype.addTransition=function(t){return this.transitions.push(t),this},t.prototype.addClip=function(t){return this.animClips.push(t),this},t}();i.AnimState=n,cc._RF.pop()},{}],AnimTransition:[function(t,e,i){"use strict";cc._RF.push(e,"7c163ndjllAWI2adJGTAvOO","AnimTransition"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.exitTime=1,this.conditions=[],this.mixTime=0,this.nextState=null}return t.prototype.isPass=function(t){for(var e=0,i=this.conditions;e<i.length;e++){if(0==i[e].isPass(t))return!1}return!0},t.prototype.addCondition=function(t){return this.conditions.push(t),this},t.prototype.next=function(t){return this.nextState=t.name,this},t}();i.AnimTransition=n,cc._RF.pop()},{}],Animator:[function(t,e,i){"use strict";cc._RF.push(e,"9116d8p+qNAK7wSkIGNlxB3","Animator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Animator"),o=t("../../../Uzil"),r=t("../../../AudioMng/index_AudioMng"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultState="",e.animatorFile=null,e.states=[],e.parameter={},e.isPlaying=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._getTimeScale()},set:function(t){this._setTimeScale(t)},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){var t=this;if(this.animatorFile){var e=o.Objf.clone(this.animatorFile.json).build;e&&this.load(e)}this.onComplete(function(){t._checkTransition(1)}),this._onLoad()},e.prototype._onLoad=function(){},e.prototype.start=function(){this._start()},e.prototype._start=function(){},e.prototype.update=function(t){this._update(),this._checkTransition()},e.prototype._update=function(){},e.prototype.load=function(t){var e=t.defaultState;e&&""!=e&&(this.defaultState=e);var i=[].concat(t.states);if(i)for(var r=0,s=i;r<s.length;r++){var a=s[r],c=n.AnimFactory.createState(a);this.addState(c)}var u=o.Objf.clone(t.parameter);return u&&(this.parameter=u),this.defaultState?this.play(this.defaultState):this.states.length>0&&this.playState(this.states[0]),this},e.prototype.set=function(t,e){return this.parameter[t]=e,this},e.prototype.play=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.name==t){this.playState(n);break}}},e.prototype.playState=function(t){if(t){this.isPlaying=!0,this.currentState=t;var e=t.animClips;if(0!=e.length){var i=e[0];if(this._play(i),e.length>1)for(var n=1;n<e.length;n++)this._playAdditive(e[n])}}else this.stop()},e.prototype.stop=function(){this.isPlaying=!1,this._stop()},e.prototype.pause=function(){this.isPlaying=!1,this._pause()},e.prototype.resume=function(){this.isPlaying=!0,this._resume()},e.prototype.getNormalizedTime=function(){return this._getNormalizedTime()},e.prototype.onEventOnce=function(t,e){this._onEvent(t,e,!0)},e.prototype.onEvent=function(t,e){this._onEvent(t,e,!1)},e.prototype.onCompleteOnce=function(t){this._onComplete(t,!0)},e.prototype.onComplete=function(t){this._onComplete(t,!1)},e.prototype.onTimeOnce=function(t,e){this._onTime(t,e,!0)},e.prototype.onTime=function(t,e){this._onTime(t,e,!1)},e.prototype.addState=function(t){return this.states.push(t),this},e.prototype.removeState=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.name==t){this.states.splice(this.states.indexOf(n),1);break}}},e.prototype.getState=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.name==t)return n}return null},e.prototype._enter=function(t){var e=this.getState(t.nextState);this.currentState=e,this.playState(this.currentState)},e.prototype._checkTransition=function(t){if(void 0===t&&(t=-1),this.currentState){var e=this.getNormalizedTime();-1!=t&&(e=t);for(var i=0,n=this.currentState.transitions;i<n.length;i++){var o=n[i];if(!(-1!=o.exitTime&&e<o.exitTime)&&o.isPass(this.parameter)){this._enter(o);break}}}},e.prototype._playAudio=function(t){r.AudioMng.play(t)},e.prototype._play=function(t){},e.prototype._playAdditive=function(t){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getNormalizedTime=function(){return 0},e.prototype._onEvent=function(t,e,i){},e.prototype._onComplete=function(t,e){},e.prototype._onTime=function(t,e,i){},e.prototype._setTimeScale=function(t){},e.prototype._getTimeScale=function(){return 0},__decorate([c()],e.prototype,"defaultState",void 0),__decorate([c(cc.JsonAsset)],e.prototype,"animatorFile",void 0),e=__decorate([a],e)}(cc.Component);i.Animator=u,cc._RF.pop()},{"../../../AudioMng/index_AudioMng":"index_AudioMng","../../../Uzil":"Uzil","../../index_Animator":"index_Animator"}],AudioMng:[function(t,e,i){"use strict";cc._RF.push(e,"21e8f2mQr1FIKu9BdYiiD3e","AudioMng"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id2AudioObj=new Map,e}return __extends(e,t),e.getInstance=function(){return n.Uzil.getComp("AudioMng")},e.play=function(t){this.getInstance().play(t)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.register=function(t,e){this.id2AudioObj.set(t,e)},e.prototype.get=function(t){return 0==this.id2AudioObj.has(t)?null:this.id2AudioObj.get(t)},e.prototype.play=function(t){var e=this.get(t);e&&e.play()},e.instance=null,e=__decorate([r],e)}(cc.Component));i.AudioMng=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],AudioObj:[function(t,e,i){"use strict";cc._RF.push(e,"5423cT2p35KvZVGxvYZ/wpZ","AudioObj"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_AudioMng"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioSource=null,e.audioID="",e}return __extends(e,t),e.prototype.onLoad=function(){null==this.audioSource&&(this.audioSource=this.getComponent(cc.AudioSource),null==this.audioSource)||n.AudioMng.getInstance().register(this.audioID,this)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(){this.audioSource.play()},__decorate([s(cc.AudioSource)],e.prototype,"audioSource",void 0),__decorate([s()],e.prototype,"audioID",void 0),e=__decorate([r],e)}(cc.Component);i.AudioObj=a,cc._RF.pop()},{"../index_AudioMng":"index_AudioMng"}],AutoSelectItem:[function(t,e,i){"use strict";cc._RF.push(e,"4a763GQ4iJEe5W/rY+zRDlG","AutoSelectItem"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idx=-1,e.val=-1,e.onSelect=new n.Event,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.onSelect_call=function(){this.onSelect.call(this.idx,this.val)},__decorate([s()],e.prototype,"idx",void 0),__decorate([s()],e.prototype,"val",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],AutoSelect:[function(t,e,i){"use strict";cc._RF.push(e,"712b9CAMylPP6loYNTrq6e0","AutoSelect"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=t("./AutoSelectItem"),r=t("../../Res/AutoStatusRes"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShow=!1,e.isInteractable=!1,e.currentIdx=-1,e.currentVal=-1,e.itemContainer=null,e.showBtnNode=null,e.cancelBtnNode=null,e.statusNode=null,e.statusImg=null,e.block=null,e.items=[],e.onShow=new n.Event,e.onCancel=new n.Event,e.onSelect=new n.Event,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=this,e=0,i=this.items;e<i.length;e++){i[e].onSelect.add(function(e,i){t.select(i)})}this.reset()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.setActive=function(t){!t&&this.isShow&&this.hide(),this.isInteractable=t},e.prototype.show=function(){this.isShow||(this.itemContainer.active=!0,this.cancelBtnNode.active=!0,this.showBtnNode.active=!1,this.statusNode.active=!1,this.block.active=!0,this.isShow=!0)},e.prototype.hide=function(){this.isShow&&(this.itemContainer.active=!1,this.cancelBtnNode.active=!1,-1==this.currentIdx?(this.showBtnNode.active=!0,this.statusNode.active=!1):this.statusNode.active=!0,this.block.active=!1,this.isShow=!1)},e.prototype.reset=function(){this.itemContainer.active=!1,this.cancelBtnNode.active=!1,this.showBtnNode.active=!0,this.statusNode.active=!1,this.statusImg.spriteFrame=null,this.block.active=!1,this.currentIdx=-1,this.currentVal=-1,this.isShow=!1},e.prototype.setStatus=function(t){this.statusNode.active=!0,this.statusImg.spriteFrame=r.default.instance.status[t],this.showBtnNode.active=!1},e.prototype.getVal=function(t){return this.items[t].val},e.prototype.select=function(t){this.currentIdx=t;var e=this.getVal(t);this.currentVal=e,this.hide(),this.setStatus(t),this.onSelect.call(t,e)},e.prototype.onShow_call=function(){this.isInteractable&&(this.show(),this.onShow.call())},e.prototype.onCancel_call=function(){this.isInteractable&&(this.currentIdx=-1,this.currentVal=-1,this.hide(),this.onCancel.call())},__decorate([c(cc.Node)],e.prototype,"itemContainer",void 0),__decorate([c(cc.Node)],e.prototype,"showBtnNode",void 0),__decorate([c(cc.Node)],e.prototype,"cancelBtnNode",void 0),__decorate([c(cc.Node)],e.prototype,"statusNode",void 0),__decorate([c(cc.Sprite)],e.prototype,"statusImg",void 0),__decorate([c(cc.Node)],e.prototype,"block",void 0),__decorate([c(o.default)],e.prototype,"items",void 0),e=__decorate([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil","../../Res/AutoStatusRes":"AutoStatusRes","./AutoSelectItem":"AutoSelectItem"}],AutoStatusRes:[function(t,e,i){"use strict";cc._RF.push(e,"4d0e3C2IltDHrnK/CS2hhM1","AutoStatusRes"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.status=[],e}var i;return __extends(e,t),i=e,e.prototype.onLoad=function(){i.instance=this},e.prototype.start=function(){},e.prototype.update=function(t){},e.instance=null,__decorate([r(cc.SpriteFrame)],e.prototype,"status",void 0),e=i=__decorate([o],e)}(cc.Component);i.default=s,cc._RF.pop()},{}],BetTool:[function(t,e,i){"use strict";cc._RF.push(e,"d8b6cEWK9ZMvrfWVOTFR0OL","BetTool"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betAmount=0,e.betAmountSet=[],e.betAmountSetJson=null,e.betAmountIdx=0,e.betAmountText=null,e.betBtn=null,e.subBetBtn=null,e.addBetBtn=null,e._isContinue=!1,e.continueBtn=null,e.fallbackBtn=null,e.clearBtn=null,e.onBetUpdate=new n.Event,e.onBet=new n.Event,e.onContinueChange=new n.Event,e.onFallback=new n.Event,e.onClear=new n.Event,e}return __extends(e,t),Object.defineProperty(e.prototype,"isContinue",{get:function(){return this._isContinue},set:function(t){this.setContinue(t)},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){if(null!=this.betAmountSetJson){var t=this.betAmountSetJson.json;t instanceof Array&&(this.betAmountSet=t)}this.betAmountSet.length>0&&this.betAmountIdx>=0&&this.betAmountIdx<this.betAmountSet.length&&this.setBet(this.betAmountSet[this.betAmountIdx])},e.prototype.onAddBet_call=function(){if(!(this.betAmountIdx>=this.betAmountSet.length-1)){var t=this.betAmountIdx+1;-1==this.betAmountIdx&&(t=this._getNearestBetIdx(this.betAmount,1)),this.betAmountIdx=t,this.setBet(this.betAmountSet[this.betAmountIdx])}},e.prototype.onSubBet_call=function(){if(0!=this.betAmountIdx){var t=this.betAmountIdx-1;-1==this.betAmountIdx&&(t=this._getNearestBetIdx(this.betAmount,-1)),this.betAmountIdx=t,this.setBet(this.betAmountSet[this.betAmountIdx])}},e.prototype.onBet_call=function(){this.onBet.call(this.betAmount)},e.prototype.onContinue_call=function(){this.setContinue(!this._isContinue)},e.prototype.onFallback_call=function(){this.onFallback.call()},e.prototype.onClear_call=function(){this.onClear.call()},e.prototype.setActive=function(t){this.setControlActive(t),this.setBetAmountActive(t)},e.prototype.setBetAmountActive=function(t){this.addBetBtn.interactable=t,this.subBetBtn.interactable=t},e.prototype.setControlActive=function(t){this.betBtn.interactable=t,this.fallbackBtn.interactable=t,this.clearBtn.interactable=t},e.prototype.setBet=function(t){this.betAmount=t,this.betAmountIdx=this.betAmountSet.indexOf(t),this.betAmountText.string=this.betAmount.toLocaleString("en-us"),this.onBetUpdate.call(this.betAmount)},e.prototype.setContinue=function(t){var e=this._isContinue,i=e!=t;this._isContinue=t,this._isContinue?this.continueBtn.target.color=cc.Color.GRAY:this.continueBtn.target.color=cc.Color.WHITE,i&&this.onContinueChange.call(e,this._isContinue)},e.prototype._getNearestBetIdx=function(t,e){if(void 0===e&&(e=0),0==this.betAmountSet.length)return-1;for(var i=-1,n=Math.abs(this.betAmountSet[0]-t),o=1;o<this.betAmountSet.length;o++){var r=this.betAmountSet[o];if(e<0){if(t<r)continue}else if(e>0&&t>r)continue;var s=Math.abs(r-t);s<n&&(i=o,n=s)}return i},__decorate([s({type:cc.Integer})],e.prototype,"betAmountSet",void 0),__decorate([s(cc.JsonAsset)],e.prototype,"betAmountSetJson",void 0),__decorate([s(cc.Label)],e.prototype,"betAmountText",void 0),__decorate([s(cc.Button)],e.prototype,"betBtn",void 0),__decorate([s(cc.Button)],e.prototype,"subBetBtn",void 0),__decorate([s(cc.Button)],e.prototype,"addBetBtn",void 0),__decorate([s(cc.Button)],e.prototype,"continueBtn",void 0),__decorate([s(cc.Button)],e.prototype,"fallbackBtn",void 0),__decorate([s(cc.Button)],e.prototype,"clearBtn",void 0),e=__decorate([r],e)}(cc.Component);i.BetTool=a,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],BezierData:[function(t,e,i){"use strict";cc._RF.push(e,"e9dc1ftps9I0a60t8EyA6I+","BezierData"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../lib/bezier"),o=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._bezier=null,this._bezier=new n.default(t)}return t.easyBezier=function(e,i,n,o){return new t(0,0,e,i,n,o,1,1)},t.prototype.compute=function(t){return this._bezier.compute(t)},t.prototype.length=function(){return this._bezier.length()},t.prototype.intersects=function(t){return this._bezier.intersects(t)},t}();i.BezierData=o,cc._RF.pop()},{"../lib/bezier":"bezier"}],Card:[function(t,e,i){"use strict";cc._RF.push(e,"1e397UZnN9IgqCmn/OVYNkB","Card"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_PageCard"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="_anonymous",e.scopes=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"isActive",{get:function(){return this.node.active},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){if(0==this.scopes.length)n.PageCtrl.getInstance().registerCard(this);else for(var t=0,e=this.scopes;t<e.length;t++){var i=e[t];n.PageCtrl.getInstance(i).registerCard(this)}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.active=function(t){void 0===t&&(t=!1),!t&&this.isActive||(this.node.active=!0,this._onActive())},e.prototype.deactive=function(t){void 0===t&&(t=!1),(t||this.isActive)&&(this.node.active=!1,this._onDeactive())},e.prototype._onActive=function(){},e.prototype._onDeactive=function(){},__decorate([s()],e.prototype,"id",void 0),__decorate([s({type:cc.String})],e.prototype,"scopes",void 0),e=__decorate([r],e)}(cc.Component);i.Card=a,cc._RF.pop()},{"../index_PageCard":"index_PageCard"}],ChipList:[function(t,e,i){"use strict";cc._RF.push(e,"25bb16+rlZGXLbKXnhDlr92","ChipList"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_BetTool"),o=t("../../../uzil/Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e.chipObjs=[],e.chipObjPrefab=null,e.chipSetsContainer=null,e.chipSets=[],e.defaultSelect=0,e.currentSelect=null,e.onClickListener=null,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=this,e=0,i=this.chipSetsContainer.children;e<i.length;e++){var r=i[e];this.chipSets.push(r.getComponent(n.ChipSet))}this.onClickListener=new o.EventListener(function(e,i){t.selectChip(i)}).name("_onClick"),this.loadChips(["500green","1000purple","3000red","5000black","10000blue"]),this.defaultSelect<this.chipObjs.length&&this.selectChip(this.chipObjs[this.defaultSelect])},e.prototype.start=function(){},e.prototype.loadChips=function(t){for(var e=[],i=0;i<t.length;i++){var o=t[i];(c=this._getChipSet(o))&&e.push(c)}if(e.length>this.chipObjs.length)for(i=0;i<e.length;i++){var r=cc.instantiate(this.chipObjPrefab);r.parent=this.container;var s=r.getComponent(n.ChipObj);this.chipObjs.push(s)}else if(e.length<this.chipObjs.length)for(i=e.length;i<this.chipObjs.length;i++){s=this.chipObjs[i];this.chipObjs.splice(this.chipObjs.indexOf(s),1),s.node.destroy()}for(i=0;i<this.chipObjs.length;i++){var a=this.chipObjs[i],c=e[i];a.loadChipSet(c),a.onClick.remove("_onClick"),a.onClick.add(this.onClickListener)}},e.prototype.selectChip=function(t){this.currentSelect=t;for(var e=0,i=this.chipObjs;e<i.length;e++){var n=i[e];n!=this.currentSelect?n.unselect():n.select()}},e.prototype._getChipSet=function(t){for(var e=0,i=this.chipSets;e<i.length;e++){var n=i[e];if(n.id==t)return n}return null},__decorate([a(cc.Node)],e.prototype,"container",void 0),__decorate([a(cc.Prefab)],e.prototype,"chipObjPrefab",void 0),__decorate([a(cc.Node)],e.prototype,"chipSetsContainer",void 0),__decorate([a()],e.prototype,"defaultSelect",void 0),e=__decorate([s],e)}(cc.Component);i.ChipList=c,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_BetTool":"index_BetTool"}],ChipObj:[function(t,e,i){"use strict";cc._RF.push(e,"bfb726OmsdJSpXCcOXwCeVb","ChipObj"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.image=null,e.chipSet=null,e.onClick=new n.Event,e}return __extends(e,t),e.prototype.onChipClick=function(t){this.onClick.call(this)},e.prototype.loadChipSet=function(t){this.chipSet=t,this.image.spriteFrame=this.chipSet.imageNormal},e.prototype.select=function(){this.image.spriteFrame=this.chipSet.imageHighlight,this.image.node.scale=1.2;this.image.node.position},e.prototype.unselect=function(){this.image.spriteFrame=this.chipSet.imageNormal,this.image.node.scale=1},__decorate([s(cc.Sprite)],e.prototype,"image",void 0),e=__decorate([r],e)}(cc.Component);i.ChipObj=a,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],ChipSet:[function(t,e,i){"use strict";cc._RF.push(e,"1cf8dJw8zxIg7aR5+qK22iV","ChipSet"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.imageMini=null,e.imageNormal=null,e.imageHighlight=null,e}return __extends(e,t),__decorate([r()],e.prototype,"id",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"imageMini",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"imageNormal",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"imageHighlight",void 0),e=__decorate([o],e)}(cc.Component);i.ChipSet=s,cc._RF.pop()},{}],CocosAnimator:[function(t,e,i){"use strict";cc._RF.push(e,"6f9d4mpEvRNvpiGm6S0hKcn","CocosAnimator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Animator"),o=t("../../Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e._playedTime=0,e._timeScale=-1,e._currentClip=null,e.onEventList=[],e.onCompleteList=[],e.onTimeList=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){},e.prototype._update=function(){for(var t=this.getNormalizedTime(),e=[],i=0,n=this.onTimeList;i<n.length;i++){t<(s=n[i]).time_percent||(s.isRunedInLoop||(s.func(),s.isRunedInLoop=!0,s.isOnce&&e.push(s)))}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.onTimeList.splice(this.onTimeList.indexOf(s),1)}},e.prototype.callEvent=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=[],o=0,r=this.onEventList;o<r.length;o++){(c=r[o]).eventTag==t&&(c.func(),c.isOnce&&n.push(c))}for(var s=0,a=n;s<a.length;s++){var c=a[s];this.onEventList.splice(this.onEventList.indexOf(c),1)}},e.prototype.callAudio=function(t){this._playAudio(t)},e.prototype._play=function(t){this.animation.play(t.name),this._reRegEvent(),this._playedTime=0,this._currentClip=this.animation.currentClip},e.prototype._playAdditive=function(t){this.animation.playAdditive(t.name)},e.prototype._stop=function(){this.animation.stop(),this._playedTime=0},e.prototype._pause=function(){this.animation.pause()},e.prototype._resume=function(){this.animation.resume()},e.prototype._getNormalizedTime=function(){var t=this._currentClip;if(!t)return-1;var e=this.animation.getAnimationState(t.name),i=t.duration,n=e.time;return(e.wrapMode==cc.WrapMode.Normal||e.wrapMode==cc.WrapMode.Default||e.wrapMode==cc.WrapMode.Reverse)&&n>i?1:n/i%1},e.prototype._onEvent=function(t,e,i){this.onEventList.push({eventTag:t,isOnce:i,func:e})},e.prototype._onComplete=function(t,e){this.onCompleteList.push({isOnce:e,func:t})},e.prototype._onTime=function(t,e,i){this.onTimeList.push({time_percent:t,isOnce:i,func:e,isRunedInLoop:!1})},e.prototype._setTimeScale=function(t){for(var e=0,i=this.animation._clips;e<i.length;e++){var n=i[e];this.animation.getAnimationState(n.name).speed=t}this._timeScale=t},e.prototype._getTimeScale=function(){if(-1!=this._timeScale)return this._timeScale;for(var t=0,e=this.animation._clips;t<e.length;t++){var i=e[t],n=this.animation.getAnimationState(i.name);this._setTimeScale(n.speed);break}return this._timeScale},e.prototype._reRegEvent=function(){this.animation.off("lastframe",this._onLastFrame,this),this.animation.off("finished",this._onLastFrame,this),this.animation.on("lastframe",this._onLastFrame,this),this.animation.on("finished",this._onLastFrame,this)},e.prototype._onLastFrame=function(t){this._playedTime++;for(var e=0,i=this.onTimeList;e<i.length;e++){(c=i[e]).isRunedInLoop=!1}for(var n=[],o=0,r=this.onCompleteList;o<r.length;o++){(c=r[o]).func(),c.isOnce&&n.push(c)}for(var s=0,a=n;s<a.length;s++){var c=a[s];this.onCompleteList.splice(this.onCompleteList.indexOf(c),1)}},e.prototype.example_script=function(){var t=this,e=new n.AnimClip("xMove"),i=new n.AnimClip("yMove"),r=new n.AnimState("stateX");r.addClip(e);var s=new n.AnimState("stateY");s.addClip(e),s.addClip(i);var a=(new n.AnimTransition).next(s);a.exitTime=5;var c=new n.AnimCondition("isToY",o.Comparer.equal,!0);a.addCondition(c);var u=(new n.AnimTransition).next(r);u.exitTime=1,r.addTransition(a),s.addTransition(u),this.addState(r),this.addState(s),this.parameter.isToY=!1,this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove"}],transitions:[{nextState:"stateY",exitTime:5,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove"},{name:"yMove"}],transitions:[{nextState:"stateX",exitTime:1,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},__decorate([a(cc.Animation)],e.prototype,"animation",void 0),e=__decorate([s],e)}(n.Animator);i.CocosAnimator=c,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Animator":"index_Animator"}],Comparer:[function(t,e,i){"use strict";cc._RF.push(e,"5e8a7YmbElJzaBqzaYcImS7","Comparer"),Object.defineProperty(i,"__esModule",{value:!0}),i.Comparer={equal:"==",not_equal:"!=",greater:">",greater_equal:">=",less:"<",less_equal:"<="},cc._RF.pop()},{}],CurveData:[function(t,e,i){"use strict";cc._RF.push(e,"cdd24FqCUlD67H6GWaTRZr5","CurveData"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Curve"),o=t("../../Uzil"),r=t("./PointData"),s=function(){function t(){this.length=0,this.points=[]}return t.create=function(e){var i=new t;return i.init(e),i},t.json=function(e){var i=JSON.parse(e);return t.create(i)},t.prototype.init=function(t){if(this.points=[],t.hasOwnProperty("points"))for(var e=0,i=t.points;e<i.length;e++){var o=i[e],r=n.PointData.create(o);this.points.push(r)}t.hasOwnProperty("length")&&(this.length=t.length)},t.prototype.compute=function(t){return this.getVal(t)},t.prototype.getVal=function(t){if(0==this.points.length)return 0;if(1==this.points.length)return this.points[0].pos.y;var e,i=this.points[0],n=this.points[this.points.length-1],s=(i.pos.x,n.pos.x*o.Mathf.clamp(t,0,this.length)/this.length),a=i,c=n;if(s==a.pos.x)return a.pos.y;if(s==c.pos.x)return c.pos.y;for(var u=1;u<this.points.length;u++){if(!((e=this.points[u]).pos.x<s)){c=e;break}a=e}var p=a.pos.x,l=a.pos.y,h=c.pos.x,d=c.pos.y,f=p+a.easeOut.x,_=l+a.easeOut.y,y=h+c.easeIn.x,v=d+c.easeIn.y,m=a.getEaseOutType();if(m==r.EaseType.constant)return a.pos.y;m==r.EaseType.linear?(f=p,_=l):r.EaseType.free,c.getEaseInType()==r.EaseType.linear?(y=h,v=d):r.EaseType.free;var g=new o.BezierData(p,l,f,_,y,v,h,d),S=g.length(),x={p1:{x:s,y:-S},p2:{x:s,y:S}},A=g.intersects(x);if(0==A.length)return 0;var P=A[0];return g.compute(P).y},t.prototype.getStartVal=function(){return this.getVal(0)},t.prototype.getEndVal=function(){return this.getVal(this.length)},t}();i.CurveData=s,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Curve":"index_Curve","./PointData":"PointData"}],EventBus:[function(t,e,i){"use strict";cc._RF.push(e,"bd4d0I795xEOYNujEC+BkBT","EventBus"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Event"),o=function(){function t(){this.tag2Event={},this.anyEvent=new n.Event}return t.get=function(e){void 0===e&&(e="_default");var i=this._instances[e];return i||(i=new t,this._instances[e]=i),i},t.prototype.post=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this._getEvent(t);o&&o.call.apply(o,i),(e=this.anyEvent).call.apply(e,[t].concat(i))},t.prototype.register=function(t,e){this._getEvent(t).addListener(e)},t.prototype.registerAny=function(t){this.anyEvent.addListener(t)},t.prototype.unregisterTag=function(t){this.tag2Event[t]&&delete this.tag2Event[t]},t.prototype.unregisterID=function(t){for(var e in this.tag2Event)this.tag2Event[e].remove(t);this.anyEvent.remove(t)},t.prototype._getEvent=function(t){var e=this.tag2Event[t];return e||(e=new n.Event,this.tag2Event[t]=e),e},t._instances={},t}();i.EventBus=o,cc._RF.pop()},{"../index_Event":"index_Event"}],EventData:[function(t,e,i){"use strict";cc._RF.push(e,"c8d25aGNodAGovsuA1lE9n1","EventData"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){return function(){this.name="_anonymous",this.data={},this.args=[],this.event=null,this.stop=function(){},this.wait=function(){},this.next=function(){}}}();i.EventData=n,cc._RF.pop()},{}],EventListener:[function(t,e,i){"use strict";cc._RF.push(e,"3ca3ddYbuxDxIKeojQ/ULYn","EventListener"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=function(){}),this.id=void 0,this.func=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log("do something")},this.priority=0,this.callTime=-1,this.func=t}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t.prototype.pry=function(t){return this.priority=t,this},t.prototype.sort=function(t){return this.priority=-1*t,this},t.prototype.name=function(t){return this.id=t,this},t.prototype.times=function(t){return this.callTime=t,this},t.prototype.once=function(){return this.times(1)},t}();i.EventListener=n,cc._RF.pop()},{}],Event:[function(t,e,i){"use strict";cc._RF.push(e,"f0775amPE1DoKk8RMlLIw3P","Event"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Event"),o=t("../../Uzil"),r=function(){function t(){this.listeners=[],this.args=[],this.data={}}return t.prototype.add=function(t){var e;return t instanceof n.EventListener?(this.addListener(t),e=t):t instanceof Function&&((e=new n.EventListener).func=t,this.addListener(e)),e},t.prototype.addListener=function(t){if(-1==this.listeners.indexOf(t))return this.listeners.push(t),this.sort(),t},t.prototype.addOnce=function(t){return this.addListener(new n.EventListener(t).once())},t.prototype.remove=function(t){if(t instanceof n.EventListener)this.removeListener(t);else if("string"==typeof t)for(var e=0,i=this.listeners.slice();e<i.length;e++){var o=i[e];o.id==t&&this.removeListener(o)}},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1!=e&&this.listeners.splice(e,1)},t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.callData.apply(this,[null].concat(t))},t.prototype.callData=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=new n.EventData;s.event=this;var a=o.Objf.assign({},this.data);a=o.Objf.assign(a,t),s.data=a;var c=i;null!=c&&0!=c.length||(c=this.args),s.args=c.slice();var u=!1,p=!0;s.wait=function(){u=!0},s.stop=function(){p=!1};var l=this.listeners.slice();__awaiter(e,void 0,void 0,function(){var t,e,i,n,o=this;return __generator(this,function(r){switch(r.label){case 0:t=function(t){return __generator(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,i){s.next=function(){u&&e()},t.callTime>0&&(t.callTime--,0==t.callTime&&o.removeListener(t)),t.call.apply(t,[s].concat(c)),0==u&&e()})];case 1:return e.sent(),p?[2]:[2,"break"]}})},e=0,i=l,r.label=1;case 1:return e<i.length?(n=i[e],[5,t(n)]):[3,4];case 2:if("break"===r.sent())return[3,4];r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t.prototype.sort=function(){this.listeners.sort(function(t,e){return e.priority-t.priority})},t}();i.Event=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Event":"index_Event"}],Example_Curve:[function(t,e,i){"use strict";cc._RF.push(e,"85d47+7tLFCFrRdu251EOZH","Example_Curve"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Curve/index_Curve"),o=t("../../System/script/Mathf"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.time=0,e.timeMax=5,e}return __extends(e,t),e.prototype.start=function(){this.curve=n.CurveData.create({points:[{pos:[0,-200],easeOut:[25,0],easeType:["weighted"]},{pos:[50,200],easeIn:[-25,0]}],length:2})},e.prototype.update=function(t){if(this.time<=this.timeMax){var e=this.curve.getVal(this.time);this.target.y=e,cc.log("time["+this.time+"] : "+this.target.y),this.time==this.timeMax&&(this.time=this.timeMax+99),this.time=o.Mathf.moveToward(this.time,this.timeMax,t)}},__decorate([a(cc.Node)],e.prototype,"target",void 0),e=__decorate([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{"../../Curve/index_Curve":"index_Curve","../../System/script/Mathf":"Mathf"}],Example_EventBus:[function(t,e,i){"use strict";cc._RF.push(e,"c4930qxLjdMj63QagtKmSVF","Example_EventBus"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=n.EventBus.get();t.register("onDone",new n.EventListener(function(t){cc.log("onDone called 3: "+t)}).pry(1).name("A")),t.register("onDone",new n.EventListener(function(t){cc.log("onDone called 1: "+t)}).pry(3).name("A")),t.register("onDone",new n.EventListener(function(t){cc.log("onDone called 2: "+t)}).pry(2).name("B")),t.registerAny(new n.EventListener(function(t,e){cc.log("onAny called: "+e)}).pry(2).name("B")),t.post("onDone","msg is here"),t.unregisterID("A"),t.post("onDone","after unregister A"),t.unregisterTag("onDone"),t.post("onDone","after unregister onDone"),t.unregisterID("B"),t.post("onDone","after unregister B")},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.Example_EventBus=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Event:[function(t,e,i){"use strict";cc._RF.push(e,"8d1c9f4bklCK6x3BfsLxsX5","Example_Event"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=new n.Event;t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log(t.data.msg),cc.log(t.args[0]+" | "+e[0]),t.data.msg="\u8986\u84cb\u5f8c\u7684\u8cc7\u6599A",t.args[0]="\u8986\u84cb\u5f8c\u7684\u53c3\u65781"}).sort(1)),t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log(t.data.msg),cc.log(t.args[0]+" | "+e[0])}).sort(5)),t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log("=================================")}).sort(10)),t.data.msg="\u9810\u8a2d\u8cc7\u6599A",t.args.push("\u9810\u8a2d\u53c3\u65781"),t.call(),n.Invoker.invoke(function(){t.callData({msg:"\u547c\u53eb\u8cc7\u6599A"},"\u547c\u53eb\u53c3\u65781")},5),t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log("\u7b49\u50195\u79d2"),t.wait(),n.Invoker.invoke(function(){t.next()},5)}).sort(3))},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.Example_Event=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Invoker:[function(t,e,i){"use strict";cc._RF.push(e,"ab8fcJ6Oj1EoY8MGR7RqoFN","Example_Invoker"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=n.Invoker.update(function(){cc.log("updating")});n.Invoker.invoke(function(){cc.log("after 5 sec"),n.Invoker.stop(t)},5),(new n.InvokerQueue).add(function(){cc.log(2)},30).add(function(){cc.log(3)},10).add(function(){cc.log(1)},50).run()},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Shuriken:[function(t,e,i){"use strict";cc._RF.push(e,"fd22b49MSNMM5zz2dFATWM3","Example_Shuriken"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.root=null,e.shuriken=new n.ShurikenSystem,e}return __extends(e,t),e.prototype.start=function(){this.shuriken.container=this.root,this.shuriken.shurikenSource=this.prefab,this.shuriken.emitter=new n.ShurikenEmitter_Base,this.shuriken.start()},e.prototype.update=function(t){},__decorate([s(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([s(cc.Node)],e.prototype,"root",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../../Uzil":"Uzil"}],GameDirector:[function(t,e,i){"use strict";cc._RF.push(e,"97c30l5Yb5NhrOGgPTwv/v0","GameDirector"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../import/uzil/Uzil"),o=t("../import/ArcaComm/index_ArcaComm"),r=t("./WuBattle/WuCardPanel"),s=t("./ServerMod/GameServerMod"),a=t("./WuBattle/SelectCardPanel/SelectCardPanel"),c=t("./GameUI/AutoSelect/AutoSelect"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isReadyNextBet=!1,e.ticketInfo=null,e.isReadyWin=!1,e.winData=null,e._playerCredit=-1,e._isSelectable=!1,e.lastSelects=[],e.lastAutoSelect=-1,e.lastBet=-1,e.gameServer=null,e.stateCtrl=null,e.betTool=null,e.playerInfo=null,e.gameInfoPanel=null,e.turnMsgPanel=null,e.timeCounter=null,e.resultPanel=null,e.playerWuCardPanel=null,e.enemyWuCardPanel=null,e.selectCardPanel=null,e.autoSelectPanel=null,e.blackBGAnim=null,e.debug_state=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"isSelectable",{get:function(){return this._isSelectable},set:function(t){this._isSelectable=t,this.selectCardPanel.setActive(t),this.autoSelectPanel.setActive(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"betAmount",{get:function(){return this.betTool.betAmount},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(t){return void 0===t&&(t=null),__awaiter(this,void 0,void 0,function(){var e,i,o,r,a,c=this;return __generator(this,function(u){switch(u.label){case 0:return e=this,this.gameServer=new s.default,this.betTool.onBet.add(new n.EventListener(function(){var t=e.playerWuCardPanel.getSymbols();c._playerCredit<c.betAmount||e.sendBet(e.betAmount,t)})),this.betTool.onBetUpdate.add(new n.EventListener(function(){e._checkSelectsAndBet()})),this.betTool.onClear.add(new n.EventListener(function(t){e.clearCardSelect()})),this.betTool.onContinueChange.add(new n.EventListener(function(t,e,i){})),this.betTool.onFallback.add(new n.EventListener(function(t){for(var i=e.playerWuCardPanel.getSymbols(),n=-1,o=i.length-1;o>=0;o--){if(-1!=i[o]){n=o;break}}-1!=n&&(e.playerWuCardPanel.setSymbol(n,-1),e.playerWuCardPanel.setBack(n,-1),e.playerWuCardPanel.highlightCard(n,!1),e.autoSelectPanel.reset())})),this.timeCounter.setLeft(-1,!0),this.autoSelectPanel.onSelect.add(new n.EventListener(function(t,i,n){n>0&&e.clearCardSelect();for(var o=n,r=e._getRandomSymbols(o),s=0;s<o;s++){var a=r[s];e.playerWuCardPanel.setSymbol(s,a),e.playerWuCardPanel.setBack(s,a),e.playerWuCardPanel.highlightCard(s,!0)}c.lastSelects=c.playerWuCardPanel.getSymbols(),c._checkSelectsAndBet(),e.lastAutoSelect=i})),this.autoSelectPanel.onCancel.add(new n.EventListener(function(t,i,n){e.lastAutoSelect=-1})),this.playerWuCardPanel.onCardClick.add(new n.EventListener(function(t,i){if(0!=e.isSelectable){var o=i,r=!1;e.selectCardPanel.show(),e.playerWuCardPanel.highlightCard(o,!0);var s=e.selectCardPanel.onSelect.add(new n.EventListener(function(t,i){var n=i;cc.log(o,"/",n),-1==n?(e.playerWuCardPanel.setSymbol(o,-1),e.playerWuCardPanel.setBack(o,-1),e.playerWuCardPanel.highlightCard(o,!1)):(e.playerWuCardPanel.setSymbol(o,n),e.playerWuCardPanel.setBack(o,n),r=!0),e.selectCardPanel.close(),e.lastSelects=e.playerWuCardPanel.getSymbols(),e.lastAutoSelect=-1}));e.selectCardPanel.onClose.add(new n.EventListener(function(t,i){e.selectCardPanel.onSelect.remove(s),r||e.playerWuCardPanel.highlightCard(o,!1),e._checkSelectsAndBet(),e.autoSelectPanel.reset()}).once())}})),this.stateCtrl.init(this),this.stateCtrl.onStateChange.add(new n.EventListener(function(t,e,i){var n="";switch(i.stateName){case"init":n="\u521d\u59cb\u5316";break;case"wait":n="\u7b49\u5f85\u4e0b\u671f";break;case"bet":n="\u958b\u653e\u4e0b\u6ce8";break;case"rolling":n="\u505c\u6b62\u4e0b\u6ce8";break;case"win":n="\u958b\u734e\u4e2d"}c.debug_state.string=n})),this.gameServer.onStartBet.add(new n.EventListener(function(t,i){e.ticketInfo=i,e.isReadyNextBet=!0;var n=i.rollDate;if(n){var o=n-Date.now();e.timeCounter.setShowing(!1,!0),e.timeCounter.setLeft(o),e.timeCounter.resume()}})),this.gameServer.onStopBet.add(new n.EventListener(function(t){e.stateCtrl.go("rolling")})),this.gameServer.onResult.add(new n.EventListener(function(t,i){e.winData=i.winData,e.isReadyWin=!0,e.playerInfo.setCredit(i.credit)})),[4,this.gameServer.connect()];case 1:return i=u.sent(),o=i.state,r=i.credit,a=i.game,this.playerInfo.setCredit(r),this.stateCtrl.go(o),a&&this.gameInfoPanel.set(a.date,a.volume),t&&t(),[2]}})})},e.prototype.setCredit=function(t){this._playerCredit=t,this.playerInfo.setCredit(this._playerCredit)},e.prototype.sendSelectsToServer=function(){var t=this.playerWuCardPanel.getSymbols();this.gameServer.select(t)},e.prototype.sendBet=function(t,e){return __awaiter(this,void 0,Promise,function(){var i=this;return __generator(this,function(n){return[2,new Promise(function(n,o){return __awaiter(i,void 0,void 0,function(){var i,o,r,s,a;return __generator(this,function(c){switch(c.label){case 0:return[4,this.gameServer.bet(this.ticketInfo.volume,t,e)];case 1:return i=c.sent(),o=i.totalBet,r=i.isSuccess,s=i.credit,a=i.winData,o<=0?cc.log("Err: betAmount not valid"):r?(cc.log("bet success !!"),this.setCredit(s),this.playerInfo.setTotalBet(o),this.betTool.setActive(!1),this.isSelectable=!1,a&&(this.winData=a,this.stateCtrl.go("win"))):cc.log("Err: bet unsuccess"),this.lastBet=o,n(i),[2]}})})})]})})},e.prototype.sendLastBet=function(){return __awaiter(this,void 0,Promise,function(){var t=this;return __generator(this,function(e){return[2,new Promise(function(e,i){return __awaiter(t,void 0,void 0,function(){var t,i,n,o;return __generator(this,function(r){switch(r.label){case 0:if(!(-1!=this.lastAutoSelect||0!=this.lastSelects.length)||!this._isBetable())return e(null),[2];if(t=[],this.lastAutoSelect>0)this.autoSelectPanel.select(this.lastAutoSelect),t=this.playerWuCardPanel.getSymbols();else for(t=this.lastSelects,i=0;i<t.length;i++)n=t[i],this.playerWuCardPanel.setBack(i,n),this.playerWuCardPanel.setSymbol(i,n),-1!=n&&this.playerWuCardPanel.highlightCard(i,!0);return[4,this.sendBet(this.lastBet,t)];case 1:return o=r.sent(),e(o),[2]}})})})]})})},e.prototype.requestNext=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i;return __generator(this,function(n){switch(n.label){case 0:return this,[4,this.gameServer.requestTicket()];case 1:return t=n.sent(),e=t.credit,this.setCredit(e),(i=t.ticket)&&(this.isReadyNextBet=!0,this.ticketInfo=i),[2]}})})},e.prototype.clearCardSelect=function(){this.playerWuCardPanel.reset(),this.playerWuCardPanel.highlightCards(!1)},e.prototype.clearLastBetSelects=function(){this.lastBet=0,delete this.lastSelects,this.lastSelects=[],this.lastAutoSelect=-1},e.prototype.showTurnMsg=function(t,e){var i=this;return void 0===e&&(e=0),new Promise(function(o,r){var s=i;i.blackBGAnim.set("isShow",!0),i.turnMsgPanel.show(t,function(){n.Invoker.invoke(function(){s.turnMsgPanel.hide(),s.blackBGAnim.set("isShow",!1)},e)},function(){o()})})},e.prototype._getRandomSymbols=function(t){for(var e=[],i=0;i<t;i++)e.push(Math.floor(new n.RandomRange(0,5).get()));return e},e.prototype._isSelected=function(){for(var t=0,e=this.playerWuCardPanel.getSymbols();t<e.length;t++){if(-1!=e[t])return!0}return!1},e.prototype._isBetable=function(){return this._playerCredit>this.betAmount},e.prototype._checkSelectsAndBet=function(){this._isSelected()&&this._isBetable()?this.betTool.setControlActive(!0):this.betTool.setControlActive(!1)},__decorate([l(n.StateCtrl)],e.prototype,"stateCtrl",void 0),__decorate([l(o.BetTool)],e.prototype,"betTool",void 0),__decorate([l(o.PlayerInfoPanel)],e.prototype,"playerInfo",void 0),__decorate([l(o.GameInfoPanel)],e.prototype,"gameInfoPanel",void 0),__decorate([l(o.TurnMsg)],e.prototype,"turnMsgPanel",void 0),__decorate([l(o.NumCounter)],e.prototype,"timeCounter",void 0),__decorate([l(o.ResultInfoPanel)],e.prototype,"resultPanel",void 0),__decorate([l(r.default)],e.prototype,"playerWuCardPanel",void 0),__decorate([l(r.default)],e.prototype,"enemyWuCardPanel",void 0),__decorate([l(a.default)],e.prototype,"selectCardPanel",void 0),__decorate([l(c.default)],e.prototype,"autoSelectPanel",void 0),__decorate([l(n.Animator)],e.prototype,"blackBGAnim",void 0),__decorate([l(cc.Label)],e.prototype,"debug_state",void 0),e=__decorate([p],e)}(cc.Component);i.default=h,cc._RF.pop()},{"../import/ArcaComm/index_ArcaComm":"index_ArcaComm","../import/uzil/Uzil":"Uzil","./GameUI/AutoSelect/AutoSelect":"AutoSelect","./ServerMod/GameServerMod":"GameServerMod","./WuBattle/SelectCardPanel/SelectCardPanel":"SelectCardPanel","./WuBattle/WuCardPanel":"WuCardPanel"}],GameInfoPanel:[function(t,e,i){"use strict";cc._RF.push(e,"24f28XEBwpAlZoTaiFmtHCv","GameInfoPanel"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.str_time="\u65f6\u95f4: ",e.str_volume="\u671f\u53f7: ",e}return __extends(e,t),e.prototype.onLoad=function(){this.label.string=""},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.set=function(t,e){var i=new Date;i.setTime(t);var n=i.getFullYear(),o=this._prefixInteger(i.getMonth()+1,2),r=this._prefixInteger(i.getDate(),2),s=this._prefixInteger(i.getHours(),2),a=this._prefixInteger(i.getMinutes(),2),c=this._prefixInteger(i.getSeconds(),2),u=this._prefixInteger(e,8);this.label.string=this.str_time+n+"/"+o+"/"+r+"  "+s+":"+a+":"+c+"  "+this.str_volume+u},e.prototype._prefixInteger=function(t,e){return(Array(e).join("0")+t).slice(-e)},__decorate([r(cc.Label)],e.prototype,"label",void 0),__decorate([r()],e.prototype,"str_time",void 0),__decorate([r()],e.prototype,"str_volume",void 0),e=__decorate([o],e)}(cc.Component);i.GameInfoPanel=s,cc._RF.pop()},{}],GameResult:[function(t,e,i){"use strict";cc._RF.push(e,"e193fpFR9FGdbyKdFv7v/KH","GameResult"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){return function(){this.volume=-1,this.winList=[],this.reward=0,this.bet=0,this.enemys=[],this.players=[]}}();i.default=n,cc._RF.pop()},{}],GameServerMod:[function(t,e,i){"use strict";cc._RF.push(e,"577c4hZ1p1HDpRkbxd1wSO4","GameServerMod"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../import/uzil/Uzil"),o=t("../Rules/WuBattleRule"),r=function(){function t(){this.volume=0,this.credit=1e5,this.betSingle=0,this.cardSelects=[-1,-1,-1,-1,-1],this.betTime=8,this.rollingTime=3,this.winTime=13,this.isImmediately=!0,this.onStartBet=new n.Event,this.onStopBet=new n.Event,this.onResult=new n.Event}return t.prototype.connect=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return[2,new Promise(function(e,i){var o=n.UrlArgs.get("rolling");o&&(t.rollingTime=parseFloat(o));var r=n.UrlArgs.get("bet");r&&(t.betTime=parseFloat(r)),r>0&&(t.isImmediately=!1),cc.log("connect"),e({state:"wait",credit:t.credit})})]})})},t.prototype.requestTicket=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){return[2,new Promise(function(e,i){var o,r=t;t.isImmediately?o={ticket:t.genTicket(),credit:t.credit}:(o={ticket:null,credit:t.credit},n.Invoker.invoke(function(){r.startBet()},1)),e(o)})]})})},t.prototype.bet=function(t,e,i){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(o){return[2,new Promise(function(o,r){var s;if(n.credit-=e,n.cardSelects=i,n.isImmediately){var a=n.generateWining(t,e,i);s={isSuccess:!0,totalBet:e,cardSelects:i,credit:n.credit,winData:a},cc.log(a.reward),n.credit+=a.reward}else n.betSingle+=e,s={isSuccess:!0,totalBet:n.betSingle,cardSelects:n.cardSelects,credit:n.credit};o(s)})]})})},t.prototype.select=function(t){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(i){return[2,new Promise(function(i,n){e.cardSelects=t,i({cardSelects:e.cardSelects})})]})})},t.prototype.genTicket=function(){this.volume++;var t=Date.now(),e={date:t,volume:this.volume};return 0==this.isImmediately&&(e.rollDate=t+this.betTime),e},t.prototype.startBet=function(){var t=this,e=this.genTicket();this.onStartBet.call(e),n.Invoker.invoke(function(){t.stopBet()},this.betTime)},t.prototype.stopBet=function(){var t=this;this.onStopBet.call(),n.Invoker.invoke(function(){t.winning()},this.rollingTime)},t.prototype.generateWining=function(t,e,i){cc.log(i);for(var r={},s=[],a=[],c=[],u=0;u<5;u++){var p=Math.floor(new n.RandomRange(0,5).get()),l=i[u];a.push(p),c.push(l),-1!=l?s.push(o.default.isWin(l,p)):s.push(0)}var h=e;for(var u in s)if(-1!=i[u]){var d=s[u];if("1"==d){h=0;break}"3"==d&&(h*=1.95)}return h=Math.round(h),r.enemys=a,r.players=c,r.winList=s,r.reward=h,r.volume=t,r.bet=e,r},t.prototype.winning=function(){var t=this.generateWining(this.volume,this.betSingle,this.cardSelects);this.credit+=t.reward;var e={credit:this.credit,winData:t};this.betSingle=0,this.onResult.call(e)},t}();i.default=r,cc._RF.pop()},{"../../import/uzil/Uzil":"Uzil","../Rules/WuBattleRule":"WuBattleRule"}],GameState_Bet:[function(t,e,i){"use strict";cc._RF.push(e,"8587c1/ZY9G+JIo7R2TZQDc","GameState_Bet"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t},e.prototype._onEnter=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i=this;return __generator(this,function(o){switch(o.label){case 0:return t=this,null!=(e=this._director.ticketInfo)&&this._director.gameInfoPanel.set(e.date,e.volume),this._director.isReadyNextBet=!1,this._director.playerInfo.setWins(0),this._director.playerInfo.setTotalBet(0),this._director.isSelectable=!0,this._director.blackBGAnim.set("isShow",!0),this._director.turnMsgPanel.show(0,function(){n.Invoker.invoke(function(){t._director.turnMsgPanel.hide(),i._director.blackBGAnim.set("isShow",!1)},.8)},function(){t._director.timeCounter.left>0&&t._director.timeCounter.setShowing(!0)}),this._director.betTool.isContinue?(-1!=this._director.lastAutoSelect&&this._director.autoSelectPanel.setStatus(this._director.lastAutoSelect),[4,this._director.sendLastBet()]):[3,2];case 1:if(null!=o.sent())return[2];o.label=2;case 2:return this._director.clearLastBetSelects(),this._director.betTool.setBetAmountActive(!0),[2]}})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._director.timeCounter.setLeft(-1,!0),this._director.timeCounter.pause()},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../import/uzil/Uzil":"Uzil"}],GameState_Init:[function(t,e,i){"use strict";cc._RF.push(e,"1bedaMbCOFKibP6Zhk0hzDC","GameState_Init"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t},e.prototype._onEnter=function(){},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../import/uzil/Uzil":"Uzil"}],GameState_Rolling:[function(t,e,i){"use strict";cc._RF.push(e,"4f7d7XrZSBNLJhcPlKwRyIU","GameState_Rolling"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t},e.prototype._onEnter=function(){var t=this;this._director.betTool.setActive(!1),this._director.isSelectable=!1,this._director.sendSelectsToServer(),this._director.blackBGAnim.set("isShow",!0),this._director.turnMsgPanel.show(1,function(){n.Invoker.invoke(function(){t._director.turnMsgPanel.hide()},.8)},function(){})},e.prototype._onUpdate=function(t){this._director.isReadyWin&&(this._director.stateCtrl.go("win"),this._director.isReadyWin=!1)},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../import/uzil/Uzil":"Uzil"}],GameState_Wait:[function(t,e,i){"use strict";cc._RF.push(e,"0df67YNe2hLy6xGEmgQPEyj","GameState_Wait"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t},e.prototype._onEnter=function(){this._director.playerWuCardPanel.reset(),this._director.enemyWuCardPanel.reset(),this._director.betTool.setActive(!1),this._director.autoSelectPanel.reset(),this._director.betTool.isContinue?-1!=this._director.lastAutoSelect&&this._director.autoSelectPanel.setStatus(this._director.lastAutoSelect):this._director.clearLastBetSelects(),this._director.isSelectable=!1,this._director.requestNext()},e.prototype._onUpdate=function(t){this._director.isReadyNextBet&&(this._director.stateCtrl.go("bet"),this._director.isReadyNextBet=!1)},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../import/uzil/Uzil":"Uzil"}],GameState_Win:[function(t,e,i){"use strict";cc._RF.push(e,"eecd1+9R1tJNKAT5H4oYV/R","GameState_Win"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e.winStateCtrl=null,e.enemyWins=[],e.playerWins=[],e.toShowIdxs=[],e.winData=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t,this.winStateCtrl.init({director:this._director,winState:this})},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return this,this.winStateCtrl.go("turnBattle"),[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([s(n.StateCtrl)],e.prototype,"winStateCtrl",void 0),e=__decorate([r],e)}(n.State);i.default=a,cc._RF.pop()},{"../../import/uzil/Uzil":"Uzil"}],InvokerQueueTask:[function(t,e,i){"use strict";cc._RF.push(e,"8dcd32QwMtEJpwE+EZkRGXn","InvokerQueueTask"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.func=function(){cc.log("do something")},this.priority=0,this.tags=[]}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t}();i.InvokerQueueTask=n,cc._RF.pop()},{}],InvokerQueue:[function(t,e,i){"use strict";cc._RF.push(e,"fd256Tg6YVN+6Ca1PxaB1mD","InvokerQueue"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Invoker"),o=function(){function t(){this.taskList=[]}return t.prototype.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=this.taskList.slice();i<n.length;i++){var o=n[i];-1!=this.taskList.indexOf(o)&&o.call.apply(o,t)}},t.prototype.add=function(t,e){var i=new n.InvokerQueueTask;return i.func=t,i.priority=e,this.taskList.push(i),this.sort(),this},t.prototype.remove=function(t){var e=this.taskList.indexOf(t);-1!=e&&this.taskList.splice(e,1)},t.prototype.removeTag=function(t){for(var e=[],i=0,n=this.taskList;i<n.length;i++){-1!=(s=n[i]).tags.indexOf(t)&&e.push(s)}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.remove(s)}},t.prototype.sort=function(){this.taskList.sort(function(t,e){return e.priority-t.priority})},t}();i.InvokerQueue=o,cc._RF.pop()},{"../index_Invoker":"index_Invoker"}],InvokerTask:[function(t,e,i){"use strict";cc._RF.push(e,"de182UzwXVBMIsYlMvBVGOm","InvokerTask"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.func=function(){cc.log("do something")},this.time=0,this.tags=[]}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t}();i.InvokerTask=n,cc._RF.pop()},{}],InvokerUpdateTask:[function(t,e,i){"use strict";cc._RF.push(e,"fefe7NO+KtM4aqCFVL67NNh","InvokerUpdateTask"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.func=function(){cc.log("do something")},this.tags=[]}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t}();i.InvokerUpdateTask=n,cc._RF.pop()},{}],Invoker:[function(t,e,i){"use strict";cc._RF.push(e,"9c06bja4aZPk4k5I1pxjru+","Invoker"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=t("../index_Invoker"),r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskList=[],e.updateTaskList=[],e}var i;return __extends(e,t),i=e,e.getInstance=function(){return n.Uzil.getComp("Invoker")},e.invoke=function(t,e){return i.getInstance().invoke(t,e)},e.cancel=function(t){"string"==typeof t?i.getInstance().cancelInvokerTag(t):t instanceof o.InvokerTask&&i.getInstance().cancelInvoker(t)},e.update=function(t){return i.getInstance().InvokeUpdate(t)},e.stop=function(t){"string"==typeof t?i.getInstance().cancelUpdateTag(t):t instanceof o.InvokerUpdateTask&&i.getInstance().cancelUpdate(t)},e.prototype.start=function(){},e.prototype.update=function(t){for(var e=this._getTime(),i=0,n=this.taskList.slice();i<n.length;i++){var o=n[i];-1!=this.taskList.indexOf(o)&&(e<o.time||(o.call(),this.cancelInvoker(o)))}for(var r=0,s=this.updateTaskList.slice();r<s.length;r++){o=s[r];-1!=this.updateTaskList.indexOf(o)&&o.call(t)}},e.prototype.invoke=function(t,e){var i=new o.InvokerTask;return i.func=t,i.time=this._getTime()+e,this.taskList.push(i),i},e.prototype.cancelInvoker=function(t){var e=this.taskList.indexOf(t);-1!=e&&this.taskList.splice(e,1)},e.prototype.cancelInvokerTag=function(t){for(var e=[],i=0,n=this.taskList;i<n.length;i++){-1!=(s=n[i]).tags.indexOf(t)&&e.push(s)}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.cancelInvoker(s)}},e.prototype.InvokeUpdate=function(t){var e=new o.InvokerUpdateTask;return e.func=t,this.updateTaskList.push(e),e},e.prototype.cancelUpdate=function(t){var e=this.updateTaskList.indexOf(t);-1!=e&&this.updateTaskList.splice(e,1)},e.prototype.cancelUpdateTag=function(t){for(var e=[],i=0,n=this.taskList;i<n.length;i++){-1!=(s=n[i]).tags.indexOf(t)&&e.push(s)}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.cancelUpdate(s)}},e.prototype._getTime=function(){return n.Time.time},e.instance=null,e=i=__decorate([s],e)}(cc.Component));i.Invoker=a,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Invoker":"index_Invoker"}],JackpotBar:[function(t,e,i){"use strict";cc._RF.push(e,"7611773rfZIh4eEdWJ/wI9i","JackpotBar"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.priceText=null,e}return __extends(e,t),e.prototype.start=function(){this.setPrice(5555888)},e.prototype.onLotteryRecordClick=function(){},e.prototype.onBetRecordClick=function(){},e.prototype.setPrice=function(t){this.priceText.string=t.toLocaleString("en-us")},__decorate([r(cc.Label)],e.prototype,"priceText",void 0),e=__decorate([o],e)}(cc.Component);i.JackpotBar=s,cc._RF.pop()},{}],Mathf:[function(t,e,i){"use strict";cc._RF.push(e,"c097fK6CldAxpoREmsiW2+t","Mathf"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.toVec3=function(t){return t instanceof cc.Vec2?new cc.Vec3(t.x,t.y,0):"number"==typeof t?new cc.Vec3(t,t,t):void 0},t.toVec2=function(t){return t instanceof cc.Vec3?new cc.Vec2(t.x,t.y):"number"==typeof t?new cc.Vec2(t,t):void 0},t.clamp=function(t,e,i){return t<e?e:t>i?i:t},t.lerp=function(t,e,i){return t+(e-t)*i},t.lerpV2=function(t,e,i){return t.add(e.sub(t).mul(i))},t.moveToward=function(t,e,i){var n=e-t,o=Math.abs(n);if(0==n)return t;var r=t+(n>0?1:-1)*Math.min(i,o);return isNaN(r)?0:r},t.moveTowardV2=function(t,e,i){if(0==i)return t;var n=e.sub(t),o=n.mag();o&&1!=o&&(n=n.normalize());var r=n.mul(Math.min(i,o));return t.add(r)},t.rotateToward=function(e,i,n){var o=t.validAngle(e),r=t.validAngle(i);if(o==r)return i;var s=r-o,a=r+(r>o?-360:360)-o,c=Math.abs(s),u=Math.abs(a),p=0,l=!1;return c<u?(p=c,l=s>0):(p=u,l=a>0),e+(l?1:-1)*Math.min(p,n)},t.validAngle=function(t){for(;t<0;)t+=360;for(;t>360;)t-=360;return t},t.angleToVec2=function(t){var e=cc.misc.degreesToRadians(t);return new cc.Vec2(Math.sin(e),Math.cos(e))},t.angleDelta=function(t,e,i){if(void 0===i&&(i=!0),e==t)return 0;if(360==Math.abs(e-t))return 360;var n=0,o=0;return i?(n=t%360,o=e%360):(o=t%360,n=e%360),n==o?0:(o<n&&(o+=360),o-n)},t}();i.Mathf=n;var o=function(){function t(t,e){void 0===e&&(e=void 0),this.min=0,this.max=void 0,e?this.set([t,e]):this.set(t)}return t.prototype.set=function(t){"number"==typeof t?(this.min=t,this.max=t):t instanceof Array&&t.length>=2&&(this.min=t[0],this.max=t[1])},t.prototype.get=function(){return this.random()},t.prototype.random=function(){return this.min==this.max?this.min:cc.misc.lerp(this.min,this.max,Math.random())},t}();i.RandomRange=o,cc._RF.pop()},{}],NumCounter:[function(t,e,i){"use strict";cc._RF.push(e,"80ee6fQr1BDarkz/8athU2j","NumCounter"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLabels=[],e.showNodes=[],e.isTimeCounting=!1,e.left=-1,e.isShowing=!1,e._isCallShowing=!1,e._lastInterger=-1,e._isCalledEvent=!1,e.warningAnim=null,e.warningLessThan=5,e._isWarningAnim=!1,e.showingOffset=0,e.onEnd=new n.Event,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){var e=Math.floor(this.left);if(e!=this._lastInterger&&(this._lastInterger=e,this._isCallShowing&&this.setShowing(!0,!0)),this.isTimeCounting){var i=n.Mathf.moveToward(this.left,0,t);this.setLeft(i)}},e.prototype.setActive=function(t){for(var e=0,i=this.showNodes;e<i.length;e++){i[e].active=t}},e.prototype.resume=function(){this.isTimeCounting=!0},e.prototype.pause=function(){this.isTimeCounting=!1},e.prototype.setShowing=function(t,e){void 0===e&&(e=!1),e?(this.isShowing=t,this.setLeft(this.left),this._isCallShowing=!1):this._isCallShowing=!0},e.prototype.setLeft=function(t,e){if(void 0===e&&(e=!1),this.left=t,this.left<=0?(this.left=-1,0==this._isCalledEvent&&(this.onEnd.call(),this._isCalledEvent=!0)):this._isCalledEvent=!1,this.isShowing||e){var i=this._lastInterger+this.showingOffset,n=i.toString();-1==this.left&&(n="-");for(var o=0,r=this.numLabels;o<r.length;o++){r[o].string=n}-1!=this.left&&i<=this.warningLessThan?0==this._isWarningAnim&&(this.warningAnim.play("warning"),this._isWarningAnim=!0):this._isWarningAnim&&(this.warningAnim.play("idle"),this._isWarningAnim=!1)}},__decorate([s(cc.Label)],e.prototype,"numLabels",void 0),__decorate([s(cc.Node)],e.prototype,"showNodes",void 0),__decorate([s(cc.Animation)],e.prototype,"warningAnim",void 0),__decorate([s()],e.prototype,"warningLessThan",void 0),__decorate([s()],e.prototype,"showingOffset",void 0),e=__decorate([r],e)}(cc.Component);i.NumCounter=a,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],ObjPool:[function(t,e,i){"use strict";cc._RF.push(e,"b29baIYcz5EBKycYlX7hglv","ObjPool"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.poolStack=[],this.instanceList=[],this.maxCount=-1}return t.prototype.init=function(t){for(var e=0;e<t;e++)this.poolStack.push(this.create())},t.prototype.request=function(t){var e;return e=this.poolStack.length>0?this.poolStack.pop():this.create(),this.instanceList.push(e),this.enableObj(e,t),e},t.prototype.recovery=function(t){var e=this.instanceList.indexOf(t);-1!=e&&this.instanceList.splice(e,1),-1!=this.maxCount&&this.poolStack.length>=this.maxCount?(this.disableObj(t),this.destroy(t)):(this.poolStack.push(t),this.disableObj(t))},t}();i.ObjPool=n,cc._RF.pop()},{}],Objf:[function(t,e,i){"use strict";cc._RF.push(e,"8c6a8/oQbFDL4XDOZjtM11P","Objf"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.clone=function(t){return this.assign({},t)},t.assign=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++){var o=e[n];if(o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},t}();i.Objf=n,cc._RF.pop()},{}],PageCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"4927fmBK+lBkoGoxTpe6b6j","PageCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=(n.property,function(){function t(){this.scope="",this.pages=[],this.cards=[]}var e;return e=t,t.get=function(t){return void 0===t&&(t=""),this.getInstance(t)},t.getInstance=function(t){void 0===t&&(t="");var i=this._instance[t];return i||((i=new e).scope=t,this._instance[t]=i),i},t.prototype.registerPage=function(t){-1==this.pages.indexOf(t)&&this.pages.push(t)},t.prototype.registerCard=function(t){-1==this.cards.indexOf(t)&&(this.cards.push(t),t.deactive())},t.prototype.getPages=function(t){for(var e=[],i=0,n=this.pages;i<n.length;i++){var o=n[i];o.id==t&&e.push(o)}return 0==e.length?null:e},t.prototype.getCards=function(t){for(var e=[],i=0,n=this.cards;i<n.length;i++){var o=n[i];o.id==t&&e.push(o)}return 0==e.length?null:e},t.prototype.GoPage=function(t){var e=this._getCardIDsInPage(t);cc.log("toShow:"),cc.log(e),cc.log(this.cards);for(var i=0,n=this.cards;i<n.length;i++){var o=n[i];-1!=e.indexOf(o.id)?o.active():o.deactive()}},t.prototype.ShowPage=function(t){for(var e=this._getCardIDsInPage(t),i=0,n=this.cards;i<n.length;i++){var o=n[i];-1!=e.indexOf(o.id)&&o.active()}},t.prototype.HidePage=function(t){for(var e=this._getCardIDsInPage(t),i=0,n=this.cards;i<n.length;i++){var o=n[i];-1!=e.indexOf(o.id)&&o.deactive()}},t.prototype.activeCard=function(t,e){void 0===e&&(e=!1);for(var i=0,n=this.getCards(t);i<n.length;i++){n[i].active(e)}},t.prototype.deactiveCard=function(t,e){void 0===e&&(e=!1);for(var i=0,n=this.getCards(t);i<n.length;i++){n[i].deactive(e)}},t.prototype._getCardIDsInPage=function(t){for(var e=[],i=0,n=this.pages;i<n.length;i++){var o=n[i];if(o.id==t)for(var r=0,s=o.cards;r<s.length;r++){var a=s[r];-1==e.indexOf(a)&&e.push(a)}}return e},t._instance={},t=e=__decorate([o],t)}());i.PageCtrl=r,cc._RF.pop()},{}],Page:[function(t,e,i){"use strict";cc._RF.push(e,"1a61aQHCB5Ia43/gy7Kytbc","Page"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_PageCard"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="_anonymous",e.scopes=[],e.cards=[],e}return __extends(e,t),e.prototype.onLoad=function(){if(0==this.scopes.length)n.PageCtrl.getInstance().registerPage(this);else for(var t=0,e=this.scopes;t<e.length;t++){var i=e[t];n.PageCtrl.getInstance(i).registerPage(this)}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.init=function(){},e.prototype._onActive=function(){},e.prototype._onDeactive=function(){},__decorate([s()],e.prototype,"id",void 0),__decorate([s({type:cc.String})],e.prototype,"scopes",void 0),__decorate([s({type:cc.String})],e.prototype,"cards",void 0),e=__decorate([r],e)}(cc.Component);i.Page=a,cc._RF.pop()},{"../index_PageCard":"index_PageCard"}],PlayerInfoBlock:[function(t,e,i){"use strict";cc._RF.push(e,"f8897g1En5AB4YmvGqzy9gI","PlayerInfoBlock"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.num=null,e}return __extends(e,t),e.prototype.setTitle=function(t){this.title.string=t},e.prototype.setNum=function(t){this.num.string=t.toLocaleString("en-us")},__decorate([r(cc.Label)],e.prototype,"title",void 0),__decorate([r(cc.Label)],e.prototype,"num",void 0),e=__decorate([o],e)}(cc.Component);i.PlayerInfoBlock=s,cc._RF.pop()},{}],PlayerInfoPanel:[function(t,e,i){"use strict";cc._RF.push(e,"003b7i8fBNCSIvzUUEz7C5J","PlayerInfoPanel"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./PlayerInfoBlock"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.credit=null,e.wins=null,e.totalBet=null,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.setCredit=function(t){this.credit.setNum(t)},e.prototype.setWins=function(t){this.wins.setNum(t)},e.prototype.setTotalBet=function(t){this.totalBet.setNum(t)},__decorate([s(n.PlayerInfoBlock)],e.prototype,"credit",void 0),__decorate([s(n.PlayerInfoBlock)],e.prototype,"wins",void 0),__decorate([s(n.PlayerInfoBlock)],e.prototype,"totalBet",void 0),e=__decorate([r],e)}(cc.Component);i.PlayerInfoPanel=a,cc._RF.pop()},{"./PlayerInfoBlock":"PlayerInfoBlock"}],PointData:[function(t,e,i){"use strict";var n;cc._RF.push(e,"3dbbfLKnGxAVraIDvJZCiVC","PointData"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.free=0]="free",t[t.linear=1]="linear",t[t.constant=2]="constant",t[t.weighted=3]="weighted"}(n=i.EaseType||(i.EaseType={}));var o=function(){function t(){this.pos=cc.Vec2.ZERO,this.easeIn=cc.Vec2.ZERO,this.easeOut=cc.Vec2.ZERO,this.easeType=[n.weighted]}return t.create=function(e){var i=new t;if(e.hasOwnProperty("pos")){var o=e.pos;i.pos=t.arrayToV2(o)}if(e.hasOwnProperty("easeIn")){var r=e.easeIn;i.easeIn=t.arrayToV2(r)}if(e.hasOwnProperty("easeOut")){var s=e.easeOut;i.easeOut=t.arrayToV2(s)}if(e.hasOwnProperty("easeType")){for(var a=[],c=0,u=e.easeType;c<u.length;c++){var p=u[c];a.push(n[p])}i.easeType=a}return i},t.json=function(e){var i=JSON.parse(e);return i?t.create(i):null},t.arrayToV2=function(t){return new cc.Vec2(t[0],t[1])},t.prototype.getEaseInType=function(){return this.easeType[0]},t.prototype.getEaseOutType=function(){return 1==this.easeType.length?this.easeType[0]:2==this.easeType.length?this.easeType[1]:void 0},t}();i.PointData=o,cc._RF.pop()},{}],ResultInfoField:[function(t,e,i){"use strict";cc._RF.push(e,"58057LJrp9CAbQaGmAo4bTq","ResultInfoField"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.content=null,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.setTitle=function(t){this.title.string=t},e.prototype.setContent=function(t){this.content.string=t},__decorate([r(cc.Label)],e.prototype,"title",void 0),__decorate([r(cc.Label)],e.prototype,"content",void 0),e=__decorate([o],e)}(cc.Component);i.ResultInfoField=s,cc._RF.pop()},{}],ResultInfoGroup:[function(t,e,i){"use strict";cc._RF.push(e,"2e2eftpMOlP/rtdv9Jm231H","ResultInfoGroup"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./ResultInfoField"),o=t("../../../../import/uzil/Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.fields=[],e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.anim.onEvent("onHideEnd",function(){t.node.active=!1})},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.show=function(t){void 0===t&&(t=!1),this.node.active=!0,t?this.anim.play("show"):this.anim.set("isShow",!0)},e.prototype.hide=function(t){void 0===t&&(t=!1),t?(this.anim.play("hide"),this.node.active=!1):this.anim.set("isShow",!1)},e.prototype.setTitle=function(t,e){this.fields[t].setTitle(e)},e.prototype.setContent=function(t,e){this.fields[t].setContent(e)},__decorate([a(o.CocosAnimator)],e.prototype,"anim",void 0),__decorate([a(n.ResultInfoField)],e.prototype,"fields",void 0),e=__decorate([s],e)}(cc.Component);i.ResultInfoGroup=c,cc._RF.pop()},{"../../../../import/uzil/Uzil":"Uzil","./ResultInfoField":"ResultInfoField"}],ResultInfoPanel:[function(t,e,i){"use strict";cc._RF.push(e,"a3226dYkO9K87kh3DLcToKo","ResultInfoPanel"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./ResultInfoGroup"),o=t("../../../../import/uzil/Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentGroup=null,e.groups=[],e.confirmAnim=null,e.rewardLabel=null,e.onConfirm=new o.Event,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.groups.length;t++){this.groups[t].hide(!0)}this.confirmAnim.node.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.onConfirm_call=function(){this.onConfirm.call()},e.prototype.setGroup=function(t){this.currentGroup=this.groups[t]},e.prototype.show=function(){for(var t=0;t<this.groups.length;t++){var e=this.groups[t];e==this.currentGroup?e.show():e.hide()}this.confirmAnim.node.active=!0,this.confirmAnim.set("isShow",!0)},e.prototype.hide=function(){for(var t=0;t<this.groups.length;t++){this.groups[t].hide()}this.confirmAnim.set("isShow",!1),this.confirmAnim.node.active=!1},e.prototype.setTitle=function(t){for(var e=this.currentGroup,i=0;i<t.length;i++){var n=t[i];e.setTitle(i,n)}},e.prototype.setContent=function(t){for(var e=this.currentGroup,i=0;i<t.length;i++){var n=t[i];e.setContent(i,n)}},e.prototype.setReward=function(t){this.rewardLabel.string=o.Stringf.DecimalSeparator(t)},e.prototype.playAudio=function(t){o.AudioMng.play(t)},__decorate([a(n.ResultInfoGroup)],e.prototype,"groups",void 0),__decorate([a(o.CocosAnimator)],e.prototype,"confirmAnim",void 0),__decorate([a(cc.Label)],e.prototype,"rewardLabel",void 0),e=__decorate([s],e)}(cc.Component);i.ResultInfoPanel=c,cc._RF.pop()},{"../../../../import/uzil/Uzil":"Uzil","./ResultInfoGroup":"ResultInfoGroup"}],SelectCardItem:[function(t,e,i){"use strict";cc._RF.push(e,"78c76IKSDJIU5fQw6AOYLc5","SelectCardItem"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.val=0,e.onClick=new n.Event,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.onClickItem=function(){this.onClick.call(this.val)},__decorate([s()],e.prototype,"val",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],SelectCardPanel:[function(t,e,i){"use strict";cc._RF.push(e,"e6507s60QdPVLh8Px/w+vqX","SelectCardPanel"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./SelectCardItem"),o=t("../../../import/uzil/Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInteractable=!0,e.isShow=!0,e.cancelItem=null,e.selectCards=[],e.onClose=new o.Event,e.onSelect=new o.Event,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=this,e=0,i=this.selectCards;e<i.length;e++){i[e].onClick.add(new o.EventListener(function(e,i){t.select(i)}))}this.close()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.select=function(t){this.isInteractable&&this.onSelect.call(t)},e.prototype.close=function(t){void 0===t&&(t=!0),this.isInteractable&&(this.node.active=!1,this.isShow=!1,t&&this.onClose.call())},e.prototype.show=function(){this.isInteractable&&(this.node.active=!0,this.isShow=!0)},e.prototype.setActive=function(t){this.isShow&&this.close(),this.isInteractable=t},__decorate([a()],e.prototype,"isInteractable",void 0),__decorate([a()],e.prototype,"isShow",void 0),__decorate([a(n.default)],e.prototype,"cancelItem",void 0),__decorate([a(n.default)],e.prototype,"selectCards",void 0),e=__decorate([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil","./SelectCardItem":"SelectCardItem"}],ShurikenComponent:[function(t,e,i){"use strict";cc._RF.push(e,"06a42Gcx4xJ1Y0ymzxqYW6Q","ShurikenComponent"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../index_Shuriken");(function(t){t[t.POINT=0]="POINT",t[t.CIRCLE=1]="CIRCLE",t[t.NODE_RECT=2]="NODE_RECT",t[t.SPRITE=3]="SPRITE"})(n=i.EMITTER_TYPE||(i.EMITTER_TYPE={})),cc.Class({extends:cc.Component,properties:{_shurikenSystem:{type:Object,default:null,visible:!1},shurikenSystem:{type:Object,get:function(){return this._shurikenSystem},set:function(t){this._shurikenSystem=t},visible:!1},timeScale:{default:1},_sourceNode:{type:cc.Prefab,default:null,visible:!1},sourcePrefab:{type:cc.Prefab,get:function(){return this._sourceNode},set:function(t){this._sourceNode=t,this.shurikenSystem&&(this.shurikenSystem.sourceNode=t)}},_maxCount:{default:100,visible:!1},maxCount:{get:function(){return this._maxCount},set:function(t){this._maxCount=t,this.shurikenSystem&&(this.shurikenSystem.maxCount=t)}},isPlayOnAwake:{default:!0},_isPrepare:{default:!1,visible:!1},isPrepare:{get:function(){return this._isPrepare},set:function(t){this._isPrepare=t,this.shurikenSystem&&(this.shurikenSystem.isPrepare=t)}},_emitRoot:{type:cc.Node,default:null,visible:!1},emitRoot:{type:cc.Node,get:function(){return this._emitRoot},set:function(t){this._emitRoot=t,this.shurikenSystem&&(this.shurikenSystem.emitRoot=t)}},isShowEmit:{displayName:"\u6aa2\u8996 \u767c\u5c04",default:!1},_lifeTime:{default:5,visible:!1},lifeTime:{get:function(){return this._lifeTime},set:function(t){this._lifeTime=t,this.shurikenSystem&&(this.shurikenSystem.lifeTime=t)},visible:function(){return this.isShowEmit}},_delay:{default:.1,visible:!1},delay:{get:function(){return this._delay},set:function(t){this._delay=t,this.shurikenSystem&&(this.shurikenSystem.delay=t)},visible:function(){return this.isShowEmit}},_countPerEmit:{default:1,visible:!1},countPerEmit:{get:function(){return this._countPerEmit},set:function(t){this._countPerEmit=t,this.shurikenSystem&&(this.shurikenSystem.countPerEmit=t)},visible:function(){return this.isShowEmit}},isShowEmitShape:{displayName:"\u6aa2\u8996 \u767c\u5c04\u5340\u57df",default:!1},_emitterType:{type:cc.Enum(n),default:n.POINT},emitterType:{type:cc.Enum(n),get:function(){return this._emitterType},set:function(t){this._emitterType=t},visible:function(){return this.isShowEmitShape}},_emitters:{type:Object,default:{},visible:!1},circle_radius:{default:new cc.Vec2(0,0),visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.CIRCLE}},circle_angle:{default:new cc.Vec2(0,0),visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.CIRCLE}},sprite_imageData:{type:Object,default:null,visible:!1},sprite_clipSample:{default:100,visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.SPRITE}},sprite_clipAlpha:{set:function(t){this._sprite_clipAlpha=t,this._sprite_clipAlpha32=255*t},get:function(){return this._sprite_clipAlpha},visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.SPRITE}},_sprite_clipAlpha:{default:0,visible:!1},_sprite_clipAlpha32:{default:0,visible:!1},isShowMove:{displayName:"\u6aa2\u8996 \u4f4d\u79fb",default:!1},emitSpeed:{default:new cc.Vec2(10,20),visible:function(){return this.isShowMove}},emitAngle:{default:new cc.Vec2(360,45),visible:function(){return this.isShowMove}},gravity:{default:new cc.Vec2(0,-10),visible:function(){return this.isShowMove}},emitSpeed_z:{default:0,visible:function(){return this.isShowMove}},isShowRotate:{displayName:"\u6aa2\u8996 \u65cb\u8f49",default:!1},rotate_emit:{default:cc.Vec2.ZERO,visible:function(){return this.isShowRotate}},rotate_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isShowRotate}},isShowScale:{displayName:"\u6aa2\u8996 \u7e2e\u653e",default:!1},scale_emit:{default:cc.Vec2.ONE,visible:function(){return this.isShowScale}},scale_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isShowScale}}},empty:function(){},start:function(){this._initShurikenSystem(),this._initEmitter(),this.isPlayOnAwake&&this.startEmit()},update:function(t){this.shurikenSystem&&this.shurikenSystem.update(t)},startEmit:function(){this.shurikenSystem&&this.shurikenSystem.start()},resumeEmit:function(){this.shurikenSystem&&this.shurikenSystem.resume()},pauseEmit:function(){this.shurikenSystem&&this.shurikenSystem.pause()},stopEmit:function(){this.shurikenSystem&&this.shurikenSystem.pause()},clear:function(){this.shurikenSystem&&this.shurikenSystem.clear()},_initShurikenSystem:function(){var t=new o.ShurikenSystem;this.shurikenSystem=t,t.timeScale=this.timeScale,t.shurikenSource=this.sourcePrefab,t.maxCount=this.maxCount,t.container=this.emitRoot,t.lifeTime_sec=this.lifeTime,t.delay_sec=this.delay,t.countPerEmit=this.countPerEmit,t.emitter=this._getEmitter(),this.isPrepare&&t.prepare(t.maxCount)},_initEmitter:function(){var t=this._getEmitter();if(t instanceof o.ShurikenEmitter_Base&&(t.emitX.set(0),t.emitY.set(0),t.emitSpeed.set([this.emitSpeed.x,this.emitSpeed.y]),t.emitSpeed_z=this.emitSpeed_z,t.emitAngle.set([this.emitAngle.x,this.emitAngle.y]),t.emitRotation.set([this.rotate_emit.x,this.rotate_emit.y]),t.emitRotateSpeed.set([this.rotate_speed.x,this.rotate_speed.y]),t.emitScale.set([this.scale_emit.x,this.scale_emit.y]),t.emitScaleSpeed.set([this.scale_speed.x,this.scale_speed.y])),this.emitterType==n.NODE_RECT);else if(this.emitterType==n.CIRCLE){var e=t;e.raidus.set([this.circle_radius.x,this.circle_radius.y]),e.angle.set([this.circle_angle.x,this.circle_angle.y])}},_getEmitter:function(t){void 0===t&&(t=null),null==t&&(t=this.emitterType);var e=t.toString(),i=this._emitters[e];if(i)return i;if(t==n.POINT)i=new o.ShurikenEmitter_Base;else if(t==n.NODE_RECT)i=new o.ShurikenEmitter_NodeRect;else{if(t!=n.CIRCLE)return null;i=new o.ShurikenEmitter_Circle}return this._emitters[e]=i,i}}),cc._RF.pop()},{"../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_Base:[function(t,e,i){"use strict";cc._RF.push(e,"3539aEmXf9Pe5eQmCe3Cc1F","ShurikenEmitter_Base"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.emitX=new n.RandomRange(0),e.emitY=new n.RandomRange(0),e.emitSpeed=new n.RandomRange(0),e.emitSpeed_z=1,e.emitAngle=new n.RandomRange(0,359),e.emitRotation=new n.RandomRange(0,359),e.emitRotateSpeed=new n.RandomRange(0),e.emitScale=new n.RandomRange(1),e.emitScaleSpeed=new n.RandomRange(1),e}return __extends(e,t),e.prototype.emit=function(t){var e=this._getEmitPos();t.setPosition(new cc.Vec3(e.x,e.y,0));var i=this._getEmitAngle();t.velocity=n.Mathf.toVec3(n.Mathf.angleToVec2(i).mul(this.emitSpeed.random())),t.velocity.z=this.emitSpeed_z,t.node.setRotation(this._getEmitRotate()),t.rotateSpeed=this.emitRotateSpeed.random(),t.node.setScale(this.emitScale.random()),t.scaleSpeed=n.Mathf.toVec2(this.emitScaleSpeed.random())},e.prototype._getEmitPos=function(){return new cc.Vec2(this.emitX.random(),this.emitY.random())},e.prototype._getEmitAngle=function(){var t=n.Mathf.angleDelta(this.emitAngle.min,this.emitAngle.max,!0);return cc.misc.lerp(this.emitAngle.min,this.emitAngle.min+t,Math.random())},e.prototype._getEmitRotate=function(){var t=n.Mathf.angleDelta(this.emitRotation.min,this.emitRotation.max,!0);return cc.misc.lerp(this.emitRotation.min,this.emitRotation.min+t,Math.random())},e}(t("../../index_Shuriken").ShurikenEmitter);i.ShurikenEmitter_Base=o,cc._RF.pop()},{"../../../Uzil":"Uzil","../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_Circle:[function(t,e,i){"use strict";cc._RF.push(e,"d651bf2pUVByK1gkXv/yy3/","ShurikenEmitter_Circle"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.raidus=new n.RandomRange(0),e.angle=new n.RandomRange(0,359),e}return __extends(e,t),e.prototype._getEmitPos=function(){var t=this.raidus.random(),e=n.Mathf.angleDelta(this.angle.min,this.angle.max,!0),i=n.Mathf.lerp(this.angle.min,this.angle.min+e,Math.random());return n.Mathf.angleToVec2(i).mul(t)},e}(t("../../index_Shuriken").ShurikenEmitter_Base);i.ShurikenEmitter_Circle=o,cc._RF.pop()},{"../../../Uzil":"Uzil","../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_NodeRect:[function(t,e,i){"use strict";cc._RF.push(e,"c03fdzPrMlGJZTw2C9eqkQ1","ShurikenEmitter_NodeRect"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._getEmitPos=function(){var t=new cc.Vec2,e=this.system.getContainer(),i=0-e.width*e.anchorX,n=0+e.width*(1-e.anchorX),o=0+e.height*(1-e.anchorY),r=0-e.height*e.anchorY;return t.x=cc.misc.lerp(i,n,Math.random()),t.y=cc.misc.lerp(r,o,Math.random()),t},e}(t("../../index_Shuriken").ShurikenEmitter_Base);i.ShurikenEmitter_NodeRect=n,cc._RF.pop()},{"../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter:[function(t,e,i){"use strict";cc._RF.push(e,"50d8f9TTflIFocmi0qXWZkj","ShurikenEmitter"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.emit=function(t){},t}();i.ShurikenEmitter=n,cc._RF.pop()},{}],ShurikenSystem:[function(t,e,i){"use strict";cc._RF.push(e,"587e8mcnPVIB6lmNBtD4ZIR","ShurikenSystem"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=t("../index_Shuriken"),r=function(){function t(){this.isEmitting=!1,this.container=null,this.shurikenSource=null,this._emits=[],this._pool=[],this.maxCount=50,this.timeScale=1,this.lifeTime_sec=5,this.delay_sec=0,this.emitCD=0,this.countPerEmit=1,this._emitter=new o.ShurikenEmitter_Base}return Object.defineProperty(t.prototype,"emitter",{get:function(){return this._emitter},set:function(t){this._emitter=t,this._emitter.system=this},enumerable:!0,configurable:!0}),t.prototype.setEmitter=function(t){this.emitter=t,t.system=this},t.prototype.getContainer=function(){return this.container?this.container:cc.director.getScene()},t.prototype.update=function(t){for(var e=t*n.Time.timeScale*this.timeScale,i=0,o=this._emits.slice();i<o.length;i++){(c=o[i]).update(e),c.life_sec<=0&&this.recovery(c)}if(this.isEmitting)if(this.emitCD<=0)for(var r=0;r<this.countPerEmit&&!(this._emits.length>=this.maxCount);r++)this.emit();else this.emitCD-=e;this._emits.sort(function(t,e){return t.compare(e)});for(r=0;r<this._emits.length;r++)this._emits[r].setOrder(r);for(var s=0,a=this._emits;s<a.length;s++){var c;(c=a[s]).render()}},t.prototype.start=function(){this.clear(),this.resume()},t.prototype.resume=function(){this.isEmitting=!0},t.prototype.pause=function(){this.isEmitting=!1},t.prototype.stop=function(){this.pause(),this.clear()},t.prototype.prepare=function(t){for(var e=this._pool.length-1;e<t;e++)this._pushToPool(this._create())},t.prototype.emit=function(){var t=this.request();return t.life_sec=this.lifeTime_sec,this._emits.push(t),this.emitter.emit(t),t.node.active=!0,t},t.prototype.clear=function(){for(var t=0,e=this._emits;t<e.length;t++){var i=e[t];this.recovery(i)}this._emits=[]},t.prototype.request=function(){return this._pool.length>0?this._pool.shift():this._create()},t.prototype.recovery=function(t){var e=this._emits.indexOf(t);-1!=e&&this._emits.splice(e,1),this._pushToPool(t)},t.prototype._create=function(){var t=cc.instantiate(this.shurikenSource);t.parent=this.getContainer();var e=new o.Shuriken;return e.node=t,e},t.prototype._pushToPool=function(t){t.setActive(!1),this._pool.push(t)},t}();i.ShurikenSystem=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Shuriken":"index_Shuriken"}],Shuriken:[function(t,e,i){"use strict";cc._RF.push(e,"265d0hcwpZKJrQRSRs6Jztk","Shuriken"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.node=null,this.life_sec=0,this.position=new cc.Vec3(0,0,0),this._posV2=cc.Vec2.ZERO,this._isPosChanged=!1,this.rotation=0,this._isRotChanged=!1,this.scale=cc.Vec2.ONE,this._isSclChanged=!1,this.velocity=new cc.Vec3(0,0,0),this.rotateSpeed=0,this.scaleSpeed=cc.Vec2.ZERO}return t.prototype.setActive=function(t){this.node.active=t},t.prototype.setPosition=function(t){this.position=t,this._posV2.x=t.x,this._posV2.y=t.y,this._isPosChanged=!0},t.prototype.setRotation=function(t){this.rotation=t,this._isRotChanged=!0},t.prototype.setScale=function(t){this.scale=t,this._isSclChanged=!0},t.prototype.update=function(t){this.life_sec-=t,this.setPosition(this.position.add(this.velocity.mul(t))),this.setRotation(this.rotation+this.rotateSpeed*t),this.setScale(this.scale.add(this.scaleSpeed.mul(t)))},t.prototype.render=function(t){void 0===t&&(t=!1),(t||this._isPosChanged)&&(this.node.setPosition(this._posV2),this._isPosChanged=!1),(t||this._isRotChanged)&&(this.node.setRotation(this.rotation),this._isRotChanged=!1),(t||this._isSclChanged)&&(this.node.setScale(this.scale),this._isSclChanged=!1)},t.prototype.compare=function(t){return this.position.z-t.position.z},t.prototype.setOrder=function(t){this.node.zIndex=t},t}();i.Shuriken=n,cc._RF.pop()},{}],SpineAnimator:[function(t,e,i){"use strict";cc._RF.push(e,"fbb852rgHJD1JhZITFBmyR/","SpineAnimator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Animator"),o=t("../../Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e._playedTime=0,e._timeScale_BeforePause=-1,e._lastNormalizedTime=-1,e.onEventList=[],e.onCompleteList=[],e.onTimeList=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){var t=this,e=this;e.skeleton.setCompleteListener(function(i){if(0==i.trackIndex){e._playedTime++;for(var n=0,o=t.onTimeList;n<o.length;n++){(p=o[n]).isRunedInLoop=!1}for(var r=[],s=0,a=e.onCompleteList;s<a.length;s++){(p=a[s]).func(),p.isOnce&&r.push(p)}for(var c=0,u=r;c<u.length;c++){var p=u[c];e.onCompleteList.splice(e.onCompleteList.indexOf(p),1)}}}),e.skeleton.setEventListener(function(t,i){for(var n=[],o=0,r=e.onEventList;o<r.length;o++){(c=r[o]).eventTag==i.data.name&&(c.func(),c.isOnce&&n.push(c))}for(var s=0,a=n;s<a.length;s++){var c=a[s];e.onEventList.splice(e.onEventList.indexOf(c),1)}})},e.prototype._update=function(){this._lastNormalizedTime=-1;for(var t=this.getNormalizedTime()%1,e=[],i=0,n=this.onTimeList;i<n.length;i++){t<(s=n[i]).time_percent||(s.isRunedInLoop||(s.func(),s.isRunedInLoop=!0,s.isOnce&&e.push(s)))}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.onTimeList.splice(this.onTimeList.indexOf(s),1)}},e.prototype._play=function(t){this.skeleton.clearTracks(),this.skeleton.setAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha,this._playedTime=0},e.prototype._playAdditive=function(t){this.skeleton.addAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha},e.prototype._stop=function(){this.skeleton.clearTracks(),this._playedTime=0},e.prototype._pause=function(){this._timeScale_BeforePause>0||(this._timeScale_BeforePause=this.skeleton.timeScale,this.skeleton.timeScale=0)},e.prototype._resume=function(){this.skeleton.timeScale=this._timeScale_BeforePause,this._timeScale_BeforePause=-1},e.prototype._getNormalizedTime=function(){if(-1!=this._lastNormalizedTime)return this._lastNormalizedTime;var t,e=this.skeleton.getCurrent(0);if(!e)return-1;t=e.animationEnd;var i=e.trackTime/t;return this._lastNormalizedTime=i,i},e.prototype._onEvent=function(t,e,i){this.onEventList.push({eventTag:t,isOnce:i,func:e})},e.prototype._onComplete=function(t,e){this.onCompleteList.push({isOnce:e,func:t})},e.prototype._onTime=function(t,e,i){this.onTimeList.push({time_percent:t,isOnce:i,func:e,isRunedInLoop:!1})},e.prototype._setTimeScale=function(t){this.skeleton.timeScale=t},e.prototype._getTimeScale=function(){return this.skeleton.timeScale},e.prototype.example_script=function(){var t=this;this.parameter.isToY=!1;var e=new n.AnimClip("xMove").track(0).loop().alpha(1),i=new n.AnimClip("yMove").track(1).loop(),r=new n.AnimClip("xMove").track(0).loop().alpha(.1),s=new n.AnimState("stateX");s.addClip(e);var a=new n.AnimState("stateY");a.addClip(i),a.addClip(r);var c=(new n.AnimTransition).next(a);c.exitTime=2;var u=new n.AnimCondition("isToY",o.Comparer.equal,!0);c.addCondition(u);var p=(new n.AnimTransition).next(s);p.exitTime=2,s.addTransition(c),a.addTransition(p),this.addState(s),this.addState(a),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove",isLoop:!0}],transitions:[{nextState:"stateY",exitTime:2,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove",isLoop:!0,track:0},{name:"yMove",isLoop:!0,track:1}],transitions:[{nextState:"stateX",exitTime:2,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},__decorate([a(sp.Skeleton)],e.prototype,"skeleton",void 0),e=__decorate([s],e)}(n.Animator);i.SpineAnimator=c,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Animator":"index_Animator"}],StateCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"fe89c2o/fpFHJIXEP2Bt928","StateCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_State"),o=t("../../Event/index_Event"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowDebug=!1,e.defaultState="",e.states=[],e.currentState=null,e.user=null,e.onStateChange=new o.Event,e}return __extends(e,t),e.prototype.init=function(t){void 0===t&&(t=null),this.user=t,this.go(this.defaultState)},e.prototype.go=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.stateName==t){this.goState(n);break}}},e.prototype.goState=function(t){if(t&&this.currentState!=t){var e=this.currentState;this.currentState&&this.currentState.onExit(),this.currentState=t,this.isShowDebug&&cc.log("[StateCtrl] goState : "+t.stateName),t.isInited||t.init(this.user),t.onEnter(),this.onStateChange.call(e,t)}},__decorate([a()],e.prototype,"isShowDebug",void 0),__decorate([a()],e.prototype,"defaultState",void 0),__decorate([a(n.State)],e.prototype,"states",void 0),e=__decorate([s],e)}(cc.Component);i.StateCtrl=c,cc._RF.pop()},{"../../Event/index_Event":"index_Event","../index_State":"index_State"}],State:[function(t,e,i){"use strict";cc._RF.push(e,"5af78IiwX5MaJxMaBMVOXCc","State"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.user=null,e._isActive=!1,e._isInited=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInited",{get:function(){return this._isInited},enumerable:!0,configurable:!0}),e.prototype.start=function(){},e.prototype.update=function(t){this.isActive&&this.onUpdate(t)},e.prototype.init=function(t){this.user=t,this._init(t),this._isInited=!0},e.prototype.onEnter=function(){this._isActive=!0,this._onEnter()},e.prototype.onUpdate=function(t){this._onUpdate(t)},e.prototype.onExit=function(){this._isActive=!1,this._onExit()},e.prototype._init=function(t){},e.prototype._onEnter=function(){},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([r()],e.prototype,"stateName",void 0),e=__decorate([o],e)}(cc.Component);i.State=s,cc._RF.pop()},{}],Stringf:[function(t,e,i){"use strict";cc._RF.push(e,"77ec9ds1IRDtLTZIxCqOKUA","Stringf"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.prefix0=function(t,e){return(Array(e).join("0")+t).slice(-e)},t.DecimalSeparator=function(t){return t.toLocaleString("en-us")},t}();i.Stringf=n,cc._RF.pop()},{}],Time:[function(t,e,i){"use strict";cc._RF.push(e,"2f660mvUMNIAYSvHRGPNiuS","Time"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameTimeScale=1,e.gameTime=0,e}var i;return __extends(e,t),i=e,e.getInstance=function(){return n.Uzil.getComp("Time")},Object.defineProperty(e,"timeScale",{get:function(){return i.getInstance().gameTimeScale},set:function(t){i.getInstance().gameTimeScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"time",{get:function(){return i.getInstance().gameTime},enumerable:!0,configurable:!0}),Object.defineProperty(e,"since",{get:function(){return i.getInstance().sinceTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sinceTime",{get:function(){return(Date.now()-i._sinceDate)/1e3},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){i._sinceDate||(i._sinceDate=Date.now())},e.prototype.update=function(t){this.gameTime+=t*this.gameTimeScale},e.instance=null,e=i=__decorate([r],e)}(cc.Component));i.Time=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],TurnMsg:[function(t,e,i){"use strict";cc._RF.push(e,"f3af6JuMg1ES5LZouu44Acu","TurnMsg"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showNodes=[],e.animator=null,e.onShow=new n.Event,e.onHide=new n.Event,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.animator.onEvent("onShowEnd",function(){t.onShow.call()}),this.animator.onEvent("onHideEnd",function(){t.onHide.call()})},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.show=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);for(var n=0;n<this.showNodes.length;n++)this.showNodes[n].active=n==t;this.animator.set("isShow",!0),e&&this.onShow.addOnce(function(){e()}),i&&this.onHide.addOnce(function(){i()})},e.prototype.hide=function(t){void 0===t&&(t=null),this.animator.set("isShow",!1),t&&this.onHide.addOnce(function(){t()})},__decorate([s(cc.Node)],e.prototype,"showNodes",void 0),__decorate([s(n.CocosAnimator)],e.prototype,"animator",void 0),e=__decorate([r],e)}(cc.Component);i.TurnMsg=a,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],UrlArgs:[function(t,e,i){"use strict";cc._RF.push(e,"fe5dfWO37hLjrloBTNLK7io","UrlArgs"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.get=function(t){var e=new URL(location.href).searchParams;return""==e.toString()?null:e.has(t)?e.get(t):null},t}();i.UrlArgs=n,cc._RF.pop()},{}],Uzil:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"53017N1bsBAuZ55KIykWkjt","Uzil"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./System/index_System")),n(t("./Invoker/index_Invoker")),n(t("./Event/index_Event")),n(t("./Shuriken/index_Shuriken")),n(t("./Animator/index_Animator")),n(t("./AniTween/index_AniTween")),n(t("./PageCard/index_PageCard")),n(t("./Bezier/index_Bezier")),n(t("./State/index_State")),n(t("./AudioMng/index_AudioMng"));var o=function(){function t(){}return t.getRootNode=function(){var e=t._rootNode;return e||((e=cc.find("_Uzil"))?(t._rootNode=e,e):((e=new cc.Node).name="_Uzil",e.parent=cc.director.getScene(),t._rootNode=e,e))},t.getComp=function(e){var i=t._compList[e];if(i)return i;var n=t.getRootNode(),o=cc.find("_"+e,n);return o&&(i=o.getComponent(e)),i?(t._compList[e]=i,i):((o=new cc.Node).name="_"+e,o.parent=n,i=o.addComponent(e),t._compList[e]=i,i)},t._rootNode=null,t._compList=[],t}();i.Uzil=o,cc._RF.pop()},{"./AniTween/index_AniTween":"index_AniTween","./Animator/index_Animator":"index_Animator","./AudioMng/index_AudioMng":"index_AudioMng","./Bezier/index_Bezier":"index_Bezier","./Event/index_Event":"index_Event","./Invoker/index_Invoker":"index_Invoker","./PageCard/index_PageCard":"index_PageCard","./Shuriken/index_Shuriken":"index_Shuriken","./State/index_State":"index_State","./System/index_System":"index_System"}],WinState_BattleFight:[function(t,e,i){"use strict";cc._RF.push(e,"1feb1XTS19Ag5sjQ07ciVPN","WinState_BattleFight"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e._winState=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t.director,this._winState=t.winState},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){var t,e,i;return __generator(this,function(o){return t=this,e=this._winState.enemyWins,i=this._winState.playerWins,n.Invoker.invoke(function(){t._director.enemyWuCardPanel.playBattle(e),t._director.playerWuCardPanel.playBattle(i,function(){t._winState.winStateCtrl.go("turnResult")})},1),[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],WinState_BattlePrepare:[function(t,e,i){"use strict";cc._RF.push(e,"20507R6A2tM466ImSP2qBjz","WinState_BattlePrepare"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e._winState=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t.director,this._winState=t.winState},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){var t,e,i,n,o;return __generator(this,function(r){if(this,null==(t=this._director.winData))return[2];for(e=[],i=[],n=[],o=0;o<t.winList.length;o++)switch(t.winList[o]){case 0:i.push(0),n.push(0);break;case 1:i.push(3),n.push(1),e.push(o);break;case 2:i.push(2),n.push(2),e.push(o);break;case 3:i.push(1),n.push(3),e.push(o)}return this._winState.enemyWins=i,this._winState.playerWins=n,this._winState.toShowIdxs=e,this._winState.winData=t,this._winState.winStateCtrl.go("battleShow"),[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],WinState_BattleShow:[function(t,e,i){"use strict";cc._RF.push(e,"ce4063K6LRBK4fZq40qkBgQ","WinState_BattleShow"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e._winState=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t.director,this._winState=t.winState},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){var t,e,i,n,o;return __generator(this,function(r){return t=this,e=this._winState.winData,i=this._winState.toShowIdxs,this._director.enemyWuCardPanel.setFronts(e.enemys,!0),this._director.playerWuCardPanel.setFronts(e.players,!0),n=2,o=function(){0==--n&&t._winState.winStateCtrl.go("battleFight")},this._director.playerWuCardPanel.playShow(i,function(){o()}),this._director.enemyWuCardPanel.playShow(null,function(){o()}),[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],WinState_Idle:[function(t,e,i){"use strict";cc._RF.push(e,"3fbbem2JAJGgrAVW496sv1w","WinState_Idle"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e._winState=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t.director,this._winState=t.winState},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(t){return[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],WinState_Result:[function(t,e,i){"use strict";cc._RF.push(e,"5aecdD5StBG9aqnBpt/ypA0","WinState_Result"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=t("../../Rules/WuBattleRule"),r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e._winState=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t.director,this._winState=t.winState},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){var t,e,i,r,s,a,c,u,p,l,h,d;return __generator(this,function(f){for(t=this,e=this._winState.winData,i=1,r=this._winState.playerWins,s=0,a=r;s<a.length;s++){if(1==(c=a[s])){i=0;break}3==c&&(i=2)}for((u=this._director.resultPanel).setGroup(i),p="",h=0;h<e.enemys.length;h++)d=e.enemys[h],p+=o.default.getWuName(d),h!=e.enemys.length-1&&(p+=", ");for(l="",h=0;h<e.players.length;h++)d=e.players[h],l+=o.default.getWuName(d),h!=e.players.length-1&&(l+=", ");return u.setContent(["\u7b2c"+n.Stringf.prefix0(e.volume,8)+"\u671f",p,l,n.Stringf.DecimalSeparator(e.bet)]),u.setReward(e.reward),t._director.playerInfo.setWins(e.reward),u.show(),u.onConfirm.addOnce(function(){u.hide(),t._director.blackBGAnim.set("isShow",!1),n.Invoker.invoke(function(){t._winState.winStateCtrl.go("idle"),t._director.stateCtrl.go("wait")},1)}),[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._director.playerWuCardPanel.playHold(),this._director.enemyWuCardPanel.playHold(),this._director.enemyWuCardPanel.playIdle(),this._director.playerWuCardPanel.playIdle()},e=__decorate([s],e)}(n.State));i.default=a,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil","../../Rules/WuBattleRule":"WuBattleRule"}],WinState_TurnBattle:[function(t,e,i){"use strict";cc._RF.push(e,"56678wh1WZLF6ImWBg9pitQ","WinState_TurnBattle"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e._winState=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t.director,this._winState=t.winState},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){var t,e=this;return __generator(this,function(i){return(t=this)._director.blackBGAnim.set("isShow",!0),t._director.turnMsgPanel.show(2,function(){n.Invoker.invoke(function(){t._director.turnMsgPanel.hide(),e._director.blackBGAnim.set("isShow",!1)},.8)},function(){t._winState.winStateCtrl.go("battlePrepare")}),[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],WinState_TurnResult:[function(t,e,i){"use strict";cc._RF.push(e,"4e85e5iOVJNp5Iur21FWz94","WinState_TurnResult"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._director=null,e._winState=null,e}return __extends(e,t),e.prototype._init=function(t){this._director=t.director,this._winState=t.winState},e.prototype._onEnter=function(){return __awaiter(this,void 0,Promise,function(){var t;return __generator(this,function(e){return(t=this)._director.blackBGAnim.set("isShow",!0),t._director.turnMsgPanel.show(3,function(){n.Invoker.invoke(function(){t._director.turnMsgPanel.hide()},.8)},function(){t._winState.winStateCtrl.go("result")}),[2]})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.State));i.default=s,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],WuBattleRule:[function(t,e,i){"use strict";cc._RF.push(e,"982aa0ispxPLZE0D/09pcUr","WuBattleRule"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.isWin=function(e,i){return t.wuWinSheet[e][i]},t.getWuName=function(e){return e<0||e>t.wuNameSheet.length?t.wuNameNull:t.wuNameSheet[e]},t.wuWinSheet=[[2,3,3,1,1],[1,2,1,3,3],[1,3,2,3,1],[3,1,1,2,3],[3,1,3,1,2]],t.wuNameSheet=["\u91d1","\u6728","\u6c34","\u706b","\u571f"],t.wuNameNull="\u2014",t}();i.default=n,cc._RF.pop()},{}],WuBattleTest:[function(t,e,i){"use strict";cc._RF.push(e,"b112bm2bl9F3owQRX3pVtaz","WuBattleTest"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./WuBattle/WuCardPanel"),o=t("../import/uzil/Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerPanel=null,e.enemyPanel=null,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.schedule(function(){for(var e=[],i=[],n=0;n<5;n++){var r=new o.RandomRange(0,1).get()>.5;e.push(r),i.push(!r)}t.playerPanel.playBattle(e,function(){t.scheduleOnce(function(){t.playerPanel.playIdle()},3)}),t.enemyPanel.playBattle(i,function(){t.scheduleOnce(function(){t.enemyPanel.playIdle()},3)})},5,cc.macro.REPEAT_FOREVER,2)},__decorate([a(n.default)],e.prototype,"playerPanel",void 0),__decorate([a(n.default)],e.prototype,"enemyPanel",void 0),e=__decorate([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{"../import/uzil/Uzil":"Uzil","./WuBattle/WuCardPanel":"WuCardPanel"}],WuCardObj:[function(t,e,i){"use strict";cc._RF.push(e,"5d887om80tJk5k4zu80Zu4A","WuCardObj"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../import/uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbol=-1,e.isShow=!1,e.isIdle=!0,e._isCallShow=!1,e._isCallChangeFront=!1,e.animator=null,e.flipAnimator=null,e.spriteRoot=null,e.sprite_front=null,e._frontSpriteFrame=null,e.sprite_back=null,e.highlightNode=null,e.onAnimEnd=new n.Event,e.onBackIdle=new n.Event,e.onClick=new n.Event,e.onShowEnd=new n.Event,e.onHoldEnd=new n.Event,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.spriteRoot.rotation=-this.node.rotation,this.animator.onEvent("onBackIdle",function(){t.animator.set("isBackIdle",!1),t.onBackIdle.call(),t.isIdle=!0}),this.animator.onEvent("onAnimEnd",function(){t.onAnimEnd.call()}),this.flipAnimator.onEvent("onShowEnd",function(){t.isShow=!0,t.onShowEnd.call()}),this.flipAnimator.onEvent("onHoldEnd",function(){t.isShow=!1,t._checkAndChangeFront(),t.onHoldEnd.call()})},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.onCardClick=function(){this.onClick.call(this.symbol),cc.log("onClick: "+this.node.name)},e.prototype.reset=function(){this.setSymbol(-1),this.setFrontImg(null),this.setBackImg(null),this.isShow&&this.playHold(),this.setHightlight(!1)},e.prototype.setFrontImg=function(t,e){void 0===e&&(e=!1);var i=this;this.isShow&&!e?(this._isCallChangeFront=!0,this._frontSpriteFrame=t,this.playHold(function(){i._isCallShow&&i.playShow()}),this._isCallShow=!0):(this._isCallChangeFront=!1,this._frontSpriteFrame=t,this.sprite_front.spriteFrame=t)},e.prototype.setBackImg=function(t){this.sprite_back.spriteFrame=t},e.prototype.setSymbol=function(t){this.symbol=t},e.prototype.setHightlight=function(t){this.highlightNode.active=t},e.prototype.playAnim=function(t,e){void 0===e&&(e=null),this.animator.play(t),this.isIdle=!1,e&&this.onAnimEnd.addOnce(function(){e()})},e.prototype.playIdle=function(t){void 0===t&&(t=null),this.isIdle&&t?t():(this.animator.set("isBackIdle",!0),t&&this.onBackIdle.addOnce(function(){t()}))},e.prototype.playHold=function(t){void 0===t&&(t=null),this.isShow?(this._isCallShow=!1,this.flipAnimator.set("isShow",!1),t&&this.onHoldEnd.addOnce(function(){t()})):t&&t()},e.prototype.playShow=function(t){void 0===t&&(t=null),this.isShow?t&&t():(this._isCallShow=!0,this.flipAnimator.set("isShow",!0),t&&this.onShowEnd.addOnce(function(){t()}))},e.prototype._checkAndChangeFront=function(){this._isCallChangeFront&&(this.sprite_front.spriteFrame=this._frontSpriteFrame,this._isCallChangeFront=!1)},__decorate([s(n.CocosAnimator)],e.prototype,"animator",void 0),__decorate([s(n.CocosAnimator)],e.prototype,"flipAnimator",void 0),__decorate([s(cc.Node)],e.prototype,"spriteRoot",void 0),__decorate([s(cc.Sprite)],e.prototype,"sprite_front",void 0),__decorate([s(cc.Sprite)],e.prototype,"sprite_back",void 0),__decorate([s(cc.Node)],e.prototype,"highlightNode",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../../../import/uzil/Uzil":"Uzil"}],WuCardPanel:[function(t,e,i){"use strict";cc._RF.push(e,"e91d4UTz6hBhqF4gApKUcxB","WuCardPanel"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./WuCard/WuCardObj"),o=t("../../import/uzil/Uzil"),r=t("../Res/WuCardRes"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardObjs=[],e.eachAnimDelay_sec=.1,e.showDelay_sec=.1,e.holdDelay_sec=0,e.winAnimName="win_player",e._playingCardCount=0,e._backIdleCardCount=0,e.onCardClick=new o.Event,e.onAnimEnd=new o.Event,e.onBackIdle=new o.Event,e.isWin=!1,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=this,e=function(e){i.cardObjs[e].onClick.add(function(i,n){t.onCardClick.call(e,n)})},i=this,n=0;n<this.cardObjs.length;n++)e(n)},e.prototype.start=function(){},e.prototype.reset=function(){for(var t=0;t<this.cardObjs.length;t++){this.cardObjs[t].reset()}},e.prototype.showCard=function(t){this.cardObjs[t].playShow()},e.prototype.holdCard=function(t){this.cardObjs[t].playHold()},e.prototype.setFront=function(t,e,i){void 0===i&&(i=!1);var n=this.cardObjs[t],o=r.default.instance.wuCards_front,s=null;(t>0||t<o.length)&&(s=o[e]),n.setFrontImg(s,i)},e.prototype.setFronts=function(t,e){void 0===e&&(e=!1);for(var i=0;i<t.length;i++)this.setFront(i,t[i],e)},e.prototype.setBack=function(t,e){var i=this.cardObjs[t],n=r.default.instance.wuCards_back,o=null;(t>0||t<n.length)&&(o=n[e]),i.setBackImg(o)},e.prototype.setSymbol=function(t,e){this.cardObjs[t].setSymbol(e)},e.prototype.getSymbols=function(){for(var t=[],e=0,i=this.cardObjs;e<i.length;e++){var n=i[e];t.push(n.symbol)}return t},e.prototype.playBattle=function(t,e){void 0===e&&(e=null);var i=this;e&&this.onAnimEnd.addOnce(function(){e()}),this._foreachCard(function(e,n){var r=t[e],s=i.cardObjs[e];o.Invoker.invoke(function(){var t=function(){n()},e=!1;1==r?(s.playAnim("lose",t),s.setHightlight(!1),e=!0):2==r?(s.playAnim("draw",t),s.setHightlight(!1),e=!0):3==r?(s.playAnim(i.winAnimName,t),e=!0):t(),e&&s.animator.onTimeOnce(.2,function(){o.AudioMng.play("WuCard_fight")})},i.eachAnimDelay_sec*e)},0,function(){i.onAnimEnd.call()})},e.prototype.playShow=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=this;this._foreachCard(function(e,n){null==t||-1!=t.indexOf(e)?i.cardObjs[e].playShow(function(){n()}):n()},i.showDelay_sec,function(){e&&e()})},e.prototype.playHold=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=this;this._foreachCard(function(e,n){null==t||-1!=t.indexOf(e)?i.cardObjs[e].playHold(function(){n()}):n()},i.holdDelay_sec,function(){e&&e()})},e.prototype.playIdle=function(t){void 0===t&&(t=null);var e=this;this._foreachCard(function(t,i){e.cardObjs[t].playIdle(function(){i()})},e.holdDelay_sec,function(){t&&t()})},e.prototype.highlightCard=function(t,e){this.cardObjs[t].setHightlight(e)},e.prototype.highlightCards=function(t){for(var e=0,i=this.cardObjs;e<i.length;e++){i[e].setHightlight(t)}},e.prototype._foreachCard=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=null);for(var n=this.cardObjs.length,r=function(r){o.Invoker.invoke(function(){t(r,function(){0==--n&&i()})},e*r)},s=0;s<this.cardObjs.length;s++)r(s)},__decorate([c(n.default)],e.prototype,"cardObjs",void 0),__decorate([c()],e.prototype,"eachAnimDelay_sec",void 0),__decorate([c()],e.prototype,"showDelay_sec",void 0),__decorate([c()],e.prototype,"holdDelay_sec",void 0),__decorate([c()],e.prototype,"winAnimName",void 0),__decorate([c()],e.prototype,"isWin",void 0),e=__decorate([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../../import/uzil/Uzil":"Uzil","../Res/WuCardRes":"WuCardRes","./WuCard/WuCardObj":"WuCardObj"}],WuCardRes:[function(t,e,i){"use strict";cc._RF.push(e,"66df0yWmE9F8JWN5EiC0NyH","WuCardRes"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wuCards_front=[],e.wuCards_back=[],e}var i;return __extends(e,t),i=e,e.prototype.onLoad=function(){i.instance=this},e.prototype.start=function(){},e.prototype.update=function(t){},e.instance=null,__decorate([r(cc.SpriteFrame)],e.prototype,"wuCards_front",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"wuCards_back",void 0),e=i=__decorate([o],e)}(cc.Component);i.default=s,cc._RF.pop()},{}],bezier:[function(t,e,i){"use strict";cc._RF.push(e,"6aa47f/H45DDaJHBdz8trep","bezier"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),o=t("./poly-bezier"),r=t("./svg-to-beziers"),s=Math.abs,a=Math.min,c=Math.max,u=Math.cos,p=Math.sin,l=Math.acos,h=Math.sqrt,d=Math.PI,f={x:0,y:0,z:0},_=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=t&&t.forEach?t:[].slice.call(arguments),r=!1;if("object"==typeof o[0]){r=o.length;var a=[];o.forEach(function(t){["x","y","z"].forEach(function(e){void 0!==t[e]&&a.push(t[e])})}),o=a}var c=!1,u=o.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");c=!0}}else if(6!==u&&8!==u&&9!==u&&12!==u&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var p=!c&&(9===u||12===u)||t&&t[0]&&void 0!==t[0].z;this._3d=p;for(var l=[],h=0,d=p?3:2;h<u;h+=d){var f={x:o[h],y:o[h+1]};p&&(f.z=o[h+2]),l.push(f)}this.order=l.length-1,this.points=l;var _=["x","y"];p&&_.push("z"),this.dims=_,this.dimlen=_.length,function(t){for(var e=t.order,i=t.points,o=n.default.align(i,{p1:i[0],p2:i[e]}),r=0;r<o.length;r++)if(s(o[r].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};function y(t,e,i,o,r){void 0===r&&(r=.5);var s=n.default.projectionratio(r,t),a=1-s,c={x:s*e.x+a*o.x,y:s*e.y+a*o.y},u=n.default.abcratio(r,t);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c}}_.SVGtoBeziers=function(t){return r.default(_,t)},_.quadraticFromPoints=function(t,e,i,n){if(void 0===n&&(n=.5),0===n)return new _(e,e,i);if(1===n)return new _(t,e,e);var o=y(2,t,e,i,n);return new _(t,o.A,i)},_.cubicFromPoints=function(t,e,i,o,r){void 0===o&&(o=.5);var s=y(3,t,e,i,o);void 0===r&&(r=n.default.dist(e,s.C));var a=r*(1-o)/o,c=n.default.dist(t,i),u=(i.x-t.x)/c,p=(i.y-t.y)/c,l=r*u,h=r*p,d=a*u,f=a*p,v=e.x-l,m=e.y-h,g=e.x+d,S=e.y+f,x=s.A,A=x.x+(v-x.x)/(1-o),P=x.y+(m-x.y)/(1-o),C=x.x+(g-x.x)/o,b=x.y+(S-x.y)/o,T={x:t.x+(A-t.x)/o,y:t.y+(P-t.y)/o},w={x:i.x+(C-i.x)/(1-o),y:i.y+(b-i.y)/(1-o)};return new _(t,T,w,i)};var v=function(){return n.default};_.getUtils=v,_.PolyBezier=o.default,_.prototype={getUtils:v,valueOf:function(){return this.toString()},toString:function(){return n.default.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var e=this.points,i=["M",e[0].x,e[0].y,2===this.order?"Q":"C"],n=1,o=e.length;n<o;n++)i.push(e[n].x),i.push(e[n].y);return i.join(" ")},update:function(){this._lut=[],this.dpoints=n.default.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var t=this.points,e=n.default.angle(t[0],t[this.order],t[1]);this.clockwise=e>0},length:function(){return n.default.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(var e=0;e<=t;e++)this._lut.push(this.compute(e/t));return this._lut},on:function(t,e){e=e||5;for(var i,o=this.getLUT(),r=[],s=0,a=0;a<o.length;a++)i=o[a],n.default.dist(i,t)<e&&(r.push(i),s+=a/o.length);return!!r.length&&s/r.length},project:function(t){var e=this.getLUT(),i=e.length-1,o=n.default.closest(e,t),r=o.mdist,s=o.mpos;if(0===s||s===i){var a=s/i,c=this.compute(a);return c.t=a,c.d=r,c}var u,p,l,h=(s+1)/i,d=.1/i;for(r+=1,u=a=(s-1)/i;a<h+d;a+=d)p=this.compute(a),(l=n.default.dist(t,p))<r&&(r=l,u=a);return(p=this.compute(u)).t=u,p.d=r,p},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){return n.default.compute(t,this.points,this._3d)},raise:function(){for(var t,e,i=this.points,n=[i[0]],o=i.length,r=1;r<o;r++)t=i[r],e=i[r-1],n[r]={x:(o-r)/o*t.x+r/o*e.x,y:(o-r)/o*t.y+r/o*e.y};return n[o]=i[o-1],new _(n)},derivative:function(t){var e,i,n=1-t,o=0,r=this.dpoints[0];2===this.order&&(r=[r[0],r[1],f],e=n,i=t),3===this.order&&(e=n*n,i=n*t*2,o=t*t);var s={x:e*r[0].x+i*r[1].x+o*r[2].x,y:e*r[0].y+i*r[1].y+o*r[2].y};return this._3d&&(s.z=e*r[0].z+i*r[1].z+o*r[2].z),s},curvature:function(t){return n.default.curvature(t,this.points,this._3d)},inflections:function(){return n.default.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var e=this.derivative(t),i=h(e.x*e.x+e.y*e.y);return{x:-e.y/i,y:e.x/i}},__normal3:function(t){var e=this.derivative(t),i=this.derivative(t+.01),n=h(e.x*e.x+e.y*e.y+e.z*e.z),o=h(i.x*i.x+i.y*i.y+i.z*i.z);e.x/=n,e.y/=n,e.z/=n,i.x/=o,i.y/=o,i.z/=o;var r={x:i.y*e.z-i.z*e.y,y:i.z*e.x-i.x*e.z,z:i.x*e.y-i.y*e.x},s=h(r.x*r.x+r.y*r.y+r.z*r.z);r.x/=s,r.y/=s,r.z/=s;var a=[r.x*r.x,r.x*r.y-r.z,r.x*r.z+r.y,r.x*r.y+r.z,r.y*r.y,r.y*r.z-r.x,r.x*r.z-r.y,r.y*r.z+r.x,r.z*r.z];return{x:a[0]*e.x+a[1]*e.y+a[2]*e.z,y:a[3]*e.x+a[4]*e.y+a[5]*e.z,z:a[6]*e.x+a[7]*e.y+a[8]*e.z}},hull:function(t){var e,i=this.points,o=[],r=[],s=0,a=0,c=0;for(r[s++]=i[0],r[s++]=i[1],r[s++]=i[2],3===this.order&&(r[s++]=i[3]);i.length>1;){for(o=[],a=0,c=i.length-1;a<c;a++)e=n.default.lerp(t,i[a],i[a+1]),r[s++]=e,o.push(e);i=o}return r},split:function(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;var i=this.hull(t),o={left:2===this.order?new _([i[0],i[3],i[5]]):new _([i[0],i[4],i[7],i[9]]),right:2===this.order?new _([i[5],i[4],i[2]]):new _([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=n.default.map(0,0,1,this._t1,this._t2),o.left._t2=n.default.map(t,0,1,this._t1,this._t2),o.right._t1=n.default.map(t,0,1,this._t1,this._t2),o.right._t2=n.default.map(1,0,1,this._t1,this._t2),e?(e=n.default.map(e,t,1,0,1),o.right.split(e).left):o},extrema:function(){var t,e,i={},o=[];return this.dims.forEach(function(r){e=function(t){return t[r]},t=this.dpoints[0].map(e),i[r]=n.default.droots(t),3===this.order&&(t=this.dpoints[1].map(e),i[r]=i[r].concat(n.default.droots(t))),i[r]=i[r].filter(function(t){return t>=0&&t<=1}),o=o.concat(i[r].sort(n.default.numberSort))}.bind(this)),o=o.sort(n.default.numberSort).filter(function(t,e){return o.indexOf(t)===e}),i.values=o,i},bbox:function(){var t=this.extrema(),e={};return this.dims.forEach(function(i){e[i]=n.default.getminmax(this,i,t[i])}.bind(this)),e},overlaps:function(t){var e=this.bbox(),i=t.bbox();return n.default.bboxoverlap(e,i)},offset:function(t,e){if(void 0!==e){var i=this.get(t),n=this.normal(t),o={c:i,n:n,x:i.x+n.x*e,y:i.y+n.y*e};return this._3d&&(o.z=i.z+n.z*e),o}if(this._linear){var r=this.normal(0),s=this.points.map(function(e){var i={x:e.x+t*r.x,y:e.y+t*r.y};return e.z&&n.z&&(i.z=e.z+t*r.z),i});return[new _(s)]}return this.reduce().map(function(e){return e.scale(t)})},simple:function(){if(3===this.order){var t=n.default.angle(this.points[0],this.points[3],this.points[1]),e=n.default.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}var i=this.normal(0),o=this.normal(1),r=i.x*o.x+i.y*o.y;return this._3d&&(r+=i.z*o.z),s(l(r))<d/3},reduce:function(){var t,e,i=0,o=0,r=[],a=[],c=this.extrema().values;for(-1===c.indexOf(0)&&(c=[0].concat(c)),-1===c.indexOf(1)&&c.push(1),i=c[0],t=1;t<c.length;t++)o=c[t],(e=this.split(i,o))._t1=i,e._t2=o,r.push(e),i=o;return r.forEach(function(t){for(i=0,o=0;o<=1;)for(o=i+.01;o<=1.01;o+=.01)if(!(e=t.split(i,o)).simple()){if(s(i-(o-=.01))<.01)return[];(e=t.split(i,o))._t1=n.default.map(i,0,1,t._t1,t._t2),e._t2=n.default.map(o,0,1,t._t1,t._t2),a.push(e),i=o;break}i<1&&((e=t.split(i,1))._t1=n.default.map(i,0,1,t._t1,t._t2),e._t2=t._t2,a.push(e))}),a},scale:function(t){var e=this.order,i=!1;if("function"==typeof t&&(i=t),i&&2===e)return this.raise().scale(i);var o=this.clockwise,r=i?i(0):t,s=i?i(1):t,a=[this.offset(0,10),this.offset(1,10)],c=n.default.lli4(a[0],a[0].c,a[1],a[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");var u=this.points,p=[];return[0,1].forEach(function(t){var i=p[t*e]=n.default.copy(u[t*e]);i.x+=(t?s:r)*a[t].n.x,i.y+=(t?s:r)*a[t].n.y}.bind(this)),i?([0,1].forEach(function(n){if(2!==this.order||!n){var r=u[n+1],s={x:r.x-c.x,y:r.y-c.y},a=i?i((n+1)/e):t;i&&!o&&(a=-a);var l=h(s.x*s.x+s.y*s.y);s.x/=l,s.y/=l,p[n+1]={x:r.x+a*s.x,y:r.y+a*s.y}}}.bind(this)),new _(p)):([0,1].forEach(function(t){if(2!==this.order||!t){var i=p[t*e],o=this.derivative(t),r={x:i.x+o.x,y:i.y+o.y};p[t+1]=n.default.lli4(i,r,c,u[t+1])}}.bind(this)),new _(p))},outline:function(t,e,i,r){e=void 0===e?t:e;var s,a=this.reduce(),c=a.length,u=[],p=[],l=0,h=this.length(),d=void 0!==i&&void 0!==r;function f(t,e,i,o,r){return function(s){var a=o/i,c=(o+r)/i,u=e-t;return n.default.map(s,0,1,t+a*u,t+c*u)}}a.forEach(function(n){A=n.length(),d?(u.push(n.scale(f(t,i,h,l,A))),p.push(n.scale(f(-e,-r,h,l,A)))):(u.push(n.scale(t)),p.push(n.scale(-e))),l+=A}),p=p.map(function(t){return(s=t.points)[3]?t.points=[s[3],s[2],s[1],s[0]]:t.points=[s[2],s[1],s[0]],t}).reverse();var _=u[0].points[0],y=u[c-1].points[u[c-1].points.length-1],v=p[c-1].points[p[c-1].points.length-1],m=p[0].points[0],g=n.default.makeline(v,_),S=n.default.makeline(y,m),x=[g].concat(u).concat([S]).concat(p),A=x.length;return new o.default(x)},outlineshapes:function(t,e,i){e=e||t;for(var o=this.outline(t,e).curves,r=[],s=1,a=o.length;s<a/2;s++){var c=n.default.makeshape(o[s],o[a-s],i);c.startcap.virtual=s>1,c.endcap.virtual=s<a/2-1,r.push(c)}return r},intersects:function(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof _&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)},lineIntersects:function(t){var e=a(t.p1.x,t.p2.x),i=a(t.p1.y,t.p2.y),o=c(t.p1.x,t.p2.x),r=c(t.p1.y,t.p2.y),s=this;return n.default.roots(this.points,t).filter(function(t){var a=s.get(t);return n.default.between(a.x,e,o)&&n.default.between(a.y,i,r)})},selfintersects:function(t){var e,i,n,o,r=this.reduce(),s=r.length-2,a=[];for(e=0;e<s;e++)n=r.slice(e,e+1),o=r.slice(e+2),i=this.curveintersects(n,o,t),a=a.concat(i);return a},curveintersects:function(t,e,i){var o=[];t.forEach(function(t){e.forEach(function(e){t.overlaps(e)&&o.push({left:t,right:e})})});var r=[];return o.forEach(function(t){var e=n.default.pairiteration(t.left,t.right,i);e.length>0&&(r=r.concat(e))}),r},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,e,i,o){var r=(o-i)/4,a=this.get(i+r),c=this.get(o-r),u=n.default.dist(t,e),p=n.default.dist(t,a),l=n.default.dist(t,c);return s(p-u)+s(l-u)},_iterate:function(t,e){var i,o=0,r=1;do{i=0,r=1;var s,a,c,l,h,d=this.get(o),f=!1,_=!1,y=r,v=1;do{if(_=f,l=c,y=(o+r)/2,0,s=this.get(y),a=this.get(r),(c=n.default.getccenter(d,s,a)).interval={start:o,end:r},f=this._error(c,d,o,r)<=t,(h=_&&!f)||(v=r),f){if(r>=1){if(c.interval.end=v=1,l=c,r>1){var m={x:c.x+c.r*u(c.e),y:c.y+c.r*p(c.e)};c.e+=n.default.angle({x:c.x,y:c.y},m,this.get(1))}break}r+=(r-o)/2}else r=y}while(!h&&i++<100);if(i>=100)break;l=l||c,e.push(l),o=v}while(r<1);return e}},i.default=_,cc._RF.pop()},{"./poly-bezier":"poly-bezier","./svg-to-beziers":"svg-to-beziers","./utils":"utils"}],example_Animator:[function(t,e,i){"use strict";cc._RF.push(e,"683f3oS26xEb6dYL8SIz0lE","example_Animator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../script/core/Animator"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animator=null,e}return __extends(e,t),e.prototype.start=function(){this.test2()},e.prototype.update=function(t){},e.prototype.test1=function(){var t=this;this.animator.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove"}],transitions:[{nextState:"stateY",exitTime:.5,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove"},{name:"yMove"}],transitions:[{nextState:"stateX",exitTime:1,conditions:[]}]}]}),cc.log("loaded"),this.scheduleOnce(function(){t.animator.set("isToY",!0),cc.log("isToY true")},3),this.scheduleOnce(function(){t.animator.set("isToY",!1),cc.log("isToY false")},20)},e.prototype.test2=function(){var t=this;this.animator.load({defaultState:"stateA",parameter:{isToB:!1},states:[{name:"stateA",clips:[{name:"xMove"}],transitions:[{nextState:"stateB",exitTime:.5,conditions:[{key:"isToB",comparer:"==",value:!0}]}]},{name:"stateB",clips:[{name:"scale"},{name:"yMove"}],transitions:[{nextState:"stateA",exitTime:1,conditions:[]}]}]}),cc.log("loaded"),this.scheduleOnce(function(){t.animator.set("isToB",!0),cc.log("isToB true")},3),this.scheduleOnce(function(){t.animator.set("isToB",!1),cc.log("isToB false")},20)},__decorate([s(n.Animator)],e.prototype,"animator",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../script/core/Animator":"Animator"}],example_PageCard:[function(t,e,i){"use strict";cc._RF.push(e,"fa2f5f5jZZNfZulM+AB6Ix9","example_PageCard"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){n.PageCtrl.get().GoPage("page1"),this.scheduleOnce(function(){n.PageCtrl.get().GoPage("page2")},3),this.scheduleOnce(function(){n.PageCtrl.get().GoPage("page3")},6),this.scheduleOnce(function(){n.PageCtrl.get().HidePage("page3"),n.PageCtrl.get("another").GoPage("page3")},9)},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],index_AniTween:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"a130fPuj89Fqa1ES2cehGsI","index_AniTween"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/AniTween")),n(t("./script/AniAct")),n(t("./script/act/AniMove")),n(t("./script/act/AniGoto")),n(t("./script/act/AniSpin")),n(t("./script/act/AniSwing")),n(t("./script/act/AniLookAt")),n(t("./script/act/AniSpiral")),n(t("./script/act/AniPath")),n(t("./script/act/AniCollect")),cc._RF.pop()},{"./script/AniAct":"AniAct","./script/AniTween":"AniTween","./script/act/AniCollect":"AniCollect","./script/act/AniGoto":"AniGoto","./script/act/AniLookAt":"AniLookAt","./script/act/AniMove":"AniMove","./script/act/AniPath":"AniPath","./script/act/AniSpin":"AniSpin","./script/act/AniSpiral":"AniSpiral","./script/act/AniSwing":"AniSwing"}],index_Animator:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"57a93tr4rNCM7sqyFQlJbmd","index_Animator"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/core/AnimClip")),n(t("./script/core/AnimCondition")),n(t("./script/core/AnimTransition")),n(t("./script/core/AnimState")),n(t("./script/core/AnimFactory")),n(t("./script/core/Animator")),n(t("./script/CocosAnimator")),n(t("./script/SpineAnimator")),cc._RF.pop()},{"./script/CocosAnimator":"CocosAnimator","./script/SpineAnimator":"SpineAnimator","./script/core/AnimClip":"AnimClip","./script/core/AnimCondition":"AnimCondition","./script/core/AnimFactory":"AnimFactory","./script/core/AnimState":"AnimState","./script/core/AnimTransition":"AnimTransition","./script/core/Animator":"Animator"}],index_ArcaComm:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"72dc8YEcZZCxaDfw0QJSDLr","index_ArcaComm"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./BetTool/index_BetTool")),n(t("./JackpotBar/index_JackpotBar")),n(t("./PlayerInfo/index_PlayerInfo")),n(t("./GameInfo/index_GameInfo")),n(t("./TurnMsg/index_TurnMsg")),n(t("./NumCounter/index_NumCounter")),n(t("./ResultPanel/index_ResultPanel")),cc._RF.pop()},{"./BetTool/index_BetTool":"index_BetTool","./GameInfo/index_GameInfo":"index_GameInfo","./JackpotBar/index_JackpotBar":"index_JackpotBar","./NumCounter/index_NumCounter":"index_NumCounter","./PlayerInfo/index_PlayerInfo":"index_PlayerInfo","./ResultPanel/index_ResultPanel":"index_ResultPanel","./TurnMsg/index_TurnMsg":"index_TurnMsg"}],index_AudioMng:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"e197ama8uhHRohChwE5t6EY","index_AudioMng"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/AudioMng")),n(t("./script/AudioObj")),cc._RF.pop()},{"./script/AudioMng":"AudioMng","./script/AudioObj":"AudioObj"}],index_BetTool:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"59983WYSIBIhZpz5ayl/ubq","index_BetTool"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/BetTool")),n(t("./script/ChipList")),n(t("./script/ChipObj")),n(t("./script/ChipSet")),cc._RF.pop()},{"./script/BetTool":"BetTool","./script/ChipList":"ChipList","./script/ChipObj":"ChipObj","./script/ChipSet":"ChipSet"}],index_Bezier:[function(t,e,i){"use strict";cc._RF.push(e,"ef1a10nJhFIWIGd5KhbSqtz","index_Bezier"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/BezierData")),cc._RF.pop()},{"./script/BezierData":"BezierData"}],index_Curve:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"a7fe3D6zv9Ji6apzDBnSKs9","index_Curve"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/CurveData")),n(t("./script/PointData")),cc._RF.pop()},{"./script/CurveData":"CurveData","./script/PointData":"PointData"}],index_Event:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"1a259Qu0RRH/q+2XH/O6hh5","index_Event"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Event")),n(t("./script/EventBus")),n(t("./script/EventListener")),n(t("./script/EventData")),cc._RF.pop()},{"./script/Event":"Event","./script/EventBus":"EventBus","./script/EventData":"EventData","./script/EventListener":"EventListener"}],index_GameInfo:[function(t,e,i){"use strict";cc._RF.push(e,"b2bbcxPqtBKX6KSQBs/WZXx","index_GameInfo"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/GameInfoPanel")),cc._RF.pop()},{"./script/GameInfoPanel":"GameInfoPanel"}],index_Invoker:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"1d66d7qhw1D/LxZYNLGBCIS","index_Invoker"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Invoker")),n(t("./script/InvokerQueue")),n(t("./script/InvokerQueueTask")),n(t("./script/InvokerTask")),n(t("./script/InvokerUpdateTask")),cc._RF.pop()},{"./script/Invoker":"Invoker","./script/InvokerQueue":"InvokerQueue","./script/InvokerQueueTask":"InvokerQueueTask","./script/InvokerTask":"InvokerTask","./script/InvokerUpdateTask":"InvokerUpdateTask"}],index_JackpotBar:[function(t,e,i){"use strict";cc._RF.push(e,"9389bpQrgZKzrEVgxeLcVMA","index_JackpotBar"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/JackpotBar")),cc._RF.pop()},{"./script/JackpotBar":"JackpotBar"}],index_NumCounter:[function(t,e,i){"use strict";cc._RF.push(e,"042e81VQZZA847ZvoMr4mMl","index_NumCounter"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/NumCounter")),cc._RF.pop()},{"./script/NumCounter":"NumCounter"}],index_ObjPool:[function(t,e,i){"use strict";cc._RF.push(e,"63736d9e5tDYKcYDN5p2die","index_ObjPool"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./ObjPool")),cc._RF.pop()},{"./ObjPool":"ObjPool"}],index_PageCard:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"2daf5xgQgVOt5VzeVHBQssk","index_PageCard"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Card")),n(t("./script/Page")),n(t("./script/PageCtrl")),cc._RF.pop()},{"./script/Card":"Card","./script/Page":"Page","./script/PageCtrl":"PageCtrl"}],index_PlayerInfo:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"ec2b7+F8BVK5KHvaY7esxUE","index_PlayerInfo"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/PlayerInfoPanel")),n(t("./script/PlayerInfoBlock")),cc._RF.pop()},{"./script/PlayerInfoBlock":"PlayerInfoBlock","./script/PlayerInfoPanel":"PlayerInfoPanel"}],index_ResultPanel:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"ede71X6lD5L/6UEPUndP2le","index_ResultPanel"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/ResultInfoField")),n(t("./script/ResultInfoGroup")),n(t("./script/ResultInfoPanel")),cc._RF.pop()},{"./script/ResultInfoField":"ResultInfoField","./script/ResultInfoGroup":"ResultInfoGroup","./script/ResultInfoPanel":"ResultInfoPanel"}],index_Shuriken:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"9656aKHGVlNXIly9Q2mgSYO","index_Shuriken"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/ShurikenSystem")),n(t("./script/Shuriken")),n(t("./script/ShurikenEmitter")),n(t("./script/Emitter/ShurikenEmitter_Base")),n(t("./script/Emitter/ShurikenEmitter_NodeRect")),n(t("./script/Emitter/ShurikenEmitter_Circle")),cc._RF.pop()},{"./script/Emitter/ShurikenEmitter_Base":"ShurikenEmitter_Base","./script/Emitter/ShurikenEmitter_Circle":"ShurikenEmitter_Circle","./script/Emitter/ShurikenEmitter_NodeRect":"ShurikenEmitter_NodeRect","./script/Shuriken":"Shuriken","./script/ShurikenEmitter":"ShurikenEmitter","./script/ShurikenSystem":"ShurikenSystem"}],index_State:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"36fc32rSJZEAo0PCtMTMQAp","index_State"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/State")),n(t("./script/StateCtrl")),cc._RF.pop()},{"./script/State":"State","./script/StateCtrl":"StateCtrl"}],index_System:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"34a64d7hmJH856JKT9k9YYY","index_System"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Time")),n(t("./script/Mathf")),n(t("./script/Objf")),n(t("./script/Comparer")),n(t("./script/UrlArgs")),n(t("./script/Stringf")),cc._RF.pop()},{"./script/Comparer":"Comparer","./script/Mathf":"Mathf","./script/Objf":"Objf","./script/Stringf":"Stringf","./script/Time":"Time","./script/UrlArgs":"UrlArgs"}],index_TurnMsg:[function(t,e,i){"use strict";cc._RF.push(e,"3e605xaCzZLvqBlMiHReqto","index_TurnMsg"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/TurnMsg")),cc._RF.pop()},{"./script/TurnMsg":"TurnMsg"}],"normalise-svg":[function(t,e,i){"use strict";cc._RF.push(e,"8f5d9Q/ZvtO3I0jNMiiutxs","normalise-svg"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){var e,i,n,o,r,s,a=(t=t.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),c=a.length,u=[],p=0,l=0,h=0,d=0,f=0,_=0,y=0,v=0,m="";for(e=1;e<c;e++)if(o=(n=(i=a[e]).substring(0,1)).toLowerCase(),r=(u=(u=i.replace(n,"").trim().split(" ")).filter(function(t){return""!==t}).map(parseFloat)).length,"m"===o){if(m+="M ","m"===n?(h+=u[0],d+=u[1]):(h=u[0],d=u[1]),p=h,l=d,m+=h+" "+d+" ",r>2)for(s=0;s<r;s+=2)"m"===n?(h+=u[s],d+=u[s+1]):(h=u[s],d=u[s+1]),m+=["L",h,d,""].join(" ")}else if("l"===o)for(s=0;s<r;s+=2)"l"===n?(h+=u[s],d+=u[s+1]):(h=u[s],d=u[s+1]),m+=["L",h,d,""].join(" ");else if("h"===o)for(s=0;s<r;s++)"h"===n?h+=u[s]:h=u[s],m+=["L",h,d,""].join(" ");else if("v"===o)for(s=0;s<r;s++)"v"===n?d+=u[s]:d=u[s],m+=["L",h,d,""].join(" ");else if("q"===o)for(s=0;s<r;s+=4)"q"===n?(f=h+u[s],_=d+u[s+1],h+=u[s+2],d+=u[s+3]):(f=u[s],_=u[s+1],h=u[s+2],d=u[s+3]),m+=["Q",f,_,h,d,""].join(" ");else if("t"===o)for(s=0;s<r;s+=2)f=h+(h-f),_=d+(d-_),"t"===n?(h+=u[s],d+=u[s+1]):(h=u[s],d=u[s+1]),m+=["Q",f,_,h,d,""].join(" ");else if("c"===o)for(s=0;s<r;s+=6)"c"===n?(f=h+u[s],_=d+u[s+1],y=h+u[s+2],v=d+u[s+3],h+=u[s+4],d+=u[s+5]):(f=u[s],_=u[s+1],y=u[s+2],v=u[s+3],h=u[s+4],d=u[s+5]),m+=["C",f,_,y,v,h,d,""].join(" ");else if("s"===o)for(s=0;s<r;s+=4)f=h+(h-y),_=d+(d-v),"s"===n?(y=h+u[s],v=d+u[s+1],h+=u[s+2],d+=u[s+3]):(y=u[s],v=u[s+1],h=u[s+2],d=u[s+3]),m+=["C",f,_,y,v,h,d,""].join(" ");else"z"===o&&(m+="Z ",h=p,d=l);return m.trim()},cc._RF.pop()},{}],"poly-bezier":[function(t,e,i){"use strict";cc._RF.push(e,"f19855tvBtHb7fPonfEwate","poly-bezier"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),o=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};o.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(t){return n.default.pointsToString(t.points)}).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,e){return t+e})},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,e=t[0].bbox(),i=1;i<t.length;i++)n.default.expandbox(e,t[i].bbox());return e},offset:function(t){var e=[];return this.curves.forEach(function(i){e=e.concat(i.offset(t))}),new o(e)}},i.default=o,cc._RF.pop()},{"./utils":"utils"}],"svg-to-beziers":[function(t,e,i){"use strict";cc._RF.push(e,"4117bthHHhCEbxQhbfPOUCr","svg-to-beziers"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./normalise-svg"),o={x:!1,y:!1};function r(t,e,i){if("Z"!==e){if("M"!==e){var n=[!1,o.x,o.y].concat(i),r=new(t.bind.apply(t,n)),s=i.slice(-2);return o={x:s[0],y:s[1]},r}o={x:i[0],y:i[1]}}}i.default=function(t,e){for(var i,o,s=n.default(e).split(" "),a=new RegExp("[MLCQZ]",""),c=[],u={C:6,Q:4,L:2,M:2};s.length;)i=s.splice(0,1)[0],a.test(i)&&(o=r(t,i,s.splice(0,u[i]).map(parseFloat)))&&c.push(o);return new t.PolyBezier(c)},cc._RF.pop()},{"./normalise-svg":"normalise-svg"}],utils:[function(t,e,i){"use strict";cc._RF.push(e,"d9086/eCPRCl5xyprUmXAKv","utils"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./bezier"),o=Math.abs,r=Math.cos,s=Math.sin,a=Math.acos,c=Math.atan2,u=Math.sqrt,p=Math.pow,l=function(t){return t<0?-p(-t,1/3):p(t,1/3)},h=Math.PI,d=2*h,f=h/2,_=Number.MAX_SAFE_INTEGER||9007199254740991,y=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},m={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){var i=e(t),n=i.x*i.x+i.y*i.y;return void 0!==i.z&&(n+=i.z*i.z),u(n)},compute:function(t,e,i){if(0===t)return e[0];var n=e.length-1;if(1===t)return e[n];var o=e,r=1-t;if(0===n)return e[0];if(1===n)return h={x:r*o[0].x+t*o[1].x,y:r*o[0].y+t*o[1].y},i&&(h.z=r*o[0].z+t*o[1].z),h;if(n<4){var s,a,c,u=r*r,p=t*t,l=0;2===n?(o=[o[0],o[1],o[2],v],s=u,a=r*t*2,c=p):3===n&&(s=u*r,a=u*t*3,c=r*p*3,l=t*p);var h={x:s*o[0].x+a*o[1].x+c*o[2].x+l*o[3].x,y:s*o[0].y+a*o[1].y+c*o[2].y+l*o[3].y};return i&&(h.z=s*o[0].z+a*o[1].z+c*o[2].z+l*o[3].z),h}for(var d=JSON.parse(JSON.stringify(e));d.length>1;){for(var f=0;f<d.length-1;f++)d[f]={x:d[f].x+(d[f+1].x-d[f].x)*t,y:d[f].y+(d[f+1].y-d[f].y)*t},void 0!==d[f].z&&(d[f]=d[f].z+(d[f+1].z-d[f].z)*t);d.splice(d.length-1,1)}return d[0]},derive:function(t,e){for(var i=[],n=t,o=n.length,r=o-1;o>1;o--,r--){for(var s,a=[],c=0;c<r;c++)s={x:r*(n[c+1].x-n[c].x),y:r*(n[c+1].y-n[c].y)},e&&(s.z=r*(n[c+1].z-n[c].z)),a.push(s);i.push(a),n=a}return i},between:function(t,e,i){return e<=t&&t<=i||m.approximately(t,e)||m.approximately(t,i)},approximately:function(t,e,i){return o(t-e)<=(i||1e-6)},length:function(t){var e,i,n=0,o=m.Tvalues.length;for(e=0;e<o;e++)i=.5*m.Tvalues[e]+.5,n+=m.Cvalues[e]*m.arcfn(i,t);return.5*n},map:function(t,e,i,n,o){return n+(o-n)*((t-e)/(i-e))},lerp:function(t,e,i){var n={x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)};return e.z&&i.z&&(n.z=e.z+t*(i.z-e.z)),n},pointToString:function(t){var e=t.x+"/"+t.y;return void 0!==t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(m.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,i){var n=e.x-t.x,o=e.y-t.y,r=i.x-t.x,s=i.y-t.y;return c(n*s-o*r,n*r+o*s)},round:function(t,e){var i=""+t,n=i.indexOf(".");return parseFloat(i.substring(0,n+1+e))},dist:function(t,e){var i=t.x-e.x,n=t.y-e.y;return u(i*i+n*n)},closest:function(t,e){var i,n,o=p(2,63);return t.forEach(function(t,r){(n=m.dist(e,t))<o&&(o=n,i=r)}),{mdist:o,mpos:i}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var i=p(t,e)+p(1-t,e);return o((i-1)/i)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var i=p(1-t,e);return i/(p(t,e)+i)},lli8:function(t,e,i,n,o,r,s,a){var c=(t-i)*(r-a)-(e-n)*(o-s);return 0!=c&&{x:((t*n-e*i)*(o-s)-(t-i)*(o*a-r*s))/c,y:((t*n-e*i)*(r-a)-(e-n)*(o*a-r*s))/c}},lli4:function(t,e,i,n){var o=t.x,r=t.y,s=e.x,a=e.y,c=i.x,u=i.y,p=n.x,l=n.y;return m.lli8(o,r,s,a,c,u,p,l)},lli:function(t,e){return m.lli4(t,t.c,e,e.c)},makeline:function(t,e){var i=t.x,o=t.y,r=e.x,s=e.y,a=(r-i)/3,c=(s-o)/3;return new n.default(i,o,i+a,o+c,i+2*a,o+2*c,r,s)},findbbox:function(t){var e=_,i=_,n=y,o=y;return t.forEach(function(t){var r=t.bbox();e>r.x.min&&(e=r.x.min),i>r.y.min&&(i=r.y.min),n<r.x.max&&(n=r.x.max),o<r.y.max&&(o=r.y.max)}),{x:{min:e,mid:(e+n)/2,max:n,size:n-e},y:{min:i,mid:(i+o)/2,max:o,size:o-i}}},shapeintersections:function(t,e,i,n,o){if(!m.bboxoverlap(e,n))return[];var r=[],s=[t.startcap,t.forward,t.back,t.endcap],a=[i.startcap,i.forward,i.back,i.endcap];return s.forEach(function(e){e.virtual||a.forEach(function(n){if(!n.virtual){var s=e.intersects(n,o);s.length>0&&(s.c1=e,s.c2=n,s.s1=t,s.s2=i,r.push(s))}})}),r},makeshape:function(t,e,i){var n=e.points.length,o=t.points.length,r=m.makeline(e.points[n-1],t.points[0]),s=m.makeline(t.points[o-1],e.points[0]),a={startcap:r,forward:t,back:e,endcap:s,bbox:m.findbbox([r,t,e,s])},c=m;return a.intersections=function(t){return c.shapeintersections(a,a.bbox,t,t.bbox,i)},a},getminmax:function(t,e,i){if(!i)return{min:0,max:0};var n,o,r=_,s=y;-1===i.indexOf(0)&&(i=[0].concat(i)),-1===i.indexOf(1)&&i.push(1);for(var a=0,c=i.length;a<c;a++)n=i[a],(o=t.get(n))[e]<r&&(r=o[e]),o[e]>s&&(s=o[e]);return{min:r,mid:(r+s)/2,max:s,size:s-r}},align:function(t,e){var i=e.p1.x,n=e.p1.y,o=-c(e.p2.y-n,e.p2.x-i);return t.map(function(t){return{x:(t.x-i)*r(o)-(t.y-n)*s(o),y:(t.x-i)*s(o)+(t.y-n)*r(o)}})},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};var i=t.length-1,n=m.align(t,e),o=function(t){return 0<=t&&t<=1};if(2===i){if(0!==(_=(y=n[0].y)-2*(v=n[1].y)+(g=n[2].y))){var s=-u(v*v-y*g),c=-y+v;return[-(s+c)/_,-(-s+c)/_].filter(o)}return v!==g&&0===_?[(2*v-g)/(2*v-2*g)].filter(o):[]}var p=n[0].y,h=n[1].y,f=n[2].y,_=3*h-p-3*f+n[3].y,y=3*p-6*h+3*f,v=-3*p+3*h,g=p;if(m.approximately(_,0)){if(m.approximately(y,0))return m.approximately(v,0)?[]:[-g/v].filter(o);var S=2*y;return[((x=u(v*v-4*y*g))-v)/S,(-v-x)/S].filter(o)}var x,A,P=(n=(3*(v/=_)-(y/=_)*y)/3)/3,C=(x=(2*y*y*y-9*y*v+27*(g/=_))/27)/2,b=C*C+P*P*P;if(b<0){var T=-n/3,w=u(T*T*T),O=-x/(2*w),R=a(O<-1?-1:O>1?1:O),I=2*l(w);return[I*r(R/3)-y/3,I*r((R+d)/3)-y/3,I*r((R+2*d)/3)-y/3].filter(o)}if(0===b)return[2*(A=C<0?l(-C):-l(C))-y/3,-A-y/3].filter(o);var E=u(b);return[(A=l(-C+E))-l(C+E)-y/3].filter(o)},droots:function(t){if(3===t.length){var e=t[0],i=t[1],n=t[2],o=e-2*i+n;if(0!==o){var r=-u(i*i-e*n),s=-e+i;return[-(r+s)/o,-(-r+s)/o]}return i!==n&&0===o?[(2*i-n)/(2*(i-n))]:[]}if(2===t.length)return(e=t[0])!==(i=t[1])?[e/(e-i)]:[]},curvature:function(t,e,i){var n,o,r=m.derive(e),s=r[0],a=r[1],c=m.compute(t,s),l=m.compute(t,a);return i?(n=u(p(c.y*l.z-l.y*c.z,2)+p(c.z*l.x-l.z*c.x,2)+p(c.x*l.y-l.x*c.y,2)),o=p(c.x*c.x+c.y*c.y+c.z*c.z,1.5)):(n=c.x*l.y-c.y*l.x,o=p(c.x*c.x+c.y*c.y,1.5)),0===n||0===o?{k:0,r:0}:{k:n/o,r:o/n}},inflections:function(t){if(t.length<4)return[];var e=m.align(t,{p1:t[0],p2:t.slice(-1)[0]}),i=e[2].x*e[1].y,n=e[3].x*e[1].y,o=e[1].x*e[2].y,r=18*(-3*i+2*n+3*o-(l=e[3].x*e[2].y)),s=18*(3*i-n-3*o),a=18*(o-i);if(m.approximately(r,0)){if(!m.approximately(s,0)){var c=-a/s;if(0<=c&&c<=1)return[c]}return[]}var u=s*s-4*r*a,p=Math.sqrt(u),l=2*r;return m.approximately(l,0)?[]:[(p-s)/l,-(s+p)/l].filter(function(t){return 0<=t&&t<=1})},bboxoverlap:function(t,e){var i,n,r,s,a,c=["x","y"],u=c.length;for(i=0;i<u;i++)if(r=t[n=c[i]].mid,s=e[n].mid,a=(t[n].size+e[n].size)/2,o(r-s)>=a)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,i){var n=t.bbox(),o=e.bbox(),r=1e5,s=i||.5;if(n.x.size+n.y.size<s&&o.x.size+o.y.size<s)return[(r*(t._t1+t._t2)/2|0)/r+"/"+(r*(e._t1+e._t2)/2|0)/r];var a=t.split(.5),c=e.split(.5),u=[{left:a.left,right:c.left},{left:a.left,right:c.right},{left:a.right,right:c.right},{left:a.right,right:c.left}],p=[];return 0===(u=u.filter(function(t){return m.bboxoverlap(t.left.bbox(),t.right.bbox())})).length?p:(u.forEach(function(t){p=p.concat(m.pairiteration(t.left,t.right,s))}),p=p.filter(function(t,e){return p.indexOf(t)===e}))},getccenter:function(t,e,i){var n,o=e.x-t.x,a=e.y-t.y,u=i.x-e.x,p=i.y-e.y,l=o*r(f)-a*s(f),h=o*s(f)+a*r(f),_=u*r(f)-p*s(f),y=u*s(f)+p*r(f),v=(t.x+e.x)/2,g=(t.y+e.y)/2,S=(e.x+i.x)/2,x=(e.y+i.y)/2,A=v+l,P=g+h,C=S+_,b=x+y,T=m.lli8(v,g,A,P,S,x,C,b),w=m.dist(T,t),O=c(t.y-T.y,t.x-T.x),R=c(e.y-T.y,e.x-T.x),I=c(i.y-T.y,i.x-T.x);return O<I?((O>R||R>I)&&(O+=d),O>I&&(n=I,I=O,O=n)):I<R&&R<O?(n=I,I=O,O=n):I+=d,T.s=O,T.e=I,T.r=w,T},numberSort:function(t,e){return t-e}};i.default=m,cc._RF.pop()},{"./bezier":"bezier"}]},{},["GameDirector","GameState_Bet","GameState_Init","GameState_Rolling","GameState_Wait","GameState_Win","WinState_BattleFight","WinState_BattlePrepare","WinState_BattleShow","WinState_Idle","WinState_Result","WinState_TurnBattle","WinState_TurnResult","AutoSelect","AutoSelectItem","AutoStatusRes","WuCardRes","WuBattleRule","GameResult","GameServerMod","WuBattleTest","SelectCardItem","SelectCardPanel","WuCardPanel","WuCardObj","index_BetTool","BetTool","ChipList","ChipObj","ChipSet","index_GameInfo","GameInfoPanel","index_JackpotBar","JackpotBar","index_NumCounter","NumCounter","index_PlayerInfo","PlayerInfoBlock","PlayerInfoPanel","index_ResultPanel","ResultInfoField","ResultInfoGroup","ResultInfoPanel","index_TurnMsg","TurnMsg","index_ArcaComm","index_AniTween","AniAct","AniComponent","AniTween","AniCollect","AniGoto","AniLookAt","AniMove","AniPath","AniSpin","AniSpiral","AniSwing","AniTemplate","AniComponent_Collect","AniComponent_Goto","AniComponent_LookAt","AniComponent_Move","AniComponent_Path","AniComponent_Spin","AniComponent_Spiral","AniComponent_Swing","example_Animator","index_Animator","CocosAnimator","SpineAnimator","AnimClip","AnimCondition","AnimFactory","AnimState","AnimTransition","Animator","index_AudioMng","AudioMng","AudioObj","index_Bezier","bezier","normalise-svg","poly-bezier","svg-to-beziers","utils","BezierData","index_Curve","CurveData","PointData","Example_Event","Example_EventBus","index_Event","Event","EventBus","EventData","EventListener","Example_Curve","Example_Invoker","example_PageCard","Example_Shuriken","index_Invoker","Invoker","InvokerQueue","InvokerQueueTask","InvokerTask","InvokerUpdateTask","ObjPool","index_ObjPool","index_PageCard","Card","Page","PageCtrl","index_Shuriken","ShurikenEmitter_Base","ShurikenEmitter_Circle","ShurikenEmitter_NodeRect","Shuriken","ShurikenComponent","ShurikenEmitter","ShurikenSystem","index_State","State","StateCtrl","index_System","Comparer","Mathf","Objf","Stringf","Time","UrlArgs","Uzil"]);