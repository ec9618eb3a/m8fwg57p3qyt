window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AniAct:[function(t,e,o){"use strict";cc._RF.push(e,"79ffce3eIZPkpQn2ER1ru/Z","AniAct"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../lib/Uzil/Event/Event"),i=function(){function t(t){this.isPlaying=!1,this.timeScale=1,this.rootNode=null,this.onStart=new n.default,this.onEnd=new n.default,this.testNum=5,this._setProp(t,"timeScale"),this._setProp(t,"rootNode")}return t.prototype.update=function(t){this.isPlaying&&this._update(t*this.timeScale)},t.prototype.play=function(){this.isPlaying=!0,this._play(),this.onStart.call()},t.prototype.stop=function(){this.isPlaying=!1,this._stop(),this.onEnd.call()},t.prototype.pause=function(){this.isPlaying=!1,this._pause()},t.prototype.resume=function(){this.isPlaying=!0,this._resume()},t.prototype._update=function(t){this.testNum-=t,this.testNum>0||this.stop()},t.prototype._play=function(){},t.prototype._stop=function(){},t.prototype._pause=function(){},t.prototype._resume=function(){},t.prototype._setProp=function(t,e){void 0!=t[e]&&(this[e]=t[e])},t.prototype._getRoot=function(t){for(var e=t,o=cc.director.getScene(),n=100;e.parent!=o;)if(e=e.parent,n--<0)return e;return e},t.prototype._getFixedWorldPos=function(t){return t},t.prototype._getEase=function(t){var e=null;return 1==t.length?e=[t[0],0,1-t[0],1]:2==t.length?e=[t[0],0,1-t[1],1]:4==t.length&&(e=[t[0],t[1],1-t[2],1-t[3]]),e},t}();o.default=i,cc._RF.pop()},{"../../lib/Uzil/Event/Event":"Event"}],AniCollect:[function(t,e,o){"use strict";cc._RF.push(e,"95f55WiG95Ero2HQGU/y9n2","AniCollect"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../AniAct"),r=t("../Bezier"),a=t("../AniMath");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=o.AniCollect_MoveType||(o.AniCollect_MoveType={}));var s=function(t){function e(e){var o=t.call(this,e)||this;return o.actors=[],o._actorInfos=[],o.target=null,o.areaRadius=0,o.moveType=n.SPEED,o.speed=0,o.acceleration=0,o.duration=5,o._runnedTime=0,o.easeInOut=[0],o._easeBezier=null,o.curve=null,o._setProp(e,"actors"),o._setProp(e,"target"),o._setProp(e,"moveType"),o._setProp(e,"areaRadius"),o._setProp(e,"speed"),o._setProp(e,"acceleration"),o._setProp(e,"easeInOut"),o._setProp(e,"duration"),o}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=!0;if(this.moveType==n.SPEED){this.speed+=this.acceleration*t;for(var o=0,i=this._getAllActorInfo();o<i.length;o++){(p=(u=i[o]).targetPos)||(p=this._getTargetLocalPos(u.node.parent),u.targetPos=p);var r=a.default.MoveTowardV2(u.pos,p,this.speed*t);u.node.setPosition(r),0==r.equals(p)&&(e=!1)}}else if(this.moveType==n.DURATION)for(var s=0,c=this._getAllActorInfo();s<c.length;s++){var u,p;(p=(u=c[s]).targetPos)||(p=this._getTargetLocalPos(u.node.parent),u.targetPos=p),u.percent=a.default.MoveToward(u.percent,1,this.speed*t);var l=this._easeBezier(u.percent);r=a.default.LerpV2(u.orinPos,p,l);u.node.setPosition(r),0==r.equals(p)&&(e=!1)}e&&this.stop()}},e.prototype._play=function(){this.moveType==n.SPEED||this.moveType==n.DURATION&&(this.speed=1/this.duration),this._actorInfos=[];for(var t=0,e=this.actors;t<e.length;t++){var o=e[t];this._actorInfos.push({node:o,orinPos:o.position,percent:0})}var i=this._getEase(this.easeInOut);i&&(this._easeBezier=r.default(i[0],i[1],i[2],i[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){if(void 0===t&&(t=!0),this.target instanceof cc.Node){var e=this.target,o=e.position;if(t){var n=e.getContentSize(),i=0-n.width*e.anchorX,r=0+n.width*(1-e.anchorX),s=0+n.height*(1-e.anchorY),c=0-n.height*e.anchorY;o.x+=cc.misc.lerp(i,r,Math.random()),o.y+=cc.misc.lerp(c,s,Math.random())}return e.parent.convertToWorldSpaceAR(o)}if(this.target instanceof cc.Vec2){o=this.target.clone();if(t){var u=a.default.AngleToVec2(359*Math.random());u=u.normalize().mul(this.areaRadius),o.addSelf(u)}return this._getFixedWorldPos(o)}},e.prototype._getTargetLocalPos=function(t){var e=this._getTargetWorldPos();return t.convertToNodeSpaceAR(e)},e.prototype._getWorldPosByNode=function(t){return t.parent.convertToWorldSpaceAR(t.getPosition())},e.prototype._getAllActorInfo=function(){for(var t=this._getTargetWorldPos(),e=0,o=this.actors;e<o.length;e++)for(var n=o[e],i=this._getWorldPosByNode(n),r=t.sub(i),a=0,s=this._actorInfos;a<s.length;a++){var c=s[a];c.node==n&&(c.pos=n.position,c.worldPos=i,c.distance=r)}return this._actorInfos},e}(i.default);o.default=s,cc._RF.pop()},{"../AniAct":"AniAct","../AniMath":"AniMath","../Bezier":"Bezier"}],AniComponent_Collect:[function(t,e,o){"use strict";cc._RF.push(e,"3b5c4fjlDxIs4rLTApZZJV8","AniComponent_Collect"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../AniTween"),r=t("../act/AniCollect");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{targetType:{default:n.POSITION,type:cc.Enum(n)},targetPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},areaRadius:{default:0,visible:function(){return this.targetType==n.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},actors:{default:[],type:cc.Node},movementType:{default:r.AniCollect_MoveType.SPEED,type:cc.Enum(r.AniCollect_MoveType)},acceleration:{default:5,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},speed:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},duration:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.node),t.actors=this.actors,this.targetType==n.POSITION?t.target=this.targetPos:this.targetType==n.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.areaRadius=this.areaRadius,t.speed=this.speed,t.acceleration=this.acceleration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new i.default).collect(t),this.tween.play()},_preview:function(){for(var t=[],e=0,o=this.actors;e<o.length;e++){var n=o[e];t.push({node:n,pos:n.position})}this.beforePreview.positions=t,this.play()},_unpreview:function(){this.stop();var t=this.beforePreview.positions;if(t)for(var e=0,o=t;e<o.length;e++){var n=o[e];n.node.setPosition(n.pos)}}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniCollect":"AniCollect"}],AniComponent_Goto:[function(t,e,o){"use strict";cc._RF.push(e,"56f1dZ4/UhAA5myMpGY6Dq0","AniComponent_Goto"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../act/AniGoto"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},targetPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},moveType:{type:cc.Enum(i.AniGoto_MoveType),default:i.AniGoto_MoveType.DURATION},speed:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.SPEED}},acceleration:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==i.AniGoto_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==i.AniGoto_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.targetPosition:this.targetType==n.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],this.tween=(new r.default).goto(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniGoto":"AniGoto"}],AniComponent_LookAt:[function(t,e,o){"use strict";cc._RF.push(e,"dddc474SGZEHZl8EwWm47h/","AniComponent_LookAt"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../AniTween");(function(t){t[t.POSITION=0]="POSITION",t[t.NODE=1]="NODE"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.NODE,type:cc.Enum(n)},lookAtNode:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},lookAtPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.lookAtPosition:this.targetType==n.NODE&&(t.target=this.lookAtNode),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new i.default).lookAt(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Move:[function(t,e,o){"use strict";cc._RF.push(e,"66d66rrnJdLT7BMte1kYwoo","AniComponent_Move"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../AniTween");(function(t){t[t.VELOCITY=0]="VELOCITY",t[t.CURVE=1]="CURVE"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},moveType:{default:n.VELOCITY,type:cc.Enum(n)},velocity:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==n.VELOCITY}},acceleration:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==n.VELOCITY}},duration:{default:5,visible:function(){return this.moveType==n.VELOCITY}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==n.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.moveType=this.moveType,t.velocity=this.velocity.clone(),t.acceleration=this.acceleration.clone(),t.duration=this.duration,this.tween=(new i.default).move(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Path:[function(t,e,o){"use strict";cc._RF.push(e,"46c723w6/VIhqd737fmUWDl","AniComponent_Path"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../act/AniPath"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},isPathClosure:{default:!0},pathPos:{default:[],type:cc.Vec2,visible:function(){return this.targetType==n.POSITION}},pathLocators:{default:[],type:cc.Node,visible:function(){return this.targetType==n.NODE}},moveType:{default:i.AniPath_MoveType.SPEED,type:cc.Enum(i.AniPath_MoveType)},wrapType:{default:i.AniPath_WrapType.LOOP,type:cc.Enum(i.AniPath_WrapType)},speed:{default:0,visible:function(){return this.moveType==i.AniPath_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==i.AniPath_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==i.AniPath_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.path=this.pathPos:this.targetType==n.NODE&&(t.path=this.pathLocators),t.isPathClosure=this.isPathClosure,t.moveType=this.moveType,t.wrapType=this.wrapType,t.speed=this.speed,t.duration=this.duration,this.tween=(new r.default).path(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniPath":"AniPath"}],AniComponent_Spin:[function(t,e,o){"use strict";cc._RF.push(e,"0da4bCsPwhJp4PDOmi5bO7s","AniComponent_Spin"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{},properties:{actorNode:{default:null,type:cc.Node},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new n.default).spin(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Spiral:[function(t,e,o){"use strict";cc._RF.push(e,"1f860FRLN1N0afOgR70G0sA","AniComponent_Spiral"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../act/AniSpiral"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},centerPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},centerLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},currentAngle:{default:-1},initialAngle:{default:-1},wrapType:{default:i.AniSpiral_WrapType.CONTINUED,type:cc.Enum(i.AniSpiral_WrapType)},rotateNormal:{default:1},rotateSpeed:{default:0},rotateAcceleration:{default:0},radius:{default:-1},radiusNormal:{default:0},radiusSpeed:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.centerPos:this.targetType==n.NODE&&(t.target=this.centerLocator),t.wrapType=this.wrapType,t.currentAngle=this.currentAngle,t.initialAngle=this.initialAngle,t.rotateNormal=this.rotateNormal,t.rotateSpeed=this.rotateSpeed,t.rotateAcceleration=this.rotateAcceleration,t.radius=this.radius,t.radiusNormal=this.radiusNormal,t.radiusSpeed=this.radiusSpeed,this.tween=(new r.default).spiral(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniSpiral":"AniSpiral"}],AniComponent_Swing:[function(t,e,o){"use strict";cc._RF.push(e,"b6655O5iIhEgIyJQpz3E0Ir","AniComponent_Swing"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},angles:{default:[],type:cc.Float},speed:{default:0},duration:{default:-1},easeIn_percent:{default:0},easeOut_percent:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.angles=this.angles.slice(),t.speed=this.speed,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new n.default).swing(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent:[function(t,e,o){"use strict";cc._RF.push(e,"1168c34oGZCj7OYDqDfaQby","AniComponent"),cc.Class({extends:cc.Component,editor:{},properties:{isPlayOnAwake:{default:!1},tween:{default:null,type:Object,visible:!1},isPreview:{get:function(){return this._isPreview},set:function(t){this._isPreview=t,1==t?this._preview():this._unpreview()}},_isPreview:{default:!1,visible:!1},beforePreview:{visible:!1,default:{}},isPlaying:{default:!1,visible:!1},timeScale:{default:1}},start:function(){this._start(),this.isPlayOnAwake&&this.play()},update:function(t){if(this.isPlaying){var e=t*this.timeScale;this.tween&&this.tween.update(e),this._update(e)}},play:function(){this.isPlaying=!0,this._play()},stop:function(){this.isPlaying=!1,this.isPreview&&(this.isPreview=!1),this._stop()},pause:function(){this.isPlaying=!1,this._pause()},resume:function(){this.isPlaying=!0,this._resume()},_stop:function(){this.tween&&this.tween.stop()},_pause:function(){this.tween&&this.tween.pause()},_resume:function(){this.tween&&this.tween.resume()},_getRoot:function(t){if(!t)return null;for(var e=t,o=cc.director.getScene(),n=100;e.parent!=o;)if(e=e.parent,n--<0)return e;return e}}),cc._RF.pop()},{}],AniGoto:[function(t,e,o){"use strict";cc._RF.push(e,"7277fXWdrVHoKBNaMn5TvIE","AniGoto"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../AniAct"),r=t("../AniMath"),a=t("../Bezier");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=o.AniGoto_MoveType||(o.AniGoto_MoveType={}));var s=function(t){function e(e){var o=t.call(this,e)||this;return o.actorNode=null,o.target=null,o.moveType=n.DURATION,o.speed=500,o.speed_acceleration=0,o.duration=1,o._runnedTime=0,o._orinPos=cc.Vec2.ZERO,o.easeInOut=[],o.curvePoint=null,o._curveBezier=null,o.curveLength=5,o._easeBezier=null,o._setProp(e,"actorNode"),o._setProp(e,"target"),o._setProp(e,"moveType"),o._setProp(e,"speed"),void 0!=e.acceleration&&(o.speed_acceleration=e.acceleration),o._setProp(e,"curve"),o._setProp(e,"duration"),o._setProp(e,"easeInOut"),o._setProp(e,"curvePoint"),o._setProp(e,"curveLength"),o}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,o=(this._getTargetWorldPos(),this._getLocalPos(this._getTargetWorldPos(),e.parent));if(this.moveType==n.SPEED){this.speed+=this.speed_acceleration*t;var i=e.position;if(o.sub(i).mag()<5)return void this.stop();var a=r.default.MoveTowardV2(i,o,this.speed*t);e.setPosition(a)}else if(this.moveType==n.DURATION){var s=this._runnedTime/this.duration;this._easeBezier&&(s=this._easeBezier(s));var c=r.default.LerpV2(this._orinPos,o,s);e.setPosition(c),this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}}},e.prototype._play=function(){this._runnedTime=0,this._orinPos=this.actorNode.position;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=a.default(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){return this.target instanceof cc.Node?this._getWorldPos(this.target):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):void 0},e.prototype._getWorldPos=function(t){return t.parent.convertToWorldSpaceAR(t.position)},e.prototype._getLocalPos=function(t,e){return e.convertToNodeSpaceAR(t)},e}(i.default);o.default=s,cc._RF.pop()},{"../AniAct":"AniAct","../AniMath":"AniMath","../Bezier":"Bezier"}],AniLookAt:[function(t,e,o){"use strict";cc._RF.push(e,"61b9c4pWKxJf716hV2YZhUf","AniLookAt"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../AniAct"),i=t("../AniMath"),r=function(t){function e(e){var o=t.call(this,e)||this;return o.actorNode=null,o.target=null,o._speed=0,o._initialSpeed=0,o.acceleration=0,o.duration=-1,o._runnedTime=0,o._setProp(e,"actorNode"),o._setProp(e,"target"),o._setProp(e,"speed"),o._setProp(e,"acceleration"),o._setProp(e,"duration"),o}return __extends(e,t),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._initialSpeed=t,this._speed=t},enumerable:!0,configurable:!0}),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,o=this._getTargetAngle();this._speed+=this.acceleration*t,e.rotation=i.default.RotateToward(e.rotation,o,this._speed*t),e.rotation==o?this._speed=0:this._speed=this._initialSpeed,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this.speed=this._initialSpeed},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetPos=function(){return this.target instanceof cc.Node?this.target.parent.convertToWorldSpaceAR(this.target.position):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):cc.Vec2.ZERO},e.prototype._getSelfPos=function(){return this.actorNode.parent.convertToWorldSpaceAR(this.actorNode.position)},e.prototype._getTargetAngle=function(){var t=this._getSelfPos(),e=this._getTargetPos().sub(t).signAngle(cc.Vec2.UP);return e=cc.misc.radiansToDegrees(e),e=i.default.ValidAngle(e)},e}(n.default);o.default=r,cc._RF.pop()},{"../AniAct":"AniAct","../AniMath":"AniMath"}],AniMath:[function(t,e,o){"use strict";cc._RF.push(e,"179fbKhKoNIurpB5iWDxij+","AniMath"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.LerpV2=function(t,e,o){return t.add(e.sub(t).mul(o))},t.MoveToward=function(t,e,o){var n=e-t,i=Math.abs(n);if(0==n)return t;var r=t+(n>0?1:-1)*Math.min(o,i);return isNaN(r)?0:r},t.MoveTowardV2=function(t,e,o){if(0==o)return t;var n=e.sub(t),i=n.mag();i&&1!=i&&(n=n.normalize());var r=n.mul(Math.min(o,i));return t.add(r)},t.RotateToward=function(e,o,n){var i=t.ValidAngle(e),r=t.ValidAngle(o);if(i==r)return o;var a=r-i,s=r+(r>i?-360:360)-i,c=Math.abs(a),u=Math.abs(s),p=0,l=!1;return c<u?(p=c,l=a>0):(p=u,l=s>0),e+(l?1:-1)*Math.min(p,n)},t.ValidAngle=function(t){for(;t<0;)t+=360;for(;t>360;)t-=360;return t},t.AngleToVec2=function(t){var e=cc.misc.degreesToRadians(t);return new cc.Vec2(Math.sin(e),Math.cos(e))},t}();o.default=n,cc._RF.pop()},{}],AniMove:[function(t,e,o){"use strict";cc._RF.push(e,"e7fffhf07tC9baNJLqCRl1x","AniMove"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../AniAct");(function(t){t[t.VELOCITY=0]="VELOCITY"})(n=o.AniMove_MoveType||(o.AniMove_MoveType={}));var r=function(t){function e(e){var o=t.call(this,e)||this;return o.actorNode=null,o.moveType=n.VELOCITY,o.velocity=cc.Vec2.ZERO,o.acceleration=cc.Vec2.ZERO,o.duration=5,o._runnedTime=0,o._setProp(e,"actorNode"),o._setProp(e,"moveType"),e.velocity&&(o.velocity=e.velocity),e.acceleration&&(o.acceleration=e.acceleration),e.curve&&(o.curve=e.curve),e.duration&&(o.duration=e.duration),o}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;if(this.moveType==n.VELOCITY){this.velocity.addSelf(this.acceleration.mul(t));var o=e.position;o.addSelf(this.velocity.mul(t)),e.setPosition(o)}this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(i.default);o.default=r,cc._RF.pop()},{"../AniAct":"AniAct"}],AniPath:[function(t,e,o){"use strict";cc._RF.push(e,"56e5df2eyFIvIGzFvHFBab4","AniPath"),Object.defineProperty(o,"__esModule",{value:!0});var n,i,r=t("../AniAct"),a=t("../AniMath");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=o.AniPath_MoveType||(o.AniPath_MoveType={})),function(t){t[t.LOOP=0]="LOOP",t[t.PINGPONG=1]="PINGPONG",t[t.ONCE=2]="ONCE"}(i=o.AniPath_WrapType||(o.AniPath_WrapType={}));var s=function(t){function e(e){var o=t.call(this,e)||this;return o.actorNode=null,o.path=[],o.isPathClosure=!0,o._currentPathIdx=-1,o._nextPathNormal=1,o.moveType=n.SPEED,o.wrapType=i.LOOP,o.speed=0,o.duration=5,o._runnedTime=0,o.curve=null,o._setProp(e,"actorNode"),e.path&&(o.path=e.path.slice()),o._setProp(e,"isPathClosure"),o._setProp(e,"moveType"),o._setProp(e,"wrapType"),o._setProp(e,"speed"),o._setProp(e,"duration"),o}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,o=this._getTargetLocalPos(),r=e.position;if(this.moveType==n.SPEED){var s=a.default.MoveTowardV2(r,o,this.speed*t);e.setPosition(s)}else if(this.moveType==n.DURATION){s=a.default.MoveTowardV2(r,o,this.speed*t);e.setPosition(s)}e.position.equals(o)&&(this._currentPathIdx+=this._nextPathNormal,this.wrapType==i.LOOP?this._currentPathIdx>=this._getPathCount()&&(this.isPathClosure?this._currentPathIdx=0:(e.setPosition(this._getTargetLocalPos(0)),this._currentPathIdx=1)):this.wrapType==i.PINGPONG?(this._currentPathIdx>=this._getPathCount()||this._currentPathIdx<0)&&(this._nextPathNormal*=-1,this._currentPathIdx+=this._nextPathNormal):this.wrapType==i.ONCE&&this._currentPathIdx>=this._getPathCount()&&this.stop())}},e.prototype._play=function(){if(this._nextPathNormal=1,this._currentPathIdx=0,this._runnedTime=0,this.isPathClosure&&this.path.length>0&&this.path.push(this.path[0]),this.moveType==n.SPEED);else if(this.moveType==n.DURATION){var t=this._getPathLength();this.speed=this._getSpeed(t,0,this.duration)}this.actorNode.setPosition(this._getTargetLocalPos(0))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){void 0===t&&(t=-1),-1==t&&(t=this._currentPathIdx);var e=this.path[t];return null==e?cc.Vec2.ZERO:e instanceof cc.Node?e.parent.convertToWorldSpaceAR(e.position):e instanceof cc.Vec2?this._getFixedWorldPos(e):void 0},e.prototype._getTargetLocalPos=function(t){void 0===t&&(t=-1);var e=this._getTargetWorldPos(t);return this.actorNode.parent.convertToNodeSpaceAR(e)},e.prototype._getPathCount=function(){return this.path.length},e.prototype._getPathLength=function(){if(this.path.length<=0)return 0;for(var t=0,e=this._getTargetWorldPos(0),o=1;o<this.path.length;o++){var n=this._getTargetWorldPos(o);t+=n.sub(e).mag(),e=n}return t},e.prototype._getSpeed=function(t,e,o){return(t-e*Math.pow(o,2)/2)/this.duration},e}(r.default);o.default=s,cc._RF.pop()},{"../AniAct":"AniAct","../AniMath":"AniMath"}],AniSpin:[function(t,e,o){"use strict";cc._RF.push(e,"5930fV2U+pJdadUiRJ+D6Ir","AniSpin"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(e){var o=t.call(this,e)||this;return o.actorNode=null,o.speed=0,o.acceleration=0,o.curve=null,o.duration=5,o._runnedTime=0,o._setProp(e,"actorNode"),o._setProp(e,"speed"),o._setProp(e,"acceleration"),o._setProp(e,"duration"),o}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;this.speed+=this.acceleration*t,e.rotation+=this.speed*t,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").default);o.default=n,cc._RF.pop()},{"../AniAct":"AniAct"}],AniSpiral:[function(t,e,o){"use strict";cc._RF.push(e,"998c1ThXm5OSbqrHpiyhXcV","AniSpiral"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../AniAct"),i=t("../AniMath");(function(t){t[t.CONTINUED=0]="CONTINUED",t[t.PINGPONG=1]="PINGPONG"})(o.AniSpiral_WrapType||(o.AniSpiral_WrapType={}));var r=function(t){function e(e){var o=t.call(this,e)||this;return o.actorNode=null,o.target=null,o.wrapType=-1,o.currentAngle=-1,o.initialAngle=-1,o.rotateNormal=1,o.rotateSpeed=0,o.rotateAcceleration=0,o.radius=1,o.radiusNormal=1,o.radiusSpeed=0,o.curve=null,o._setProp(e,"actorNode"),o._setProp(e,"target"),o._setProp(e,"wrapType"),o._setProp(e,"initialAngle"),o._setProp(e,"rotateNormal"),o._setProp(e,"rotateSpeed"),o._setProp(e,"rotateAcceleration"),o._setProp(e,"radius"),o._setProp(e,"radiusNormal"),o._setProp(e,"radiusSpeed"),o}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,o=this._getTargetLocalPos();e.getPosition();this.rotateSpeed+=this.rotateAcceleration*this.rotateNormal*t,this.currentAngle+=this.rotateSpeed*this.rotateNormal*t,this.radius+=this.radiusSpeed*this.radiusNormal*t;var n=i.default.AngleToVec2(this.currentAngle),r=o.add(n.normalize().mul(this.radius));e.setPosition(r)}},e.prototype._play=function(){var t=this.initialAngle,e=this._getTargetLocalPos().sub(this.actorNode.position);t<=-1&&(t=cc.Vec2.UP.signAngle(e),t=cc.misc.radiansToDegrees(t),this.initialAngle=t),this.currentAngle=t,this.radius<=-1&&(this.radius=e.mag())},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){if(this.target instanceof cc.Node){var t=this.target;return t.parent.convertToWorldSpaceAR(t.getPosition())}if(this.target instanceof cc.Vec2)return this._getFixedWorldPos(this.target)},e.prototype._getTargetLocalPos=function(){var t=this._getTargetWorldPos();return this.actorNode.parent.convertToNodeSpaceAR(t)},e}(n.default);o.default=r,cc._RF.pop()},{"../AniAct":"AniAct","../AniMath":"AniMath"}],AniSwing:[function(t,e,o){"use strict";cc._RF.push(e,"b90c4CYIMxIJrx8FNQVluRn","AniSwing"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../AniAct"),i=t("../Bezier"),r=t("../AniMath"),a=function(t){function e(e){var o=t.call(this,e)||this;return o.actorNode=null,o.angles=[],o._currentAngleIdx=-1,o._nextNormal=1,o.currentAngle=-1,o.speed=0,o.easeInOut=[],o._easeBezier=null,o.curve=null,o.duration=-1,o._runnedTime=0,o._setProp(e,"actorNode"),o._setProp(e,"angles"),o._setProp(e,"speed"),o._setProp(e,"easeInOut"),o._setProp(e,"duration"),o}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,o=this._getTargetAngle();if(e.rotation==o){var n=this._currentAngleIdx+this._nextNormal;(n>=this.angles.length||n<0)&&(this._nextNormal*=-1),this._currentAngleIdx+=this._nextNormal,o=this._getTargetAngle()}var i=this._getLastAngle();this.currentAngle=r.default.MoveToward(this.currentAngle,o,this.speed*t);var a=this.currentAngle;if(this._easeBezier){var s=1-(o-this.currentAngle)/(o-i),c=this._easeBezier(s);a=cc.misc.lerp(i,o,c)}e.rotation=a,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this._currentAngleIdx=0,this.currentAngle=this._getTargetAngle(),this._currentAngleIdx=1;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=i.default(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetAngle=function(){return 0==this.angles.length?0:this.angles[this._currentAngleIdx]},e.prototype._getLastAngle=function(){if(0==this.angles.length)return 0;var t=this._currentAngleIdx-this._nextNormal;return this.angles[t]},e}(n.default);o.default=a,cc._RF.pop()},{"../AniAct":"AniAct","../AniMath":"AniMath","../Bezier":"Bezier"}],AniTemplate:[function(t,e,o){"use strict";cc._RF.push(e,"2fffemWa6ZPgKslQ6ebRgSk","AniTemplate"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._update=function(t){},e.prototype._play=function(){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").default);o.default=n,cc._RF.pop()},{"../AniAct":"AniAct"}],AniTweenExample:[function(t,e,o){"use strict";cc._RF.push(e,"85c790Gnr1L0LJtLEJkdzTA","AniTweenExample"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../script/AniTween"),i=t("../script/act/AniMove"),r=t("../script/act/AniGoto"),a=t("../script/act/AniPath"),s=t("../script/act/AniCollect"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.target2=null,e.locators=[],e}return __extends(e,t),e.prototype.start=function(){this.collect()},e.prototype.move=function(){(new n.default).move({actorNode:this.target,moveType:i.AniMove_MoveType.VELOCITY,velocity:new cc.Vec2(55,12),duration:2}).move({actorNode:this.target,moveType:i.AniMove_MoveType.VELOCITY,velocity:new cc.Vec2(-55,12),acceleration:new cc.Vec2(-100,0),duration:2}).play()},e.prototype.goto=function(){(new n.default).goto({actorNode:this.target,moveType:r.AniGoto_MoveType.SPEED,targetType:r.AniGoto_TargetType.NODE,targetNode:this.locators[0],speed:500}).goto({actorNode:this.target,moveType:r.AniGoto_MoveType.DURATION,targetType:r.AniGoto_TargetType.POSITION,targetPosition:new cc.Vec2(500,500),duration:3,easeInOut:[.5,.5],curvePoint:this.locators[1],curveLength:5}).play()},e.prototype.spin=function(){(new n.default).spin({actorNode:this.target,speed:50,acceleration:-25,duration:2}).spin({actorNode:this.target,speed:0,acceleration:-25,duration:2}).play()},e.prototype.swing=function(){(new n.default).swing({actorNode:this.target,angles:[0,90],speed:50,easeInOut:[.5],duration:3}).swing({actorNode:this.target,angles:[-90,0],speed:50,easeInOut:[.5],duration:-1}).play()},e.prototype.lookAt=function(){(new n.default).lookAt({actorNode:this.target,target:this.locators[4],speed:360,acceleration:5}).play(),(new n.default).goto({actorNode:this.target,moveType:r.AniGoto_MoveType.DURATION,targetType:r.AniGoto_TargetType.POSITION,targetPosition:new cc.Vec2(500,500),duration:3,easeInOut:[.5,.5],curvePoint:this.locators[1],curveLength:5}).play()},e.prototype.spiral=function(){(new n.default).spiral({actorNode:this.target,target:this.locators[2],rotateSpeed:50,radius:100}).play(),(new n.default).spiral({actorNode:this.locators[2],target:this.locators[1],rotateNormal:-1,rotateSpeed:50,radius:50}).play()},e.prototype.path=function(){(new n.default).path({actorNode:this.target,path:[this.locators[0],this.locators[1],this.locators[2]],wrapType:a.AniPath_WrapType.PINGPONG,speed:100,radius:100}).play()},e.prototype.collect=function(){(new n.default).collect({actors:[this.locators[0],this.locators[1],this.locators[2]],target:this.target2,areaRadius:0,moveType:s.AniCollect_MoveType.SPEED,speed:500}).collect({actors:[this.locators[0],this.locators[1],this.locators[2]],target:this.target,moveType:s.AniCollect_MoveType.DURATION,duration:3}).play()},__decorate([p(cc.Node)],e.prototype,"target",void 0),__decorate([p(cc.Node)],e.prototype,"target2",void 0),__decorate([p(cc.Node)],e.prototype,"locators",void 0),e=__decorate([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../script/AniTween":"AniTween","../script/act/AniCollect":"AniCollect","../script/act/AniGoto":"AniGoto","../script/act/AniMove":"AniMove","../script/act/AniPath":"AniPath"}],AniTween:[function(t,e,o){"use strict";cc._RF.push(e,"a3392cxIWFOAo2CmH3vxuiw","AniTween"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../lib/Uzil/Invoke/Invoker"),i=t("./act/AniMove"),r=t("./act/AniGoto"),a=t("./act/AniSpin"),s=t("./act/AniSwing"),c=t("./act/AniLookAt"),u=t("./act/AniSpiral"),p=t("./act/AniPath"),l=t("./act/AniCollect"),d=function(){function t(){this.isPlaying=!1,this.currentIdx=-1,this.currentAct=null,this.actQueue=[],this._updateTask=null}return t.prototype.update=function(t){this.isPlaying&&this.currentAct.update(t)},t.prototype.play=function(){for(var t=this,e=0;e<t.actQueue.length;e++){var o=t.actQueue[e];o.onEnd.removeID("playNext"),o.onEnd.addFunc(function(){t.playNext()}).setID("playNext")}t._updateTask=n.default.Update(function(e){t.update(e)}),t.isPlaying=!0,t.playNext()},t.prototype.stop=function(){n.default.StopUpdate(this._updateTask),this.isPlaying=!1,this.currentIdx=-1},t.prototype.pause=function(){this.isPlaying=!1},t.prototype.resume=function(){this.isPlaying=!0},t.prototype.queue=function(t){return this.actQueue.push(t),this},t.prototype.playNext=function(){this.currentIdx++,this.currentIdx>=this.actQueue.length?this.stop():(this.currentAct=this.actQueue[this.currentIdx],this.currentAct.play())},t.prototype.move=function(t){return this.queue(new i.default(t))},t.prototype.goto=function(t){return this.queue(new r.default(t))},t.prototype.spin=function(t){return this.queue(new a.default(t))},t.prototype.swing=function(t){return this.queue(new s.default(t))},t.prototype.lookAt=function(t){return this.queue(new c.default(t))},t.prototype.around=function(t){return this.spiral(t)},t.prototype.spiral=function(t){return this.queue(new u.default(t))},t.prototype.path=function(t){return this.queue(new p.default(t))},t.prototype.collect=function(t){return this.queue(new l.default(t))},t}();o.default=d,cc._RF.pop()},{"../../lib/Uzil/Invoke/Invoker":"Invoker","./act/AniCollect":"AniCollect","./act/AniGoto":"AniGoto","./act/AniLookAt":"AniLookAt","./act/AniMove":"AniMove","./act/AniPath":"AniPath","./act/AniSpin":"AniSpin","./act/AniSpiral":"AniSpiral","./act/AniSwing":"AniSwing"}],AnimClip:[function(t,e,o){"use strict";cc._RF.push(e,"7c48cin19dERZrlnvr4lyw1","AnimClip"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=""),this.name="",this.mixAlpha=1,this.trackIdx=0,this.isLoop=!1,this.name=t}return t.prototype.alpha=function(t){return this.mixAlpha=t,this},t.prototype.track=function(t){return this.trackIdx=t,this},t.prototype.loop=function(t){return void 0===t&&(t=!0),this.isLoop=t,this},t}();o.default=n,cc._RF.pop()},{}],AnimCondition:[function(t,e,o){"use strict";cc._RF.push(e,"3f09dz38qNBT7VQMZZFIhNb","AnimCondition"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Comparer"),i=function(){function t(t,e,o){this.toCompare=0,this.comparer=n.default.EQUAL,this.parameterKey="",this.parameterKey=t,this.comparer=e,this.toCompare=o}return t.prototype.isPass=function(t){var e=this.parameterKey;if(!e||""==e)return!1;var o=t[e];return!!o&&this._compare(o,this.toCompare,this.comparer)},t.prototype._compare=function(t,e,o){switch(o){case n.default.EQUAL:return t==e||JSON.parse(t)==JSON.parse(e);case n.default.NOT_EQUAL:return t!=e||JSON.parse(t)!=JSON.parse(e);case n.default.GREATER:return t>e;case n.default.GREATER_EQUAL:return t>=e;case n.default.LESS:return t<e;case n.default.LESS_EQUAL:return t<=e}return!1},t}();o.default=i,cc._RF.pop()},{"./Comparer":"Comparer"}],AnimFactory:[function(t,e,o){"use strict";cc._RF.push(e,"7d9ed54+CBAMZ+um/bXoLHn","AnimFactory"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./AnimClip"),i=t("./AnimState"),r=t("./AnimTransition"),a=t("./AnimCondition"),s=function(){function t(){}return t.CreateClip=function(e){if(0==t.Validate(e,["name"]))return null;var o=new n.default(e.name),i=e.track;i&&(o.trackIdx=i);var r=e.isLoop;return null!=r&&(o.isLoop=JSON.parse(r)),o},t.CreateState=function(e){if(0==t.Validate(e,["name"]))return null;var o=new i.default(e.name),n=e.clips;if(n)for(var r=0,a=n;r<a.length;r++){var s=a[r],c=this.CreateClip(s);o.addClip(c)}var u=e.transitions;if(u)for(var p=0,l=u;p<l.length;p++){s=l[p];var d=this.CreateTransition(s);o.addTransition(d)}return o},t.CreateTransition=function(e){if(0==t.Validate(e,["nextState"]))return null;var o=new r.default,n=e.conditions;if(n)for(var i=0,a=n;i<a.length;i++){var s=a[i],c=this.CreateCondition(s);o.addCondition(c)}var u=e.nextState;u&&(o.nextState=u);var p=e.exitTime;null!=p&&(o.exitTime=parseFloat(p));var l=e.mixTime;return l&&(o.mixTime=parseFloat(l)),o},t.CreateCondition=function(e){return 0==t.Validate(e,["key","comparer","value"])?null:new a.default(e.key,e.comparer,e.value)},t.Validate=function(t,e){for(var o=0,n=e;o<n.length;o++){if(void 0==t[n[o]])return!1}return!0},t}();o.default=s,cc._RF.pop()},{"./AnimClip":"AnimClip","./AnimCondition":"AnimCondition","./AnimState":"AnimState","./AnimTransition":"AnimTransition"}],AnimState:[function(t,e,o){"use strict";cc._RF.push(e,"352a6Pm0PJKG57vw70EueIN","AnimState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=""),this._name="",this.animClips=[],this.transitions=[],this.name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name?this._name:this.animClips.length>0?this.animClips[0].name:void 0},set:function(t){this._name=t},enumerable:!0,configurable:!0}),t.prototype.addTransition=function(t){return this.transitions.push(t),this},t.prototype.addClip=function(t){return this.animClips.push(t),this},t}();o.default=n,cc._RF.pop()},{}],AnimTransition:[function(t,e,o){"use strict";cc._RF.push(e,"1630diW/zJD/Jt+yJvX4jjH","AnimTransition"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.exitTime=1,this.conditions=[],this.mixTime=0,this.nextState=null}return t.prototype.isPass=function(t){for(var e=0,o=this.conditions;e<o.length;e++){if(0==o[e].isPass(t))return!1}return!0},t.prototype.addCondition=function(t){return this.conditions.push(t),this},t.prototype.next=function(t){return this.nextState=t.name,this},t}();o.default=n,cc._RF.pop()},{}],AnimatorExample:[function(t,e,o){"use strict";cc._RF.push(e,"f6bcdN2CJ1P/rrtDK4zs2xy","AnimatorExample"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../script/core/Animator"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animator=null,e}return __extends(e,t),e.prototype.start=function(){var t=this;t.animator.timeScale=.5,t.animator.onComplete(function(){console.log("onComplete")}),t.animator.onTime(.5,function(){console.log("onTime 0.5")}),t.animator.onEvent("onXMoveHalf",function(){console.log("onEvent xMove Half")}),t.scheduleOnce(function(){t.animator.set("isToY",!0)},1),t.scheduleOnce(function(){t.animator.set("isToY",!1)},20)},__decorate([a(n.default)],e.prototype,"animator",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../script/core/Animator":"Animator"}],Animator:[function(t,e,o){"use strict";cc._RF.push(e,"40765+LbHZPQLVmKqLf1j03","Animator"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./AnimFactory"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultState="",e.animatorFile=null,e.states=[],e.parameter={},e.isPlaying=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._getTimeScale()},set:function(t){this._setTimeScale(t)},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){if(this.animatorFile){var t=Object.assign({},this.animatorFile.json).build;t&&this.load(t)}this._onLoad()},e.prototype._onLoad=function(){},e.prototype.start=function(){this._start()},e.prototype._start=function(){},e.prototype.update=function(t){if(this._update(),this.currentState)for(var e=this.getNormalizedTime(),o=0,n=this.currentState.transitions;o<n.length;o++){var i=n[o];if(!(-1!=i.exitTime&&e<i.exitTime)&&i.isPass(this.parameter)){this._enter(i);break}}},e.prototype._update=function(){},e.prototype.load=function(t){var e=t.defaultState;e&&""!=e&&(this.defaultState=e);var o=[].concat(t.states);if(o)for(var i=0,r=o;i<r.length;i++){var a=r[i],s=n.default.CreateState(a);this.addState(s)}var c=Object.assign({},t.parameter);return c&&(this.parameter=c),this},e.prototype.set=function(t,e){return this.parameter[t]=e,this},e.prototype.play=function(t){for(var e=0,o=this.states;e<o.length;e++){var n=o[e];if(n.name==t){this.playState(n);break}}},e.prototype.playState=function(t){if(t){this.isPlaying=!0,this.currentState=t;var e=t.animClips;if(0!=e.length){var o=e[0];if(this._play(o),e.length>1)for(var n=1;n<e.length;n++)this._playAdditive(e[n])}}else this.stop()},e.prototype.stop=function(){this.isPlaying=!1,this._stop()},e.prototype.pause=function(){this.isPlaying=!1,this._pause()},e.prototype.resume=function(){this.isPlaying=!0,this._resume()},e.prototype.getNormalizedTime=function(){return this._getNormalizedTime()},e.prototype.onEventOnce=function(t,e){this._onEvent(t,e,!0)},e.prototype.onEvent=function(t,e){this._onEvent(t,e,!1)},e.prototype.onCompleteOnce=function(t){this._onComplete(t,!0)},e.prototype.onComplete=function(t){this._onComplete(t,!1)},e.prototype.onTimeOnce=function(t,e){this._onTime(t,e,!0)},e.prototype.onTime=function(t,e){this._onTime(t,e,!1)},e.prototype.addState=function(t){return this.states.push(t),this},e.prototype.removeState=function(t){for(var e=0,o=this.states;e<o.length;e++){var n=o[e];if(n.name==t){this.states.splice(this.states.indexOf(n),1);break}}},e.prototype.getState=function(t){for(var e=0,o=this.states;e<o.length;e++){var n=o[e];if(n.name==t)return n}return null},e.prototype._enter=function(t){var e=this.getState(t.nextState);this.currentState=e,this.playState(this.currentState)},e.prototype._play=function(t){},e.prototype._playAdditive=function(t){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getNormalizedTime=function(){return 0},e.prototype._onEvent=function(t,e,o){},e.prototype._onComplete=function(t,e){},e.prototype._onTime=function(t,e,o){},e.prototype._setTimeScale=function(t){},e.prototype._getTimeScale=function(){return 0},__decorate([a()],e.prototype,"defaultState",void 0),__decorate([a(cc.JsonAsset)],e.prototype,"animatorFile",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./AnimFactory":"AnimFactory"}],AudioCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"128c0QM6hZKgpZAFlcMKvgN","AudioCtrl"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.director=null,e.bgm=null,e.button=null,e.scratch=null,e.winScore=null,e.bigWinStart=null,e.bigWinEnd=null,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){0==this.bgm.isPlaying&&this.bgm.play()},__decorate([r(cc.AudioSource)],e.prototype,"bgm",void 0),__decorate([r(cc.AudioSource)],e.prototype,"button",void 0),__decorate([r(cc.AudioSource)],e.prototype,"scratch",void 0),__decorate([r(cc.AudioSource)],e.prototype,"winScore",void 0),__decorate([r(cc.AudioSource)],e.prototype,"bigWinStart",void 0),__decorate([r(cc.AudioSource)],e.prototype,"bigWinEnd",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Bezier:[function(t,e,o){"use strict";cc._RF.push(e,"3a582iLD49BrL3XoOYJYy8x","Bezier"),Object.defineProperty(o,"__esModule",{value:!0});var n=4,i=.001,r=1e-7,a=10,s=11,c=1/(s-1),u="function"==typeof Float32Array;function p(t,e){return 1-3*e+3*t}function l(t,e){return 3*e-6*t}function d(t){return 3*t}function h(t,e,o){return((p(e,o)*t+l(e,o))*t+d(e))*t}function f(t,e,o){return 3*p(e,o)*t*t+2*l(e,o)*t+d(e)}function _(t){return t}o.default=function(t,e,o,p){if(!(0<=t&&t<=1&&0<=o&&o<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&o===p)return _;for(var l=u?new Float32Array(s):new Array(s),d=0;d<s;++d)l[d]=h(d*c,t,o);function v(e){for(var u=0,p=1,d=s-1;p!==d&&l[p]<=e;++p)u+=c;var _=u+(e-l[--p])/(l[p+1]-l[p])*c,v=f(_,t,o);return v>=i?function(t,e,o,i){for(var r=0;r<n;++r){var a=f(e,o,i);if(0===a)return e;e-=(h(e,o,i)-t)/a}return e}(e,_,t,o):0===v?_:function(t,e,o,n,i){var s,c,u=0;do{(s=h(c=e+(o-e)/2,n,i)-t)>0?o=c:e=c}while(Math.abs(s)>r&&++u<a);return c}(e,u,u+c,t,o)}return function(t){return 0===t?0:1===t?1:h(v(t),e,p)}},cc._RF.pop()},{}],BigWinPanel:[function(t,e,o){"use strict";cc._RF.push(e,"9fb6abEIA5JBKmEyzK8eSe9","BigWinPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../NumberLabel"),i=t("../../../Import/CLCC/lib/Uzil/Event/Event"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isShowing=!1,e.scoreTexts=[],e.psNodes=[],e._pses=[],e.onScoreDone=new i.default,e}return __extends(e,t),Object.defineProperty(e.prototype,"scoreText",{get:function(){return this.scoreTexts[0]},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){for(var t=0,e=this.psNodes;t<e.length;t++){var o=e[t].getComponent("PrefabShuriken");o&&this._pses.push(o)}this.node.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){this._isShowing&&this.scoreText.currentNum==this.scoreText.targetNum&&(this._isShowing=!1,this.onScoreDone.call())},e.prototype.show=function(t,e){this.node.active=!0;for(var o=0,n=this._pses;o<n.length;o++){(a=n[o]).startEmit()}this._isShowing=!0;for(var i=0,r=this.scoreTexts;i<r.length;i++){var a;(a=r[i]).setNum(0),a.gotoNum(t)}this.onScoreDone.clear(),this.onScoreDone.addFunc(e)},e.prototype.stop=function(){this.node.active=!1,this._isShowing=!1;for(var t=0,e=this._pses;t<e.length;t++){e[t].pauseEmit()}},__decorate([s([n.default])],e.prototype,"scoreTexts",void 0),__decorate([s([cc.Node])],e.prototype,"psNodes",void 0),e=__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Event/Event":"Event","../../NumberLabel":"NumberLabel"}],Blurs:[function(t,e,o){"use strict";cc._RF.push(e,"b2d98IPsO5NvrPymRVY36Sc","Blurs"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Blurs",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"size",type:i.PARAM_FLOAT2,defaultValue:new cc.Vec2(0,0)}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var o=t.size;e.setParam("size",o)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform vec2 size;\n\t\tvarying vec2 uv0;\n\t\tvoid main () {\n\t\t\tvec4 sum = vec4(0.0);\n\n\t\t\tvec2 lv1 = size;\n\t\t\tvec2 lv2 = size * 2.;\n\t\t\tvec2 lv3 = size * 3.;\n\t\t\tvec2 lv4 = size * 4.;\n\n\t\t\tsum += texture2D(texture, uv0 - lv4) * 0.05;\n\t\t\tsum += texture2D(texture, uv0 - lv3) * 0.09;\n\t\t\tsum += texture2D(texture, uv0 - lv2) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 - lv1) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 ) * 0.18;\n\t\t\tsum += texture2D(texture, uv0 + lv1) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 + lv2) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 + lv3) * 0.09;\n\t\t\tsum += texture2D(texture, uv0 + lv4) * 0.05;\n\n\t\t\tfloat alpha = texture2D(texture, uv0).a;\n\t\t\tif (alpha < 0.05) { \n\t\t\t\tgl_FragColor = vec4(0 , 0 , 0 , 0); \n\t\t\t} else {\n\t\t\t\tgl_FragColor = sum * color;\n\t\t\t}\n\t\t}\n\t"};n.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],BuyMachine:[function(t,e,o){"use strict";cc._RF.push(e,"f9578z9dB1JY5KmfasbWh24","BuyMachine"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./TicketData"),i=t("./SymbolData"),r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dispatchCode=3e8,e}var o;return __extends(e,t),o=e,e.prototype.start=function(){},e.prototype.buy=function(t){for(var e=[],o=0;o<t;o++){var i=new n.default;i.code=(this.dispatchCode++).toString();var r=[this._random(1,30),this._random(1,30)];i.luckySymbols=[this._getSymbolByArgs(r[0],-1),this._getSymbolByArgs(r[1],-1)],i.mainSymbols=[];for(var a=0;a<28;a++){var s=this._random(-2,30),c=10*this._random(1,3),u=!1;s>=0&&(s=this._random(20,40),-1!=r.indexOf(s)&&(i.winScore+=c,u=!0)),(h=this._getSymbolA(s,c)).isWinning=u,i.mainSymbols.push(h)}var p=[{code:this._random(-1,-8),reward:10*this._random(1,3),isWinning:!1},{code:this._random(-1,-8),reward:10*this._random(1,3),isWinning:!1},{code:this._random(-1,-8),reward:10*this._random(1,3),isWinning:!1}];i.specialSymbols=[];for(var l=0,d=p;l<d.length;l++){var h,f=d[l];-1==f.code&&(i.winScore+=f.reward,f.isWinning=!0),(h=this._getSymbolB(f.code,f.reward)).isWinning=f.isWinning,i.specialSymbols.push(h)}i.winScore>0&&(i.isWinning=!0),e.push(i)}return e},e.prototype._random=function(t,e){return t+Math.round((e-t)*Math.random())},e.prototype._getSymbolByArgs=function(t,e,o){var n,r,a;void 0===o&&(o=[]);var s=parseInt(t);return!isNaN(s)&&s<0?(n=i.SymbolType.image,r=o[-1*s-1]):(n=i.SymbolType.string,r=t.toString()),a=parseInt(e),isNaN(a)&&(a=-1),i.default.Create(n,r,a)},e.prototype._getSymbolA=function(t,e){return this._getSymbolByArgs(t,e,o.SymbolCodeTable_A)},e.prototype._getSymbolB=function(t,e){return this._getSymbolByArgs(t,e,o.SymbolCodeTable_B)},e.SymbolCodeTable_A=["symbolA1","symbolA2"],e.SymbolCodeTable_B=["symbolB1","symbolB2","symbolB3","symbolB4","symbolB5","symbolB6","symbolB7","symbolB8"],e=o=__decorate([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{"./SymbolData":"SymbolData","./TicketData":"TicketData"}],CocosAnimator:[function(t,e,o){"use strict";cc._RF.push(e,"3b2c3FEWsRCRoQRw5bBLFqy","CocosAnimator"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./core/AnimClip"),i=t("./core/Animator"),r=t("./core/AnimState"),a=t("./core/AnimTransition"),s=t("./core/AnimCondition"),c=t("./core/Comparer"),u=cc._decorator,p=u.ccclass,l=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e._playedTime=0,e._timeScale=-1,e._currentClip=null,e.onEventList=[],e.onCompleteList=[],e.onTimeList=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){this.defaultState?this.play(this.defaultState):this.states.length>0&&this.playState(this.states[0])},e.prototype._update=function(){for(var t=this.getNormalizedTime()%1,e=[],o=0,n=this.onTimeList;o<n.length;o++){t<(a=n[o]).time_percent||(a.isRunedInLoop||(a.func(),a.isRunedInLoop=!0,a.isOnce&&e.push(a)))}for(var i=0,r=e;i<r.length;i++){var a=r[i];this.onTimeList.splice(this.onTimeList.indexOf(a),1)}},e.prototype.callEvent=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=[],i=0,r=this.onEventList;i<r.length;i++){(c=r[i]).eventTag==t&&(c.func(),c.isOnce&&n.push(c))}for(var a=0,s=n;a<s.length;a++){var c=s[a];this.onEventList.splice(this.onEventList.indexOf(c),1)}},e.prototype._play=function(t){this.animation.play(t.name),this._reRegEvent(),this._playedTime=0,this._currentClip=this.animation.currentClip},e.prototype._playAdditive=function(t){this.animation.playAdditive(t.name)},e.prototype._stop=function(){this.animation.stop(),this._playedTime=0},e.prototype._pause=function(){this.animation.pause()},e.prototype._resume=function(){this.animation.resume()},e.prototype._getNormalizedTime=function(){var t=this._currentClip;if(!t)return-1;var e=t.duration,o=this.animation.getAnimationState(t.name).time/e%1;return this.playedTime+o},e.prototype._onEvent=function(t,e,o){this.onEventList.push({eventTag:t,isOnce:o,func:e})},e.prototype._onComplete=function(t,e){this.onCompleteList.push({isOnce:e,func:t})},e.prototype._onTime=function(t,e,o){this.onTimeList.push({time_percent:t,isOnce:o,func:e,isRunedInLoop:!1})},e.prototype._setTimeScale=function(t){for(var e=0,o=this.animation._clips;e<o.length;e++){var n=o[e];this.animation.getAnimationState(n.name).speed=t}this._timeScale=t},e.prototype._getTimeScale=function(){if(-1!=this._timeScale)return this._timeScale;for(var t=0,e=this.animation._clips;t<e.length;t++){var o=e[t],n=this.animation.getAnimationState(o.name);this._setTimeScale(n.speed);break}return this._timeScale},e.prototype._reRegEvent=function(){this.animation.off("lastframe",this._onLastFrame,this),this.animation.on("lastframe",this._onLastFrame,this)},e.prototype._onLastFrame=function(t){this._playedTime++;for(var e=0,o=this.onTimeList;e<o.length;e++){(c=o[e]).isRunedInLoop=!1}for(var n=[],i=0,r=this.onCompleteList;i<r.length;i++){(c=r[i]).func(),c.isOnce&&n.push(c)}for(var a=0,s=n;a<s.length;a++){var c=s[a];this.onCompleteList.splice(this.onCompleteList.indexOf(c),1)}},e.prototype.example_script=function(){var t=this,e=new n.default("xMove"),o=new n.default("yMove"),i=new r.default("stateX");i.addClip(e);var u=new r.default("stateY");u.addClip(e),u.addClip(o);var p=(new a.default).next(u);p.exitTime=5;var l=new s.default("isToY",c.default.EQUAL,!0);p.addCondition(l);var d=(new a.default).next(i);d.exitTime=1,i.addTransition(p),u.addTransition(d),this.addState(i),this.addState(u),this.parameter.isToY=!1,this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove"}],transitions:[{nextState:"stateY",exitTime:5,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove"},{name:"yMove"}],transitions:[{nextState:"stateX",exitTime:1,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},__decorate([l(cc.Animation)],e.prototype,"animation",void 0),e=__decorate([p],e)}(i.default);o.default=d,cc._RF.pop()},{"./core/AnimClip":"AnimClip","./core/AnimCondition":"AnimCondition","./core/AnimState":"AnimState","./core/AnimTransition":"AnimTransition","./core/Animator":"Animator","./core/Comparer":"Comparer"}],Comparer:[function(t,e,o){"use strict";cc._RF.push(e,"06917sIngdG2L0N2faifDHK","Comparer"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={EQUAL:"==",NOT_EQUAL:"!=",GREATER:">",GREATER_EQUAL:">=",LESS:"<",LESS_EQUAL:"<="},cc._RF.pop()},{}],CustomMaterial:[function(t,e,o){"use strict";cc._RF.push(e,"8aa76H3+6RD8r/Te9PtLYXo","CustomMaterial"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.renderer,i=n.renderEngine,r=(i.renderer,i.gfx),a=i.Material,s=(i.Texture2D,function(t){function e(e){var o=t.call(this,!1)||this;return o.shader=null,o._init(e),o}return __extends(e,t),e.prototype._init=function(t){this.shader=t;var e=t.name,o=t.params,a=t.defines,s=t.vert,c=t.frag,u=i.renderer,p=n._forward._programLib;!p._templates[e]&&p.define(e,s,c,a||[]);var l=new u.Pass(e);l.setDepth(!1,!1),l.setCullMode(r.CULL_NONE),l.setBlend(r.BLEND_FUNC_ADD,r.BLEND_SRC_ALPHA,r.BLEND_ONE_MINUS_SRC_ALPHA,r.BLEND_FUNC_ADD,r.BLEND_SRC_ALPHA,r.BLEND_ONE_MINUS_SRC_ALPHA);var d=[{name:"texture",type:u.PARAM_TEXTURE_2D},{name:"color",type:u.PARAM_COLOR4},{name:"time",type:u.PARAM_FLOAT}];o&&(d=d.concat(o));var h=new u.Technique(["transparent"],d,[l]);return this.shaderName=e,this._texture=null,this._color={r:1,g:1,b:1,a:1},this._effect=this.effect=new u.Effect([h],d,a),this._mainTech=h,this},e.prototype.clone=function(){var t=new e(this.shader);return t.updateHash(),t},e.prototype.setParam=function(t,e){this._effect.setProperty(t,e)},e.prototype.getParam=function(t){return this._effect.getProperty(t)},e.prototype.setMainTexture=function(t){null!=t&&(this._texture=t,this._effect.setProperty("texture",t.getImpl()),this._texIds.texture=t.getId())},e.prototype.setTexture=function(t,e){null!=e&&(this._effect.setProperty(t,e.getImpl()),this._texIds[t]=e.getId())},e.prototype.setColor=function(t){var e=this._color;e.r=t.r/255,e.g=t.g/255,e.b=t.b/255,e.a=t.a/255,this._effect.setProperty("color",e)},e.prototype.setDefine=function(t,e){this._effect.define(t,e)},e}(a));o.default=s,cc._RF.pop()},{}],ErasableObj:[function(t,e,o){"use strict";cc._RF.push(e,"59c3b3Ks5xKX78iZJsgIud0","ErasableObj"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Import/MyMath"),i=t("../Import/CLCC/lib/Uzil/Invoke/Invoker"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInteractable=!0,e.mask=null,e.cover=null,e.cursor=null,e.cursorParticle=null,e.scratchAnimFX=null,e.eraseSize=10,e.eraseSample=10,e.eraseSpacing=10,e.eraseSprite=null,e.lastErasePos=new cc.Vec2(-1,-1),e.imageClip=null,e.audio=null,e.audioDelay=.2,e._audioCD=0,e.audioSafe=.2,e._audioSafe=.2,e.audioDistance=50,e._audioLeft=0,e}return __extends(e,t),e.prototype.start=function(){var t=this,e=this;e.cursor&&(e.cursor.active=!1),e.node.on(cc.Node.EventType.TOUCH_START,function(t){if(e.isInteractable){var o=t.touch.getLocation(),n=e.mask.node.convertToNodeSpaceAR(o);if(i.default.Invoke(function(){e._addErase(n)},0),e.lastErasePos=n,e.cursor){var r=e.cursor.parent.convertToNodeSpaceAR(o);e.cursor.setPosition(r),e.cursor.active=!0}e.scratchAnimFX&&(e.scratchAnimFX.play(),e.scratchAnimFX.node.active=!0),e.cursorParticle&&e.cursorParticle.resetSystem()}},this),e.node.on(cc.Node.EventType.TOUCH_MOVE,function(o){if(e.isInteractable){var i=o.touch.getLocation(),r=e.mask.node.convertToNodeSpaceAR(i),a=e.lastErasePos,s=r.sub(e.lastErasePos);for(e._audioLeft-=s.mag(),e.audio&&(e._audioSafe<=0&&(e._audioLeft=t.audioDistance,e._audioSafe=e.audioSafe),e._audioCD<=0&&e._audioLeft<=0&&(e.audio.play(),e._audioCD=e.audioDelay,e._audioLeft=e.audioDistance,e._audioSafe=e.audioSafe));0!=s.mag();){var c=e.eraseSpacing;a=n.default.MoveTowardV2(a,r,c),e._addErase(a),s=r.sub(a)}if(e.cursor){var u=e.cursor.parent.convertToNodeSpaceAR(i);e.cursor.setPosition(u)}e.lastErasePos=r}},this),e.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.isInteractable&&(e.cursorParticle&&e.cursorParticle.stopSystem(),e.scratchAnimFX&&(e.scratchAnimFX.stop(),e.scratchAnimFX.node.active=!1),e.audio&&(e.audio.stop(),e._audioCD=0,e._audioLeft=0,e._audioSafe=0),e.cursor&&(e.cursor.active=!1))},this),e.node.on(cc.Node.EventType.TOUCH_END,function(t){e.isInteractable&&(e.cursorParticle&&e.cursorParticle.stopSystem(),e.scratchAnimFX&&(e.scratchAnimFX.stop(),e.scratchAnimFX.node.active=!1),e.audio&&(e.audio.stop(),e._audioCD=0,e._audioLeft=0,e._audioSafe=0),e.cursor&&(e.cursor.active=!1))},this)},e.prototype.update=function(t){this.imageClip&&this.imageClip.update(),this._audioCD-=t,this._audioSafe-=t},e.prototype.reset=function(){this.mask._graphics.clear(),this.cover&&(this.cover.active=!0)},e.prototype.erase=function(){this.cover&&(this.cover.active=!1)},e.prototype._addErase=function(t){this.mask._graphics;this._addDiamond(t)},e.prototype._addCircle=function(t){var e=this.mask._graphics;e.lineWidth=1,e.strokeColor=cc.color(255,0,0),e.fillColor=cc.color(0,255,0),e.circle(t.x,t.y,this.eraseSize),e.fill(),e.stroke()},e.prototype._addDot=function(t){var e=this.mask._graphics;e.lineWidth=1,e.strokeColor=cc.color(255,0,0),e.fillColor=cc.color(0,255,0),e.rect(t.x,t.y,1,1),e.fill(),e.stroke()},e.prototype._addDiamond=function(t){var e=this.mask._graphics;e.lineWidth=1,e.strokeColor=cc.color(255,0,0),e.fillColor=cc.color(0,255,0);var o=this.eraseSize/10,n=[t.x-o,t.y+this.eraseSize+o],i=[t.x+this.eraseSize+o,t.y-o],r=[t.x+o,t.y-this.eraseSize-o],a=[t.x-this.eraseSize-o,t.y+o];e.moveTo(n[0],n[1]),e.lineTo(i[0],i[1]),e.lineTo(r[0],r[1]),e.lineTo(a[0],a[1]),e.lineTo(n[0],n[1]),e.close(),e.fill(),e.stroke()},__decorate([s(cc.Mask)],e.prototype,"mask",void 0),__decorate([s(cc.Node)],e.prototype,"cover",void 0),__decorate([s(cc.Node)],e.prototype,"cursor",void 0),__decorate([s(cc.ParticleSystem)],e.prototype,"cursorParticle",void 0),__decorate([s(cc.Animation)],e.prototype,"scratchAnimFX",void 0),__decorate([s()],e.prototype,"eraseSize",void 0),__decorate([s()],e.prototype,"eraseSample",void 0),__decorate([s()],e.prototype,"eraseSpacing",void 0),__decorate([s(cc.Sprite)],e.prototype,"eraseSprite",void 0),__decorate([s(cc.AudioSource)],e.prototype,"audio",void 0),__decorate([s],e.prototype,"audioDelay",void 0),__decorate([s],e.prototype,"audioSafe",void 0),__decorate([s],e.prototype,"audioDistance",void 0),e=__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../Import/CLCC/lib/Uzil/Invoke/Invoker":"Invoker","../Import/MyMath":"MyMath"}],EventBus:[function(t,e,o){"use strict";cc._RF.push(e,"6d4fbscwtVIfYlgV0+wTUT/","EventBus"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Event"),i=function(){return function(t,e,o){this.id=t,this.tag=e,this.listener=o}}(),r=function(){function t(t){this.anyEvent=new n.default,this.tag2Event={},this.id2RegInfos={},this.key=t}return t.Get=function(e){return void 0===e&&(e=void 0),void 0==e?this.currentBus:(e||(e="_default"),null==t.instanceDict[e]&&(t.instanceDict[e]=new t(e)),t.instanceDict[e])},t.Use=function(e){return t.currentKey=e,0==t.instanceDict.hasOwnProperty(e)?t.currentBus=new t(e):t.currentBus=t.instanceDict[e],t.currentBus},t.prototype.post=function(t,e){(void 0===e&&(e=void 0),this.tag2Event.hasOwnProperty(t))&&this.tag2Event[t].call(e);this.anyEvent.call(e)},t.prototype.register=function(t,e,o){var r;this.unregister(t),o.id=t,this.regInfo(t,new i(t,e,o)),this.tag2Event.hasOwnProperty(e)?r=this.tag2Event[e]:(r=new n.default,this.tag2Event[e]=r),r.add(o)},t.prototype.registerAny=function(t,e){this.unregister(t),e.id=t,this.regInfo(t,new i(t,"_any",e)),this.anyEvent.add(e)},t.prototype.unregister=function(t){if(0!=this.id2RegInfos.hasOwnProperty(t)){for(var e=0,o=this.id2RegInfos[t];e<o.length;e++){var n=o[e];("_any"==n.tag?this.anyEvent:this.tag2Event[n.tag]).remove(n.listener)}this.id2RegInfos[t]=void 0}},t.prototype.unregisterByTag=function(t){if(0!=this.tag2Event.hasOwnProperty(t)){var e=[];for(var o in this.id2RegInfos)for(var n=0,i=this.id2RegInfos[o];n<i.length;n++){var r=i[n];r.tag==t&&-1==e.indexOf(r)&&e.push(r)}for(var a=0,s=e;a<s.length;a++){var c=s[a];this.unregister(c.id)}}},t.prototype.regInfo=function(t,e){var o;this.id2RegInfos.hasOwnProperty(t)?o=this.id2RegInfos[t]:(o=[],this.id2RegInfos[t]=o),o.push(e)},t.instanceDict={},t.currentKey="_default",t.currentBus=new t("_default"),t}();o.default=r,cc._RF.pop()},{"./Event":"Event"}],EventListener:[function(t,e,o){"use strict";cc._RF.push(e,"e000fWZxkRJ6bzmAx4c6cNC","EventListener"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.tags=[],this.func=function(){},this.time=-1,this.priority=10,this.isOnceCall=!1,this.func=t}return t.prototype.call=function(t,e){void 0===e&&(e=void 0),this.func(t,e),this.isOnceCall&&this.removeSelf()},t.prototype.removeSelf=function(){this.event&&this.event.remove(this)},t.prototype._setEvent=function(t){this.event=t},t.prototype.setPriority=function(t){return this.priority=t,this},t.prototype.once=function(t){return void 0===t&&(t=!0),this.isOnceCall=t,this},t.prototype.setTime=function(t){return this.time=t,this},t.prototype.setID=function(t){return this.id=t,this},t}();o.default=n,cc._RF.pop()},{}],Event:[function(t,e,o){"use strict";cc._RF.push(e,"11643dJ9DVJ9L/Gy0FoBbD+","Event"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./EventListener"),i=function(){function t(){this.listeners=[],this.time=-1,this.data={}}return t.prototype.add=function(t){return this.listeners.push(t),t._setEvent(this),this.sort(),t},t.prototype.addFunc=function(t,e){void 0===e&&(e=-1);var o=new n.default(t);return o.time=e,this.add(o),o},t.prototype.remove=function(t){var e=this.listeners.indexOf(t);this.listeners.splice(e,1)},t.prototype.removeTag=function(t){var e=this,o=[];this.listeners.forEach(function(e){-1!=e.tags.indexOf(t)&&o.push(e)}),o.forEach(function(t){e.remove(t)})},t.prototype.removeID=function(t){var e=this,o=[];this.listeners.forEach(function(e){e.id==t&&o.push(e)}),o.forEach(function(t){e.remove(t)})},t.prototype.sort=function(){this.listeners.sort(function(t,e){return t.priority-e.priority})},t.prototype.clear=function(){var t=this;this.listeners.forEach(function(e){t.remove(e)})},t.prototype.call=function(t){var e=this;void 0===t&&(t=void 0);var o=t;void 0==o&&(o=this.data);__awaiter(e,void 0,void 0,function(){var t,e,n,i;return __generator(this,function(r){switch(r.label){case 0:t=function(t){var e,n;return __generator(this,function(i){switch(i.label){case 0:return e=!1,n=!0,[4,new Promise(function(i,r){var a={stop:function(){n=!1},data:function(t){o=t},wait:function(){e=!0},next:function(){e&&i()}};t.call(o,a),0==e&&i()})];case 1:return i.sent(),n?[2]:[2,"break"]}})},e=0,n=this.listeners,r.label=1;case 1:return e<n.length?(i=n[e],[5,t(i)]):[3,4];case 2:if("break"===r.sent())return[3,4];r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},t.prototype.update=function(t){var e=this;void 0===t&&(t=0),this.time+=t,this.listeners.forEach(function(t){-1!=t.time&&e.time>=t.time&&(t.removeSelf(),t.call(e.data))})},t}();o.default=i,cc._RF.pop()},{"./EventListener":"EventListener"}],Example_ControlledEvent:[function(t,e,o){"use strict";cc._RF.push(e,"7a3c8RbAQpFyawqrp5REUUx","Example_ControlledEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Event/EventBus"),i=t("../../Event/EventListener"),r=t("../../Event/Event"),a=t("../../Invoke/Invoker"),s=cc._decorator,c=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isUseEventBus=!1,e}return __extends(e,t),e.prototype.start=function(){if(this.isUseEventBus)n.default.Get().register("ControlledEvent_001","onCall",new i.default(function(t,e){console.log("\u7b2c\u4e00\u500b\u57f7\u884c\u7684\u4e8b\u4ef6:"+t.msg),e.data({msg:"\u7ac4\u6539\u904e\u7684\u8a0a\u606f"}),e.wait(),a.default.Invoke(function(){e.next()},3)}).setPriority(1)),n.default.Get().register("ControlledEvent_002","onCall",new i.default(function(t,e){console.log("\u7b2c\u4e8c\u500b\u57f7\u884c\u7684\u4e8b\u4ef6:"+t.msg),e.stop(),console.log("\u505c\u6b62\u50b3\u905e\u4e8b\u4ef6")}).setPriority(2)),n.default.Get().register("ControlledEvent_002","onCall",new i.default(function(t){console.log("\u7b2c\u4e09\u500b\u672c\u4f86\u8981\u57f7\u884c\u7684\u4e8b\u4ef6")}).setPriority(3)),n.default.Get().post("onCall",{msg:"\u539f\u672c\u7684\u8a0a\u606f"});else{var t=new r.default;t.add(new i.default(function(t,e){console.log("\u7b2c\u4e00\u500b\u57f7\u884c\u7684\u4e8b\u4ef6:"+t.msg),e.data({msg:"\u7ac4\u6539\u904e\u7684\u8a0a\u606f"}),e.wait(),a.default.Invoke(function(){e.next()},3),console.log("\u7b49\u5f85 3 \u79d2")}).setPriority(1)),t.add(new i.default(function(t,e){console.log("\u7b2c\u4e8c\u500b\u57f7\u884c\u7684\u4e8b\u4ef6:"+t.msg),e.stop(),console.log("\u505c\u6b62\u50b3\u905e\u4e8b\u4ef6")}).setPriority(2)),t.add(new i.default(function(t){console.log("\u7b2c\u4e09\u500b\u672c\u4f86\u8981\u57f7\u884c\u7684\u4e8b\u4ef6")}).setPriority(3)),t.call({msg:"\u539f\u672c\u7684\u8a0a\u606f"})}},__decorate([u(cc.Boolean)],e.prototype,"isUseEventBus",void 0),e=__decorate([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Event/Event":"Event","../../Event/EventBus":"EventBus","../../Event/EventListener":"EventListener","../../Invoke/Invoker":"Invoker"}],Example_EventBusAny:[function(t,e,o){"use strict";cc._RF.push(e,"933d3/PPLhBeK21Ieql19S8","Example_EventBusAny"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Event/EventBus"),i=t("../../Event/EventListener"),r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){n.default.Get().registerAny("onCall",new i.default(function(t){console.log("\u7b2c\u4e8c\u500b\u57f7\u884c\u7684\u4efb\u610f\u4e8b\u4ef6")}).setPriority(2)),n.default.Get().registerAny("onCall",new i.default(function(t){console.log("\u7b2c\u4e00\u500b\u57f7\u884c\u7684\u4efb\u610f\u4e8b\u4ef6")}).setPriority(1)),n.default.Get().register("AnyEvent_001","onCall",new i.default(function(t){console.log("\u4e00\u822c\u4e8b\u4ef6\u4ecd\u7136\u512a\u5148\u57f7\u884c\u65bc\u4efb\u610f\u4e8b\u4ef6")}).setPriority(99)),n.default.Get().post("onCall")},e=__decorate([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../Event/EventBus":"EventBus","../../Event/EventListener":"EventListener"}],Example_InvokeQueue:[function(t,e,o){"use strict";cc._RF.push(e,"84c21DP5sFAIZaxk82DKhMY","Example_InvokeQueue"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Invoke/InvokeQueue"),i=t("../../Invoke/Invoker"),r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=new n.default;t.push(function(){console.log("\u7b2c\u4e8c\u500b\u57f7\u884c\u7684\u4efb\u52d9"),t.stop(),console.log("\u4e2d\u6b62\u57f7\u884c")},2),t.push(function(){console.log("\u7b2c\u4e09\u500b\u4e0d\u6703\u88ab\u57f7\u884c\u7684\u4efb\u52d9")},3),t.push(function(){console.log("\u7b2c\u4e00\u500b\u57f7\u884c\u7684\u4efb\u52d9"),t.pause(),i.default.Invoke(function(){t.run()},2)},1),t.run()},e=__decorate([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../Invoke/InvokeQueue":"InvokeQueue","../../Invoke/Invoker":"Invoker"}],Example_Invoker:[function(t,e,o){"use strict";cc._RF.push(e,"30277aogA9AcJaw/ngwr8Y0","Example_Invoker"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Invoke/Invoker"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){console.log("\u958b\u59cb\u5012\u6578\u4e94\u79d2"),n.default.Invoke(function(){console.log("\u4e94\u79d2\u5230\u4e86")},5)},e=__decorate([r],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../../Invoke/Invoker":"Invoker"}],Example_Proc:[function(t,e,o){"use strict";cc._RF.push(e,"90da5wp2pVBcaEk+/coI7gi","Example_Proc"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../../Proc/ProcNode/ProcNode_General"),r=t("../../Proc/ProcWork/ProcWork_Log"),a=t("../../Proc/ProcGate/ProcGate_WaitSec"),s=cc._decorator,c=s.ccclass,u=s.property;(function(t){t[t.A=0]="A",t[t.B=1]="B"})(n||(n={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.planCode=n.A,e}return __extends(e,t),e.prototype.start=function(){switch(console.log(this.planCode),this.planCode){case n.A:this.planA();break;case n.B:this.planB()}},e.prototype.planA=function(){var t=new i.default,e=new i.default,o=(new r.default).set("msg_begin","\u7b2c\u4e00\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u958b\u59cb").set("msg_end","\u7b2c\u4e00\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u7d50\u675f"),n=(new r.default).set("msg_begin","\u7b2c\u4e8c\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u958b\u59cb").set("msg_end","\u7b2c\u4e8c\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u7d50\u675f"),s=(new a.default).set("waitSec",5);t.work(o).gate(s).attach(e),e.work(n),t.begin()},e.prototype.planB=function(){var t;t=(new i.default).work((new r.default).set("msg_begin","\u7b2c\u4e00\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u958b\u59cb").set("msg_end","\u7b2c\u4e00\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u7d50\u675f")).gate((new a.default).set("waitSec",5)),(new i.default).attachFrom(t).work((new r.default).set("msg_begin","\u7b2c\u4e8c\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u958b\u59cb").set("msg_end","\u7b2c\u4e8c\u500b\u7bc0\u9ede\u7684\u5de5\u4f5c\u7d50\u675f")),t.begin()},__decorate([u({type:cc.Enum(n)})],e.prototype,"planCode",void 0),e=__decorate([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Proc/ProcGate/ProcGate_WaitSec":"ProcGate_WaitSec","../../Proc/ProcNode/ProcNode_General":"ProcNode_General","../../Proc/ProcWork/ProcWork_Log":"ProcWork_Log"}],Example_SimpleEvent:[function(t,e,o){"use strict";cc._RF.push(e,"ab9a64a34RCz60VXOKFzdSQ","Example_SimpleEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Event/EventBus"),i=t("../../Event/Event"),r=t("../../Event/EventListener"),a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isUseEventBus=!1,e}return __extends(e,t),e.prototype.start=function(){if(this.isUseEventBus)n.default.Get().register("test001","onCall",new r.default(function(t){console.log(t.msg)})),n.default.Get().post("onCall",{msg:"Hellow EventBus"});else{var t=new i.default;t.add(new r.default(function(t){console.log(t.msg)})),t.call({msg:"Hellow Event"})}},__decorate([c(cc.Boolean)],e.prototype,"isUseEventBus",void 0),e=__decorate([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Event/Event":"Event","../../Event/EventBus":"EventBus","../../Event/EventListener":"EventListener"}],Example_SortedEvent:[function(t,e,o){"use strict";cc._RF.push(e,"685b6DUmihIyLesDDVgGKlF","Example_SortedEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Event/EventBus"),i=t("../../Event/Event"),r=t("../../Event/EventListener"),a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isUseEventBus=!1,e}return __extends(e,t),e.prototype.start=function(){if(this.isUseEventBus)n.default.Get().register("SortedEvent_002","onCall",new r.default(function(t){console.log("\u7b2c\u4e8c\u500b\u57f7\u884c\u7684\u4e8b\u4ef6")}).setPriority(2)),n.default.Get().register("SortedEvent_001","onCall",new r.default(function(t){console.log("\u7b2c\u4e00\u500b\u57f7\u884c\u7684\u4e8b\u4ef6")}).setPriority(1)),n.default.Get().post("onCall");else{var t=new i.default;t.add(new r.default(function(t){console.log("\u7b2c\u4e8c\u500b\u57f7\u884c\u7684\u4e8b\u4ef6")}).setPriority(2)),t.add(new r.default(function(t){console.log("\u7b2c\u4e00\u500b\u57f7\u884c\u7684\u4e8b\u4ef6")}).setPriority(1)),t.call()}},__decorate([c(cc.Boolean)],e.prototype,"isUseEventBus",void 0),e=__decorate([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Event/Event":"Event","../../Event/EventBus":"EventBus","../../Event/EventListener":"EventListener"}],Fluxay:[function(t,e,o){"use strict";cc._RF.push(e,"d5625LnOuRIVaiRHQhuGX0m","Fluxay"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Fluxay",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"size",type:i.PARAM_FLOAT,defaultValue:1}],defines:[],start:function(t){t.component},update:function(t){var e=t.component;if(e){var o=e.time;e.setParam("time",o%5)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform float time;\n\t\tvarying vec2 uv0;\n\t\t\n\t\tvoid main()\n\t\t{\n\n\t\t\tvec4 src_color = color * texture2D(texture, uv0);\n\t\t\n\t\t\tfloat width = 0.08;          //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n\t\t\tfloat start = tan(time/3.);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n\t\t\tfloat strength = 0.008;      //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n\t\t\tfloat offset = 0.5;          //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n\n\t\t\tif(uv0.x < (start - offset * uv0.y) &&  uv0.x > (start - offset * uv0.y - width)) {\n\t\t\t\tvec3 improve = strength * vec3(255, 255, 255);\n\t\t\t\tvec3 result = improve * vec3( src_color.r, src_color.g, src_color.b);\n\t\t\t\tgl_FragColor = vec4(result, src_color.a);\n\t\t\n\t\t\t}else{\n\t\t\t\tgl_FragColor = src_color;\n\t\t\t}\n\t\t}\n\t"};n.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],GameDirector:[function(t,e,o){"use strict";cc._RF.push(e,"6fa2bWHTpROJKW3Di/gL8Vi","GameDirector"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState/GameState"),i=t("./UIMng"),r=t("./AudioCtrl"),a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultState=null,e.state=null,e.ui=null,e.audio=null,e.tickets=[],e._currentTicket=null,e}return __extends(e,t),Object.defineProperty(e.prototype,"currentTicket",{get:function(){return this._currentTicket},set:function(t){this.setCurrentTicket(t)},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.ui.director=this,this.audio.director=this},e.prototype.start=function(){this.goState(this.defaultState)},e.prototype.update=function(t){},e.prototype.goState=function(t){t&&this.state!=t&&(this.state&&this.state.onExit(),this.state=t,this.state.director=this,cc.log("goState : "+t.constructor.name),t.isInited||t.init(),this.state.onEnter())},e.prototype.setCurrentTicket=function(t){this._currentTicket=t,this.ui.codeText.string=t.code},__decorate([c(n.default)],e.prototype,"defaultState",void 0),__decorate([c(i.default)],e.prototype,"ui",void 0),__decorate([c(r.default)],e.prototype,"audio",void 0),e=__decorate([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./AudioCtrl":"AudioCtrl","./GameState/GameState":"GameState","./UIMng":"UIMng"}],GameState_BUYIN:[function(t,e,o){"use strict";cc._RF.push(e,"f9112Nnr+hDbrITQ+h0/Zu3","GameState_BUYIN"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=t("../Buy/BuyMachine"),r=t("../../../Import/CLCC/lib/Uzil/Event/EventListener"),a=cc._decorator,s=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buyMachine=null,e.isCountBuyShowed=!1,e.nextState=null,e}return __extends(e,t),e.prototype.buy=function(t){var e=this.buyMachine.buy(t);this.director.tickets=e},e.prototype.showCountBuy=function(){this.director.ui.countBuyGroup.active=!0,this.isCountBuyShowed=!0},e.prototype.closeCountBuy=function(){this.director.ui.countBuyGroup.active=!1,this.isCountBuyShowed=!1},e.prototype._init=function(){var t=this;this.director.ui.onMultiBuyBtn.add(new r.default(function(){t.isCountBuyShowed?t.closeCountBuy():t.showCountBuy()})),this.director.ui.onCountBuyBtn.add(new r.default(function(e){var o=parseInt(e.count);t.buy(o),t.director.goState(t.nextState)})),this.director.ui.onSingleBuyBtn.add(new r.default(function(){t.buy(1),t.director.goState(t.nextState)}))},e.prototype._onEnter=function(){this.director.tickets=[],this.closeCountBuy(),this.director.ui.buyInPanel.active=!0},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this.closeCountBuy(),this.director.ui.buyInPanel.active=!1},__decorate([c(i.default)],e.prototype,"buyMachine",void 0),__decorate([c(n.default)],e.prototype,"nextState",void 0),e=__decorate([s],e)}(n.default);o.default=u,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Event/EventListener":"EventListener","../Buy/BuyMachine":"BuyMachine","./GameState":"GameState"}],GameState_CHECKLIST:[function(t,e,o){"use strict";cc._RF.push(e,"95b94ijgZ1JZpJy0CRW9wDE","GameState_CHECKLIST"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=t("../../../Import/CLCC/lib/Uzil/Event/EventListener"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextState=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype._init=function(){},e.prototype._onEnter=function(){var t=this,e=this.director.ui.listCheckPanel,o=this.director.tickets;e.import(o),e.open(),e.onConfirmPageBtn.add(new i.default(function(){e.close();var o=t.director.tickets,n=o[o.length-1];t.director.setCurrentTicket(n),t.director.ui.ticketPanel.importResult(n),t.director.ui.scorePanel.setScore(n.winScore),t.director.ui.ticketPanel.showResult(),t.director.goState(t.nextState)}).once())},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([s(n.default)],e.prototype,"nextState",void 0),e=__decorate([a],e)}(n.default);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Event/EventListener":"EventListener","./GameState":"GameState"}],GameState_CHECK:[function(t,e,o){"use strict";cc._RF.push(e,"4cddaLqowBKeZY92/e7JLyX","GameState_CHECK"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winState=null,e.missState=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype._init=function(){},e.prototype._onEnter=function(){this.director.ui.block(!0),this.director.currentTicket.isWinning?this.director.goState(this.winState):(this.director.goState(this.missState),this.director.ui.block(!1))},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([a(n.default)],e.prototype,"winState",void 0),__decorate([a(n.default)],e.prototype,"missState",void 0),e=__decorate([r],e)}(n.default);o.default=s,cc._RF.pop()},{"./GameState":"GameState"}],GameState_FINISHED:[function(t,e,o){"use strict";cc._RF.push(e,"270adhUOvZDqaC17ulHnAhO","GameState_FINISHED"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollbackState=null,e.buyInState=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype._init=function(){},e.prototype._onEnter=function(){this.director.tickets.length>0?this.director.goState(this.rollbackState):this.director.goState(this.buyInState)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([a(n.default)],e.prototype,"rollbackState",void 0),__decorate([a(n.default)],e.prototype,"buyInState",void 0),e=__decorate([r],e)}(n.default);o.default=s,cc._RF.pop()},{"./GameState":"GameState"}],GameState_IDLE:[function(t,e,o){"use strict";cc._RF.push(e,"deee1TODgBNw6uhRWLw+roz","GameState_IDLE"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._onEnter=function(){},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([r],e)}(n.default));o.default=a,cc._RF.pop()},{"./GameState":"GameState"}],GameState_MISS:[function(t,e,o){"use strict";cc._RF.push(e,"bb33d8sLXJMs7AIyqPxkRa2","GameState_MISS"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=t("../../../Import/CLCC/lib/Uzil/Invoke/Invoker"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextState=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype._init=function(){},e.prototype._onEnter=function(){var t=this;this.director.ui.notwinPanel.active=!0,i.default.Invoke(function(){t.director.ui.notwinPanel.active=!1,t.director.goState(t.nextState)},2)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([s(n.default)],e.prototype,"nextState",void 0),e=__decorate([a],e)}(n.default);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Invoke/Invoker":"Invoker","./GameState":"GameState"}],GameState_SCRATCH:[function(t,e,o){"use strict";cc._RF.push(e,"74d14FqW5ZM06RYK2rFXmuh","GameState_SCRATCH"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=t("../../../Import/CLCC/lib/Uzil/Event/EventListener"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextState=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.onCheckBtn=function(){this.director.goState(this.nextState)},e.prototype._init=function(){var t=this;this.director.ui.onCheckBtn.add(new i.default(function(){t.onCheckBtn()}))},e.prototype._onEnter=function(){var t=this.director.tickets.shift(),e=this.director.ui;e.ticketPanel.importResult(t),e.ticketPanel.setInteractable(!0),e.scratchPanel.active=!0},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this.director.ui.scratchPanel.active=!1,this.director.ui.ticketPanel.showResult(),this.director.ui.ticketPanel.setInteractable(!1)},__decorate([s(n.default)],e.prototype,"nextState",void 0),e=__decorate([a],e)}(n.default);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Event/EventListener":"EventListener","./GameState":"GameState"}],GameState_SELECT_CHECK:[function(t,e,o){"use strict";cc._RF.push(e,"7c2f4iuyWBJc4+qr/gvluy6","GameState_SELECT_CHECK"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=t("../../../Import/CLCC/lib/Uzil/Event/EventListener"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.singleCheckState=null,e.listCheckState=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.onListCheckBtn=function(){this.director.goState(this.listCheckState)},e.prototype.onSingleCheckBtn=function(){this.director.goState(this.singleCheckState)},e.prototype._init=function(){var t=this;this.director.ui.onListCheckBtn.add(new i.default(function(){t.onListCheckBtn()})),this.director.ui.onSingleCheckBtn.add(new i.default(function(){t.onSingleCheckBtn()}))},e.prototype._onEnter=function(){this.director.ui.selectCheckPanel.active=!0;var t=this.director.tickets[0];this.director.setCurrentTicket(t),this.director.ui.ticketPanel.resetErase(),this.director.ui.ticketPanel.resetWinning(),this.director.ui.scorePanel.clearScore()},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this.director.ui.selectCheckPanel.active=!1},__decorate([s(n.default)],e.prototype,"singleCheckState",void 0),__decorate([s(n.default)],e.prototype,"listCheckState",void 0),e=__decorate([a],e)}(n.default);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Event/EventListener":"EventListener","./GameState":"GameState"}],GameState_WINNING:[function(t,e,o){"use strict";cc._RF.push(e,"ccebe7MJLFKbIZ3767YJVLE","GameState_WINNING"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameState"),i=t("../../../Import/CLCC/lib/Uzil/Invoke/Invoker"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextState=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype._init=function(){},e.prototype._onEnter=function(){var t=this;this.director.ui.ticketPanel.showWinning(function(){var e=t.director.currentTicket.winScore;e>=60?(t.director.audio.bigWinStart.play(),t.director.ui.bigWinPanel.show(e,function(){i.default.Invoke(function(){t.director.audio.bigWinStart.stop(),t.director.audio.bigWinEnd.play(),i.default.Invoke(function(){t.director.ui.bigWinPanel.stop(),t.director.audio.bigWinEnd.stop(),t.director.ui.scorePanel.scoreText.setNum(e),t._backTo()},8)},5)})):(t.director.ui.scorePanel.sendScore(e),t.director.audio.winScore.play(),i.default.Invoke(function(){t.director.audio.winScore.stop(),t._backTo()},3))})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e.prototype._backTo=function(){this.director.goState(this.nextState),this.director.ui.block(!1)},__decorate([s(n.default)],e.prototype,"nextState",void 0),e=__decorate([a],e)}(n.default);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Invoke/Invoker":"Invoker","./GameState":"GameState"}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"cff23djV4lOf66xeLm5p8Pt","GameState"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.director=null,e.isActive=!1,e.isInited=!1,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){this.isActive&&this.onUpdate(t)},e.prototype.init=function(){this._init(),this.isInited=!0},e.prototype.onEnter=function(){this._onEnter()},e.prototype.onUpdate=function(t){this._onUpdate(t)},e.prototype.onExit=function(){this._onExit()},e.prototype._init=function(){},e.prototype._onEnter=function(){},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],HelloWorld:[function(t,e,o){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},mask:{default:null,type:cc.Node},text:"Hello, World!"},onLoad:function(){},update:function(t){}}),cc._RF.pop()},{}],ImageClipData:[function(t,e,o){"use strict";cc._RF.push(e,"c6e4b6q7H1Nc5WjVXk7sepX","ImageClipData"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(){function t(){this.result_last=null,this.result_temp=[],this.currentX=0,this.currentY=0,this.spriteFrame=null,this.spSize=null,this.clipAlpha=0,this.imageData=null,this.sizeScale=cc.Vec2.ONE,this.sample=cc.Vec2.ONE}return t.prototype.init=function(t,e,o){this.spriteFrame=t.spriteFrame,this.spSize=t.spriteFrame.getOriginalSize();var n=new cc.Size(e.width,e.height),i=1/o;this.sample.x=this.spSize.width*i,this.sample.y=this.spSize.height*i,this.sizeScale=new cc.Vec2(n.width/this.spSize.width,n.height/this.spSize.height);var r=this.spriteFrame.getTexture().getHtmlElementObj(),a=document.createElement("canvas"),s=a.getContext("2d");a.width=this.spSize.width,a.height=this.spSize.height,s.drawImage(r,0,0,this.spSize.width,this.spSize.height,0,0,this.spSize.width,this.spSize.height),this.imageData=s.getImageData(0,0,this.spSize.width,this.spSize.height)},t.prototype.setClipAlpha=function(t){this.clipAlpha=t},t.prototype.update=function(){for(var t=0,e=4*this.spSize.width;t++<1e3;){var o=e*this.currentY+4*this.currentX+3;if(this.imageData.data[o]>=this.clipAlpha&&this.result_temp.push([this.currentX*this.sizeScale.x,this.currentY*this.sizeScale.y]),this.currentX=Math.floor(this.currentX+this.sample.x),this.currentX>=this.spSize.width&&(this.currentX=Math.floor(cc.misc.lerp(0,this.sample.x,Math.random())),this.currentY=Math.floor(this.currentY+this.sample.y),this.currentY>=this.spSize.height)){this.currentY=Math.floor(cc.misc.lerp(0,this.sample.y,Math.random())),this.result_last=this.result_temp,this.result_temp=[];break}}},t.prototype.getClipped=function(){return this.result_last?this.result_last:this.result_temp},t=__decorate([i],t)}());o.default=r,cc._RF.pop()},{}],InvokeQueue:[function(t,e,o){"use strict";cc._RF.push(e,"73e31VS77JBBYLmLN37if9L","InvokeQueue"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(t){void 0===t&&(t=void 0),this.act=function(){},this.index=0,t&&(this.act=t.act,this.index=t.index)}}(),i=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.tickets=[],this.isRunning=!1;for(var o=0,i=t;o<i.length;o++){var r=i[o];this.tickets.push(new n(r))}}return t.prototype.run=function(){this.isRunning=!0;for(var t=1e3;this.tickets.length>0&&!(t--<0)&&this.isRunning;){this.tickets.shift().act()}},t.prototype.push=function(t,e){var o=new n;o.index=e,o.act=t,this.tickets.splice(o.index,0,o),this.tickets.sort(function(t,e){return t.index-e.index})},t.prototype.pause=function(){this.isRunning=!1},t.prototype.stop=function(){this.pause(),this.clear()},t.prototype.clear=function(){this.tickets=[]},t}();o.default=i,cc._RF.pop()},{}],InvokeTask:[function(t,e,o){"use strict";cc._RF.push(e,"79b2dnDf+xB+adk/CPE4X7J","InvokeTask"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.tags=[]}return t.prototype.tag=function(t){if(-1==this.tags.indexOf(t))return this.tags.push(t),this},t.prototype.untag=function(t){var e=this.tags.indexOf(t);if(-1!=e)return this.tags.splice(e,1),this},t}();o.default=n,cc._RF.pop()},{}],Invoker:[function(t,e,o){"use strict";cc._RF.push(e,"c6b3eD0D2NOMLxyGpMIlSfL","Invoker"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./InvokeTask"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskList=[],e.updateTaskList=[],e.time=0,e}var o;return __extends(e,t),o=e,e.GetInstance=function(){if(null==o.instance){var t=void 0,e=cc.find("_Inovker");if(e&&(t=e.getComponent("Invoker")),!t){var n=cc.director.getScene(),i=new cc.Node("_Invoker");i.parent=n,t=i.addComponent(o)}o.instance=t}return o.instance},e.Invoke=function(t,e){return o.GetInstance().invoke(t,e)},e.Cancel=function(t){o.GetInstance().removeInvokeBy(t)},e.Update=function(t){return o.GetInstance().invokeUpdate(t)},e.StopUpdate=function(t){var e=o.GetInstance();t instanceof n.default?e.removeUpdate(t):"string"==typeof t&&e.removeUpdateBy(t)},e.prototype.start=function(){null==o.instance&&(o.instance=this)},e.prototype.update=function(t){this.time=this.time+t;for(var e=[],o=0,n=this.taskList;o<n.length;o++){var i=n[o];this.time>=i.time&&(i.act(),e.push(i))}for(var r=0,a=e;r<a.length;r++){var s=a[r];this.taskList.splice(this.taskList.indexOf(s),1)}for(var c=0,u=this.updateTaskList;c<u.length;c++){(i=u[c]).act(t)}},e.prototype.invoke=function(t,e){var o=new n.default;return o.act=t,o.time=this.time+e,this.taskList.push(o),o},e.prototype.removeInvoke=function(t){var e=this.taskList.indexOf(t);-1!=e&&this.taskList.splice(e,1)},e.prototype.removeInvokeBy=function(t){for(var e=[],o=0,n=this.taskList;o<n.length;o++){if(-1!=(a=n[o]).tags.indexOf(t)){e.push(a);break}}for(var i=0,r=e;i<r.length;i++){var a=r[i];this.removeInvoke(a)}},e.prototype.invokeUpdate=function(t){var e=new n.default;return e.act=t,this.updateTaskList.push(e),e},e.prototype.removeUpdate=function(t){var e=this.updateTaskList.indexOf(t);-1!=e&&this.updateTaskList.splice(e,1)},e.prototype.removeUpdateBy=function(t){for(var e=[],o=0,n=this.updateTaskList;o<n.length;o++){if(-1!=(a=n[o]).tags.indexOf(t)){e.push(a);break}}for(var i=0,r=e;i<r.length;i++){var a=r[i];this.removeUpdate(a)}},__decorate([a],e.prototype,"taskList",void 0),__decorate([a],e.prototype,"updateTaskList",void 0),__decorate([a],e.prototype,"time",void 0),e=o=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./InvokeTask":"InvokeTask"}],ListCheckPanel_RowTicket:[function(t,e,o){"use strict";cc._RF.push(e,"5236cA5+LVKWqGaVS9gMdgd","ListCheckPanel_RowTicket"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.codeText=null,e.rewardText=null,e}return __extends(e,t),e.prototype.setVal=function(t,e){this.codeText.string=t.toString(),this.rewardText.string=e.toString()},__decorate([r(cc.Label)],e.prototype,"codeText",void 0),__decorate([r(cc.Label)],e.prototype,"rewardText",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],ListCheckPanel:[function(t,e,o){"use strict";cc._RF.push(e,"030e9tKs6ZLRZBbKj2pRNiO","ListCheckPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../Import/CLCC/lib/Uzil/Event/Event"),i=t("./ListCheckPanel_RowTicket"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageText=null,e.container=null,e.rowRef=null,e.rowPerPage=10,e.rows=[],e.tickets=null,e.currentPage=1,e.totalPage=1,e.nextPageBtn=null,e.previousPageBtn=null,e.onPreviousPageBtn=new n.default,e.onNextPageBtn=new n.default,e.onConfirmPageBtn=new n.default,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.rowPerPage;t++){var e=cc.instantiate(this.rowRef);e.active=!0,e.parent=this.container;var o=e.getComponent(i.default);this.rows.push(o)}this.close()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.open=function(){this.node.active=!0},e.prototype.close=function(){this.node.active=!1},e.prototype.import=function(t){this.tickets=t,this.totalPage=Math.ceil(this.tickets.length/this.rowPerPage),this.goPage(1)},e.prototype.goPage=function(t){if(this.currentPage=t,t<=0)this.clear();else{this.pageText.string=this.currentPage+" / "+this.totalPage;var e=this.rowPerPage*(t-1),o=e+this.rowPerPage-1;o>=this.tickets.length&&(o=this.tickets.length-1);for(var n=0;n<this.rows.length;n++){var i=e+n,r=this.rows[n];if(i<=o){var a=this.tickets[i];r.setVal(a.code,a.winScore.toString())}else r.setVal("","")}this.onPageChanged()}},e.prototype.clear=function(){for(var t=0,e=this.rows;t<e.length;t++){e[t].setVal("","")}},e.prototype.onPreviousPageBtnClick=function(){var t=this.currentPage-1;t<=0||(this.goPage(t),this.onPreviousPageBtn.call())},e.prototype.onNextPageBtnClick=function(){var t=this.currentPage+1;t>this.totalPage||(this.goPage(t),this.onNextPageBtn.call())},e.prototype.onConfirmPageBtnClick=function(){this.onConfirmPageBtn.call()},e.prototype.onPageChanged=function(){this.currentPage==this.totalPage?this.nextPageBtn.interactable=!1:this.nextPageBtn.interactable=!0,1==this.currentPage?this.previousPageBtn.interactable=!1:this.previousPageBtn.interactable=!0},__decorate([s(cc.Label)],e.prototype,"pageText",void 0),__decorate([s(cc.Node)],e.prototype,"container",void 0),__decorate([s(cc.Node)],e.prototype,"rowRef",void 0),__decorate([s(cc.Button)],e.prototype,"nextPageBtn",void 0),__decorate([s(cc.Button)],e.prototype,"previousPageBtn",void 0),e=__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Event/Event":"Event","./ListCheckPanel_RowTicket":"ListCheckPanel_RowTicket"}],MaterialComponent:[function(t,e,o){"use strict";cc._RF.push(e,"844e3qbqOJL/orN6cXItzFi","MaterialComponent"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ShaderManager"),i=t("./CustomMaterial"),r=cc._decorator,a=r.ccclass,s=r.property,c=r.requireComponent,u=(r.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.shaderName="",e.shader=null,e.isUpdate=!1,e.time=0,e.startTime=-1,e.randomTimeRange=new cc.Vec2(0,0),e._color=cc.color(),e}return __extends(e,t),Object.defineProperty(e.prototype,"material",{get:function(){return this._material},enumerable:!0,configurable:!0}),e.prototype.start=function(){null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite)),this.sprite.setState(0),this.applyShader();var t=this.randomTimeRange.x,e=this.randomTimeRange.y;if(t>e){var o=t;t=e,e=o}t!=e?this.startTime>=t&&this.startTime<=e?this.time=this.startTime:this.time=cc.misc.lerp(t,e,Math.random()):this.startTime>0&&(this.time=this.startTime);var n={};n=this.getStartData(n),this.shader&&this.shader.start&&this.shader.start(n)},e.prototype.onEnable=function(){this.sprite.setState(0),this.applyShader()},e.prototype.lateUpdate=function(){this.isUpdate&&this.updateMainTexture()},e.prototype.update=function(t){if(this._material&&this.isUpdate){null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite)),this._setShaderColor(!1),this.updateTime(t);var e={deltaTime:t};e=this.getUpdateData(e),this.shader&&this.shader.update&&this.shader.update(e)}},e.prototype.applyShader=function(){var t,e=this.shaderName,o=this.shader=n.default.getShader(e),r=n.ShaderType[e],a=this.sprite;if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS)if(a&&a.spriteFrame){if(r>n.ShaderType.Gray){if(!o)return void console.warn("Shader not defined",name);cc.dynamicAtlasManager.enabled=!1,t=this._material&&this.shaderName==this._material.shaderName?this._material:new i.default(o);var s=a.spriteFrame.getTexture();t.setMainTexture(s),t.updateHash();var c=a;c._material=t,c._renderData._material=t,c._state=r}else a.setState(r);if(this._material=t,t){var u=this._color;u.setR(255),u.setG(255),u.setB(255),u.setA(255),this._setShaderColor(!0),a._updateMaterial(t),a.markForUpdateRenderData(!0),a.markForRender(!0)}}else console.warn("Sprite / spriteFrame is null");else console.warn("Shader not surpport for canvas")},e.prototype.setParam=function(t,e){null!=this.material&&this.material.setParam(t,e)},e.prototype.getParam=function(t){if(null!=this.material)return this.material.getParam(t)},e.prototype.setTexture=function(t,e){null!=this.material&&this.material.setTexture(t,e)},e.prototype._setShaderColor=function(t){void 0===t&&(t=!1);var e=this.node,o=e.color,n=this._color,i=o.getR(),r=o.getG(),a=o.getB(),s=e.opacity,c=!1;n.getR()!==i&&(n.setR(i),c=!0),n.getG()!==r&&(n.setG(r),c=!0),n.getB()!==a&&(n.setB(a),c=!0),n.getA()!==s&&(n.setA(s),c=!0),(t||c)&&this._material.setColor(n)},e.prototype.updateTime=function(t){var e=this.time;e>65535&&(e=0),e+=t,this._material.setParam("time",e),this.time=e},e.prototype.updateMainTexture=function(){var t=this.sprite.spriteFrame.getTexture();this._material.setMainTexture(t),this._material.updateHash();var e=this.sprite;e._material=this._material,e._renderData._material=this._material},e.prototype.getStartData=function(t){return t.material=this.material,t.component=this,t},e.prototype.getUpdateData=function(t){return t.material=this.material,t.component=this,t},__decorate([s(cc.Sprite)],e.prototype,"sprite",void 0),__decorate([s(cc.String)],e.prototype,"shaderName",void 0),__decorate([s(cc.Boolean)],e.prototype,"isUpdate",void 0),__decorate([s],e.prototype,"startTime",void 0),__decorate([s(cc.Vec2)],e.prototype,"randomTimeRange",void 0),e=__decorate([a,c(cc.Sprite)],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./CustomMaterial":"CustomMaterial","./ShaderManager":"ShaderManager"}],Material_Blurs:[function(t,e,o){"use strict";cc._RF.push(e,"3691ahEn0JDObuw/ML3H3yq","Material_Blurs"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,a=i.property,s=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Blurs",e.isUpdate=!0,e.force=new cc.Vec2(.5,.5),e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).size=this.force.mul(.001),e},__decorate([a({override:!0})],e.prototype,"shaderName",void 0),__decorate([a({override:!0})],e.prototype,"isUpdate",void 0),__decorate([a(cc.Vec2)],e.prototype,"force",void 0),e=__decorate([r,s(cc.Sprite)],e)}(n.default));o.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Fluxay:[function(t,e,o){"use strict";cc._RF.push(e,"0c9c0HMWudLz5JnFBiUF/UP","Material_Fluxay"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,a=i.property,s=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Fluxay",e.isUpdate=!0,e.force=new cc.Vec2(.5,.5),e.mask=null,e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).maskTex=this.mask,e.offset=this.force,e},__decorate([a({override:!0})],e.prototype,"shaderName",void 0),__decorate([a({override:!0})],e.prototype,"isUpdate",void 0),__decorate([a(cc.Vec2)],e.prototype,"force",void 0),__decorate([a({type:cc.Texture2D})],e.prototype,"mask",void 0),e=__decorate([r,s(cc.Sprite)],e)}(n.default));o.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Offset:[function(t,e,o){"use strict";cc._RF.push(e,"0905dePuJpG6rYtRSTr1nTk","Material_Offset"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,a=i.property,s=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Offset",e.isUpdate=!0,e.offset=new cc.Vec2(0,0),e.offset_speed_sec=new cc.Vec2(0,0),e.tilling=new cc.Vec2(1,1),e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){this.offset.x+=this.offset_speed_sec.x*e,this.offset.y+=this.offset_speed_sec.y*e,this.offset.x=this.loop(this.offset.x),this.offset.y=this.loop(this.offset.y),t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).offset=this.offset,e.tilling=this.tilling,e},e.prototype.loop=function(t){for(var e=t;e>1e6;)e-=1e6;for(;e<-1e6;)e+=1e6;return e},__decorate([a({override:!0})],e.prototype,"shaderName",void 0),__decorate([a({override:!0})],e.prototype,"isUpdate",void 0),__decorate([a(cc.Vec2)],e.prototype,"offset",void 0),__decorate([a(cc.Vec2)],e.prototype,"offset_speed_sec",void 0),__decorate([a(cc.Vec2)],e.prototype,"tilling",void 0),e=__decorate([r,s(cc.Sprite)],e)}(n.default));o.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Template:[function(t,e,o){"use strict";cc._RF.push(e,"815117mcSxKxq6W7/iDBGW9","Material_Template"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,a=i.property,s=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="ShaderName",e.isUpdate=!0,e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return e=t.prototype.getUpdateData.call(this,e)},__decorate([a({override:!0})],e.prototype,"shaderName",void 0),__decorate([a({override:!0})],e.prototype,"isUpdate",void 0),e=__decorate([r,s(cc.Sprite)],e)}(n.default));o.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Wave:[function(t,e,o){"use strict";cc._RF.push(e,"2d70e4uNEFEDoBP0c9qQdNW","Material_Wave"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,a=i.property,s=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Wave",e.isUpdate=!0,e.force=new cc.Vec2(.5,.5),e.weightTexture=null,e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).weightTex=this.weightTexture,e.offset=this.force,e},__decorate([a({override:!0})],e.prototype,"shaderName",void 0),__decorate([a({override:!0})],e.prototype,"isUpdate",void 0),__decorate([a(cc.Vec2)],e.prototype,"force",void 0),__decorate([a({type:cc.Texture2D})],e.prototype,"weightTexture",void 0),e=__decorate([r,s(cc.Sprite)],e)}(n.default));o.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],MyMath:[function(t,e,o){"use strict";cc._RF.push(e,"50e9acOIOhL0r9PH3rvoqDb","MyMath"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.MoveTowardV2=function(t,e,o){if(0==o)return t;var n=e.sub(t),i=n.mag();i&&1!=i&&(n=n.normalize());var r=n.mul(Math.min(o,i));return t.add(r)},t.MoveToward=function(t,e,o){var n=e-t,i=Math.abs(n);if(0==n)return t;var r=t+(n>0?1:-1)*Math.min(o,i);return isNaN(r)?0:r},t}();o.default=n,cc._RF.pop()},{}],NumberLabel:[function(t,e,o){"use strict";cc._RF.push(e,"b2707Ucy8dNnaBDhna48xKe","NumberLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Import/MyMath"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._label=null,e.currentNum=0,e.targetNum=0,e.slidingSpeed_sec=50,e.isChanged=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"label",{get:function(){if(!this._label){var t=this.node.getComponent(cc.Label);t&&(this._label=t)}return this._label},set:function(t){this._label=t},enumerable:!0,configurable:!0}),e.prototype.start=function(){},e.prototype.update=function(t){if(this.isChanged){-1==this.slidingSpeed_sec?this.currentNum=this.targetNum:this.currentNum=n.default.MoveToward(this.currentNum,this.targetNum,this.slidingSpeed_sec*t);var e=Math.round(this.currentNum);this.label.string=""+e}},e.prototype.gotoNum=function(t){this.targetNum=t,this.currentNum!=this.targetNum&&(this.isChanged=!0)},e.prototype.setNum=function(t){this.currentNum=t,this.targetNum=t,this.label.string=""+this.currentNum,this.isChanged=!1},__decorate([a({type:cc.Label})],e.prototype,"label",null),__decorate([a({type:cc.Label})],e.prototype,"_label",void 0),__decorate([a],e.prototype,"currentNum",void 0),__decorate([a],e.prototype,"targetNum",void 0),__decorate([a],e.prototype,"slidingSpeed_sec",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Import/MyMath":"MyMath"}],Offset:[function(t,e,o){"use strict";cc._RF.push(e,"eeb0aJqyvJPL5fj7RCrhG7t","Offset"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Offset",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"offset",type:i.PARAM_FLOAT2,defaultValue:0},{name:"tilling",type:i.PARAM_FLOAT2,defaultValue:1}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var o=t.offset;e.setParam("offset",o);var n=t.tilling;e.setParam("tilling",n)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform vec2 offset;\n\t\tuniform vec2 tilling;\n\t\tvarying vec2 uv0;\n\t\tvoid main () {\n\t\t\tvec2 uv = mod( mod((uv0 * tilling), 1.) + offset, 1.);\n\t\t\tgl_FragColor = color * texture2D(texture, uv);\n\t\t}\n\t"};n.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],PrefabShuriken:[function(t,e,o){"use strict";cc._RF.push(e,"1031cNxVFZP+ZLMnBOq4x7Y","PrefabShuriken");var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./ImageClipData"));var i=cc.Enum({POINT:1,NODE_RECT:2,CIRCLE:3,SPRITE:4}),r=cc.Class({properties:{node:{type:cc.Node,default:null},lifeTime:{default:0},z:{default:0},velocity:{default:new cc.Vec3(0,0,0)},rotateSpeed:{default:0},scaleSpeed:{default:0}}});cc.Class({extends:cc.Component,properties:{isEmiting:{default:!0},prefab:{default:null,type:cc.Prefab},_emits:{default:[],type:Array,visible:!1},_pool:{default:[],type:Array,visible:!1},maxCount:{default:100},isPrepare:{default:!1},isEmitLocal:{default:!0},isShowEmit:{displayName:"\u6aa2\u8996 \u767c\u5c04",default:!1},lifeTime:{default:2,visible:function(){return this.isShowEmit}},delay:{default:.1,visible:function(){return this.isShowEmit}},_leftDelay:{default:0,visible:!1},countPerEmit:{default:1,visible:function(){return this.isShowEmit}},isShowEmitShape:{displayName:"\u6aa2\u8996 \u767c\u5c04\u5340\u57df",default:!1},_emitAreaType:{type:i,default:i.POINT,visible:!1},emitAreaType:{type:i,get:function(){return this._emitAreaType},set:function(t){this._emitAreaType=t},visible:function(){return this.isShowEmitShape}},circle_radius:{default:new cc.Vec2(5,20),visible:function(){return!!this.isShowEmitShape&&this.emitAreaType==i.CIRCLE}},circle_angle:{default:new cc.Vec2(0,360),visible:function(){return!!this.isShowEmitShape&&this.emitAreaType==i.CIRCLE}},sprite_imageData:{type:Object,default:null,visible:!1},sprite_clipSample:{default:100,visible:function(){return!!this.isShowEmitShape&&this.emitAreaType==i.SPRITE}},sprite_clipAlpha:{set:function(t){this._sprite_clipAlpha=t,this._sprite_clipAlpha32=255*t},get:function(){return this._sprite_clipAlpha},visible:function(){return!!this.isShowEmitShape&&this.emitAreaType==i.SPRITE}},_sprite_clipAlpha:{default:0,visible:!1},_sprite_clipAlpha32:{default:0,visible:!1},isUseMove:{displayName:"\u6aa2\u8996 \u4f4d\u79fb",default:!1},speed_start:{default:new cc.Vec2(10,20),visible:function(){return this.isUseMove}},emitAngle:{default:new cc.Vec2(360,45),visible:function(){return this.isUseMove}},gravity:{default:new cc.Vec2(0,-10),visible:function(){return this.isUseMove}},zSpeed_emit:{default:0,visible:function(){return this.isUseMove}},isUseRotate:{displayName:"\u6aa2\u8996 \u65cb\u8f49",default:!1},rotate_emit:{default:cc.Vec2.ZERO,visible:function(){return this.isUseRotate}},rotate_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isUseRotate}},isUseScale:{displayName:"\u6aa2\u8996 \u7e2e\u653e",default:!1},scale_emit:{default:cc.Vec2.ONE,visible:function(){return this.isUseScale}},scale_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isUseScale}}},onLoad:function(){if(this.isPrepare)for(var t=0;t<this.maxCount;t++){var e=this.create();this.recovery(e)}},start:function(){this.emitAreaType==i.SPRITE&&(null==this.sprite_imageData&&this.initImageData(),this.sprite_imageData.setClipAlpha(this._sprite_clipAlpha32))},update:function(t){if(this.emitAreaType==i.SPRITE&&this.sprite_imageData.update(),this.isEmiting)if(this._leftDelay>0)this._leftDelay-=t;else{for(var e=0;e<this.countPerEmit&&!(this._emits.length>=this.maxCount);e++)this.emit();this._leftDelay=this.delay}var o=!0,n=!1,r=void 0;try{for(var a,s=this._emits[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value;if(c.lifeTime<=0)this.recovery(c);else{c.lifeTime-=t;var u=this.gravity.mul(t);c.velocity.addSelf(new cc.Vec3(u.x,u.y,0));var p=c.node.rotation;p+=c.rotateSpeed,c.node.setRotation(p);var l=c.node.getScale();l+=c.scaleSpeed,c.node.setScale(l);var d=c.node.getPosition(),h=new cc.Vec2(c.velocity.x,c.velocity.y).mul(t);d.addSelf(h),c.node.setPosition(d),c.z+=c.velocity.z}}}catch(t){n=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(n)throw r}}this._emits.sort(function(t,e){return t.z-e.z});for(var f=0;f<this._emits.length;f++)this._emits[f].node.zIndex=f},startEmit:function(){this.clear(),this.resumeEmit()},resumeEmit:function(){this.isEmiting=!0},pauseEmit:function(){this.isEmiting=!1},stopEmit:function(){this.pauseEmit(),this.clear()},emit:function(){var t=this.request();this._emits.push(t);var e=this.getEmitPos();t.node.setPosition(e);var o=this.getAngle(this.emitAngle.x,this.emitAngle.y,!0),n=cc.misc.lerp(this.emitAngle.x,this.emitAngle.x+o,Math.random()),i=cc.misc.degreesToRadians(n);t.velocity=new cc.Vec3(0,0,0),t.velocity.x=Math.sin(i),t.velocity.y=Math.cos(i),t.velocity.mulSelf(cc.misc.lerp(this.speed_start.x,this.speed_start.y,Math.random())),t.velocity.z=this.zSpeed_emit;var r=this.getAngle(this.rotate_emit.x,this.rotate_emit.y,!0);r=cc.misc.lerp(this.rotate_emit.x,this.rotate_emit.x+r,Math.random()),t.node.setRotation(r);var a=cc.misc.lerp(this.rotate_speed.x,this.rotate_speed.y,Math.random());t.rotateSpeed=a;var s=this.getRandomV2(this.scale_emit);t.node.setScale(s);var c=this.getRandomV2(this.scale_speed);return t.scaleSpeed=c,t.lifeTime=this.lifeTime,t.node.active=!0,t},clear:function(){var t=!0,e=!1,o=void 0;try{for(var n,i=this._emits[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var r=n.value;r.node.active=!1,this._pool.push(r)}}catch(t){e=!0,o=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw o}}this._emits=[]},recovery:function(t){var e=this._emits.indexOf(t);-1!=e&&this._emits.splice(e,1),t.node.active=!1,this._pool.push(t)},request:function(){return this._pool.length>0?this._pool.shift():this.create()},create:function(){var t=cc.instantiate(this.prefab);this.isEmitLocal?t.parent=this.node:t.parent=cc.director.getScene();var e=new r;return e.node=t,e},getAngle:function(t,e,o){if(360==Math.abs(e-t))return 360;var n=0,i=0;return o?(n=t%360,i=e%360):(i=t%360,n=e%360),n==i?0:(i<n&&(i+=360),i-n)},getEmitPos:function(){var t=cc.Vec2.ZERO;switch(this.emitAreaType){case i.POINT:t=cc.Vec2.ZERO;break;case i.NODE_RECT:t=new cc.Vec2;var e=0-this.node.width*this.node.anchorX,o=0+this.node.width*(1-this.node.anchorX),n=0+this.node.height*(1-this.node.anchorY),r=0-this.node.height*this.node.anchorY;t.x=cc.misc.lerp(e,o,Math.random()),t.y=cc.misc.lerp(r,n,Math.random());break;case i.CIRCLE:var a=cc.misc.lerp(this.circle_radius.x,this.circle_radius.y,Math.random()),s=this.getAngle(this.circle_angle.x,this.circle_angle.y,!0),c=cc.misc.lerp(this.circle_angle.x,this.circle_angle.x+s,Math.random()),u=cc.misc.degreesToRadians(c);t.x=Math.sin(u),t.y=Math.cos(u),t.mulSelf(a);break;case i.SPRITE:var p=this.getExists();if(0==p.length)break;var l=cc.misc.lerp(0,p.length,Math.random()),d=p[l=Math.floor(l)];t=new cc.Vec2(d[0]-this.node.anchorX*this.node.width,this.node.height-d[1]-this.node.anchorY*this.node.height)}return t},getRandomV2:function(t){return cc.misc.lerp(t.x,t.y,Math.random())},initImageData:function(){this.sprite_imageData=new n.default,this.sprite_imageData.init(this.node.getComponent(cc.Sprite),this.node,this.sprite_clipSample)},getExists:function(){return this.sprite_imageData||this.initImageData(),this.sprite_imageData.getClipped()}}),cc._RF.pop()},{"./ImageClipData":"ImageClipData"}],ProcClient:[function(t,e,o){"use strict";cc._RF.push(e,"a8ffdcHHPhHNLybPiagAe8z","ProcClient"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Event/Event"),i=function(){function t(){this.activedNodes=[],this.historyNodes=[],this.onStart=new n.default,this.onStop=new n.default,this.onPause=new n.default,this.onResume=new n.default}return t.prototype.run=function(t){this.onStart.call()},t.prototype.step=function(){},t.prototype.stop=function(){this.onStop.call()},t.prototype.pause=function(){this.onPause.call()},t.prototype.resume=function(){this.onResume.call()},t}();o.default=i,cc._RF.pop()},{"../Event/Event":"Event"}],ProcGate_WaitSec:[function(t,e,o){"use strict";cc._RF.push(e,"caf37Su69lEPZuHLq+lmnR9","ProcGate_WaitSec"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../ProcGate"),i=t("../../Invoke/Invoker"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prototypeName="ProcGate_WaitSec",e}return __extends(e,t),e.prototype.begin=function(){var e=this,o=this.data.waitSec,n=i.default.Invoke(function(){e.done()},o),r=this.id+"_timer";this.data.timerTag=r,n.tag(r),t.prototype.begin.call(this)},e.prototype.end=function(){var e=this.data.timerTag;e&&i.default.Cancel(e),t.prototype.end.call(this)},e.prototype.check=function(){return!!this.isListening&&this.isDone},e.prototype.call=function(t,e){},e}(n.default);o.default=r,cc._RF.pop()},{"../../Invoke/Invoker":"Invoker","../ProcGate":"ProcGate"}],ProcGate:[function(t,e,o){"use strict";cc._RF.push(e,"fff1dKistJHQL+ANtEqXTyO","ProcGate"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.isListening=!1,this.isDone=!1,this.data={}}return t.prototype.begin=function(){this.listen()},t.prototype.end=function(){this.unlisten()},t.prototype.pause=function(){0!=this.isListening&&this.unlisten()},t.prototype.resume=function(){1!=this.isListening&&this.listen()},t.prototype.reset=function(){this.undone()},t.prototype.check=function(){return!!this.isListening},t.prototype.done=function(){this.isDone=!0},t.prototype.undone=function(){this.isDone=!1},t.prototype.listen=function(){this.isListening=!0},t.prototype.unlisten=function(){this.isListening=!1},t.prototype.call=function(t,e){},t.prototype.set=function(t,e){return this.data[t]=e,this},t}();o.default=n,cc._RF.pop()},{}],ProcNode_General:[function(t,e,o){"use strict";cc._RF.push(e,"b886f3TcHFIx51gb17oW6Aq","ProcNode_General"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../ProcNode"),i=t("../../Invoke/Invoker"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prototypeName="ProcNode_General",e.works=[],e.gates=[],e.nextNodes=[],e}return __extends(e,t),e.prototype.begin=function(){for(var t=this,e=0,o=this.works;e<o.length;e++){o[e].begin()}for(var n=0,r=this.gates;n<r.length;n++){r[n].begin()}var a=i.default.Update(function(){t.check()&&t.end()}),s=this.id+"_InvokeUpdate";this.data.updateInvokeTag=s,a.tag(s)},e.prototype.end=function(){for(var t=0,e=this.works;t<e.length;t++){e[t].end()}for(var o=0,n=this.nextNodes;o<n.length;o++){n[o].begin()}var r=this.data.updateInvokeTag;r&&i.default.StopUpdate(r)},e.prototype.call=function(t,e){for(var o=0,n=this.works;o<n.length;o++){n[o].call(t,e)}for(var i=0,r=this.gates;i<r.length;i++){r[i].call(t,e)}},e.prototype.work=function(t){return-1!=this.works.indexOf(t)?this:(this.works.push(t),this)},e.prototype.rmWork=function(t){var e=this.works.indexOf(t);return-1==e?this:(this.works.splice(e,1),this)},e.prototype.gate=function(t){return-1!=this.gates.indexOf(t)?this:(this.gates.push(t),this)},e.prototype.rmGate=function(t){var e=this.gates.indexOf(t);return-1==e?this:(this.gates.splice(e,1),this)},e.prototype.attach=function(t){if(-1==this.nextNodes.indexOf(t))return this.nextNodes.push(t),this},e.prototype.attachFrom=function(t){if(-1==t.nextNodes.indexOf(this))return t.nextNodes.push(this),this},e.prototype.check=function(){for(var t=0,e=this.gates;t<e.length;t++){if(0==e[t].check())return!1}return!0},e}(n.default);o.default=r,cc._RF.pop()},{"../../Invoke/Invoker":"Invoker","../ProcNode":"ProcNode"}],ProcNode:[function(t,e,o){"use strict";cc._RF.push(e,"f494ejcLsxGmJgrimONG+zL","ProcNode"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.data={}}return t.prototype.begin=function(){},t.prototype.end=function(){},t.prototype.call=function(t,e){},t.prototype.set=function(t,e){return this.data[t]=e,this},t}();o.default=n,cc._RF.pop()},{}],ProcWork_Log:[function(t,e,o){"use strict";cc._RF.push(e,"d869akipNtF+LQ/CT/fkW55","ProcWork_Log"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prototypeName="ProcWork_Log",e}return __extends(e,t),e.prototype.begin=function(){var t=this.data.msg;t||(t=this.data.msg_begin),t&&console.log(t)},e.prototype.end=function(){var t=this.data.msg;t||(t=this.data.msg_end),t&&console.log(t)},e.prototype.call=function(t,e){},e}(t("../ProcWork").default);o.default=n,cc._RF.pop()},{"../ProcWork":"ProcWork"}],ProcWork:[function(t,e,o){"use strict";cc._RF.push(e,"469e4POmrJEGZJauONmL3Vr","ProcWork"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.data={}}return t.prototype.begin=function(){},t.prototype.end=function(){},t.prototype.call=function(t,e){},t.prototype.set=function(t,e){return this.data[t]=e,this},t}();o.default=n,cc._RF.pop()},{}],Resource_Symbol:[function(t,e,o){"use strict";cc._RF.push(e,"b1564zD1EtE8Z2SxKLiyxXC","Resource_Symbol"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolAList=[],e.symbolBList=[],e}var o;return __extends(e,t),o=e,e.GetInstance=function(){return null==this._instance?(cc.log('\u8cc7\u6e90\u7d22\u5f15 "Resource_Symbol" \u5c1a\u672a\u51fa\u73fe\u65bc\u5834\u666f\u4e2d'),null):this._instance},e.Get=function(t,e){void 0===e&&(e=-1);var o=this.GetInstance();if(!o)return null;if(!o[t])return cc.log('\u8cc7\u6e90 "'+t+'" \u5c1a\u672a\u5efa\u7acb\u7d22\u5f15'),null;var n=o[t];return e>-1&&n instanceof Array?n[e]:n},e.prototype.onLoad=function(){o._instance=this;for(var t=0;t<this.symbolAList.length;t++){var e=this.symbolAList[t];this["symbolA"+(t+1).toString()]=e}for(t=0;t<this.symbolBList.length;t++){e=this.symbolBList[t];this["symbolB"+(t+1).toString()]=e}},e._instance=null,__decorate([r([cc.SpriteFrame])],e.prototype,"symbolAList",void 0),__decorate([r([cc.SpriteFrame])],e.prototype,"symbolBList",void 0),e=o=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],ScorePanel:[function(t,e,o){"use strict";cc._RF.push(e,"4870euqi31M5JGUj3pkMmQd","ScorePanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../NumberLabel"),i=t("../../../Import/CLCC/lib/Uzil/Invoke/Invoker"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreText=null,e.frameAnim=null,e.frameAnimTime_sec=2,e}return __extends(e,t),e.prototype.sendScore=function(t){var e=this;this.scoreText.gotoNum(t),this.frameAnim.play("win"),i.default.Invoke(function(){e.frameAnim.play("idle")},this.frameAnimTime_sec)},e.prototype.setScore=function(t){this.scoreText.setNum(t)},e.prototype.clearScore=function(){this.scoreText.setNum(0),this.frameAnim.play("idle")},__decorate([s(n.default)],e.prototype,"scoreText",void 0),__decorate([s(cc.Animation)],e.prototype,"frameAnim",void 0),__decorate([s],e.prototype,"frameAnimTime_sec",void 0),e=__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Invoke/Invoker":"Invoker","../../NumberLabel":"NumberLabel"}],ShaderManager:[function(t,e,o){"use strict";cc._RF.push(e,"dc3378aA9tJDL1eW2wQd31G","ShaderManager"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.Default=0]="Default",t[t.Gray=1]="Gray",t[t.GrayScaling=100]="GrayScaling",t[t.Offset=101]="Offset",t[t.Blurs=102]="Blurs",t[t.Wave=103]="Wave",t[t.Fluxay=104]="Fluxay"}(o.ShaderType||(o.ShaderType={}));var n=function(){function t(){}return t.addShader=function(e){t.g_shaders[e.name]||(t.g_shaders[e.name]=e)},t.getShader=function(e){return t.g_shaders[e]},t.g_shaders={},t.g_shaderEnum=null,t}();o.default=n,cc._RF.pop()},{}],SpineAnimator:[function(t,e,o){"use strict";cc._RF.push(e,"e74065RPU1OjLQXoTR71vlj","SpineAnimator"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./core/AnimClip"),i=t("./core/Animator"),r=t("./core/AnimState"),a=t("./core/AnimTransition"),s=t("./core/AnimCondition"),c=t("./core/Comparer"),u=cc._decorator,p=u.ccclass,l=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e._playedTime=0,e._timeScale_BeforePause=-1,e._lastNormalizedTime=-1,e.onEventList=[],e.onCompleteList=[],e.onTimeList=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){var t=this,e=this;e.skeleton.setCompleteListener(function(o){if(0==o.trackIndex){e._playedTime++;for(var n=0,i=t.onTimeList;n<i.length;n++){(p=i[n]).isRunedInLoop=!1}for(var r=[],a=0,s=e.onCompleteList;a<s.length;a++){(p=s[a]).func(),p.isOnce&&r.push(p)}for(var c=0,u=r;c<u.length;c++){var p=u[c];e.onCompleteList.splice(e.onCompleteList.indexOf(p),1)}}}),e.skeleton.setEventListener(function(t,o){for(var n=[],i=0,r=e.onEventList;i<r.length;i++){(c=r[i]).eventTag==o.data.name&&(c.func(),c.isOnce&&n.push(c))}for(var a=0,s=n;a<s.length;a++){var c=s[a];e.onEventList.splice(e.onEventList.indexOf(c),1)}}),e.defaultState?e.play(e.defaultState):e.states.length>0&&e.playState(e.states[0])},e.prototype._update=function(){this._lastNormalizedTime=-1;for(var t=this.getNormalizedTime()%1,e=[],o=0,n=this.onTimeList;o<n.length;o++){t<(a=n[o]).time_percent||(a.isRunedInLoop||(a.func(),a.isRunedInLoop=!0,a.isOnce&&e.push(a)))}for(var i=0,r=e;i<r.length;i++){var a=r[i];this.onTimeList.splice(this.onTimeList.indexOf(a),1)}},e.prototype._play=function(t){this.skeleton.clearTracks(),this.skeleton.setAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha,this._playedTime=0},e.prototype._playAdditive=function(t){this.skeleton.addAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha},e.prototype._stop=function(){this.skeleton.clearTracks(),this._playedTime=0},e.prototype._pause=function(){this._timeScale_BeforePause>0||(this._timeScale_BeforePause=this.skeleton.timeScale,this.skeleton.timeScale=0)},e.prototype._resume=function(){this.skeleton.timeScale=this._timeScale_BeforePause,this._timeScale_BeforePause=-1},e.prototype._getNormalizedTime=function(){if(-1!=this._lastNormalizedTime)return this._lastNormalizedTime;var t,e,o=this.skeleton.getCurrent(0);if(!o)return-1;t=o.animationEnd,e=o.trackTime;var n=this.playedTime+e/t;return this._lastNormalizedTime=n,n},e.prototype._onEvent=function(t,e,o){this.onEventList.push({eventTag:t,isOnce:o,func:e})},e.prototype._onComplete=function(t,e){this.onCompleteList.push({isOnce:e,func:t})},e.prototype._onTime=function(t,e,o){this.onTimeList.push({time_percent:t,isOnce:o,func:e,isRunedInLoop:!1})},e.prototype._setTimeScale=function(t){this.skeleton.timeScale=t},e.prototype._getTimeScale=function(){return this.skeleton.timeScale},e.prototype.example_script=function(){var t=this;this.parameter.isToY=!1;var e=new n.default("xMove").track(0).loop().alpha(1),o=new n.default("yMove").track(1).loop(),i=new n.default("xMove").track(0).loop().alpha(.1),u=new r.default("stateX");u.addClip(e);var p=new r.default("stateY");p.addClip(o),p.addClip(i);var l=(new a.default).next(p);l.exitTime=2;var d=new s.default("isToY",c.default.EQUAL,!0);l.addCondition(d);var h=(new a.default).next(u);h.exitTime=2,u.addTransition(l),p.addTransition(h),this.addState(u),this.addState(p),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove",isLoop:!0}],transitions:[{nextState:"stateY",exitTime:2,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove",isLoop:!0,track:0},{name:"yMove",isLoop:!0,track:1}],transitions:[{nextState:"stateX",exitTime:2,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},__decorate([l(sp.Skeleton)],e.prototype,"skeleton",void 0),e=__decorate([p],e)}(i.default);o.default=d,cc._RF.pop()},{"./core/AnimClip":"AnimClip","./core/AnimCondition":"AnimCondition","./core/AnimState":"AnimState","./core/AnimTransition":"AnimTransition","./core/Animator":"Animator","./core/Comparer":"Comparer"}],SymbolData:[function(t,e,o){"use strict";cc._RF.push(e,"7f3d8aACOVHQqttLA3oWK+y","SymbolData"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("../Resource_Symbol");(function(t){t[t.image=0]="image",t[t.string=1]="string"})(n=o.SymbolType||(o.SymbolType={}));var r=function(){function t(){this.symbolType=n.string,this.symbol="",this.reward=0,this.isWinning=!1}return t.Create=function(e,o,n){var i=new t;return i.symbolType=e,i.symbol=o,i.reward=n,i},t.prototype.getSymbol=function(){return this.symbolType==n.image?i.default.Get(this.symbol):this.symbolType==n.string?this.symbol:void 0},t.prototype.getRewardText=function(){return this.reward<0?"":this.reward.toString()},t}();o.default=r,cc._RF.pop()},{"../Resource_Symbol":"Resource_Symbol"}],Template:[function(t,e,o){"use strict";cc._RF.push(e,"832fekA891AkZW8k5uIuGwk","Template"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Template",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"size",type:i.PARAM_FLOAT,defaultValue:1},{name:"weightTex",type:i.PARAM_TEXTURE_2D,defaultValue:null}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var o=t.size;e.setParam("size",o);var n=e.time;e.setParam("time",n%1.5)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform float size;\n\t\tuniform float time;\n\t\tvarying vec2 uv0;\n\t\tvoid main () {\n\t\t\t// gl_FragColor = texture2D(texture, uv0);\n\t\t\tvec4 sum = vec4(0.0);\n\t\t\tfloat delta = time;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*4.) * size) * 0.05;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*3.) * size) * 0.09;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*2.) * size) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*1.) * size) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 ) * 0.18;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*1.) * size) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*2.) * size) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*3.) * size) * 0.09;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*4.) * size) * 0.05;\n\t\t\t\n\t\t\tvec4 vectemp = vec4(0,0,0,0);\n\t\t\tvec4 substract = vec4(0,0,0,0);\n\t\t\tvectemp = (sum - substract) * color;\n\t\t\n\t\t\tfloat alpha = texture2D(texture, uv0).a;\n\t\t\tif (alpha < 0.05) { \n\t\t\t\tgl_FragColor = vec4(0 , 0 , 0 , 0); \n\t\t\t} else {\n\t\t\t\tgl_FragColor = vectemp;\n\t\t\t}\n\t\t}\n\t"};n.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],TicketData:[function(t,e,o){"use strict";cc._RF.push(e,"bb90bBr5ulMNpFsFWXZnN+o","TicketData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){this.code="",this.mainSymbols=[],this.luckySymbols=[],this.specialSymbols=[],this.isWinning=!1,this.winScore=0}}();o.default=n,cc._RF.pop()},{}],TicketPanel_Symbol:[function(t,e,o){"use strict";cc._RF.push(e,"7dea1Ed39xOpYm6CMbEd4Yq","TicketPanel_Symbol"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../Import/CLCC/lib/Uzil/Event/Event"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolText=null,e.symbolIcon=null,e.rewardText=null,e.isWinning=!1,e.winAnim=null,e.onWinAnimDone=new n.default,e}return __extends(e,t),e.prototype.onLoad=function(){this.setSymbol("--"),this.setReward("--")},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.show=function(t){void 0===t&&(t=!0),this.node.active=t},e.prototype.hide=function(){this.show(!1)},e.prototype.loadData=function(t){this.setSymbol(t.getSymbol()),this.setReward(t.getRewardText()),this.isWinning=t.isWinning},e.prototype.setSymbol=function(t){t instanceof cc.SpriteFrame?(this.symbolIcon.spriteFrame=t,this.symbolIcon.node.active=!0,this.symbolText.node.active=!1):"string"==typeof t&&(this.symbolText.string=t,this.symbolIcon.node.active=!1,this.symbolText.node.active=!0)},e.prototype.setReward=function(t){this.rewardText.string=t},e.prototype.playWinning=function(t){this.winAnim.on("finished",this._onWinAnimDone,this),this.winAnim.on("lastframe",this._onWinAnimDone,this),this.winAnim.play("winning"),this.onWinAnimDone.clear(),this.onWinAnimDone.addFunc(t)},e.prototype.resetWinning=function(){this.winAnim.play("idle")},e.prototype._onWinAnimDone=function(){this.onWinAnimDone.call(),this.winAnim.off("finished",this._onWinAnimDone,this),this.winAnim.off("lastframe",this._onWinAnimDone,this)},__decorate([a(cc.Label)],e.prototype,"symbolText",void 0),__decorate([a(cc.Sprite)],e.prototype,"symbolIcon",void 0),__decorate([a(cc.Label)],e.prototype,"rewardText",void 0),__decorate([a({type:cc.Animation})],e.prototype,"winAnim",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../../../Import/CLCC/lib/Uzil/Event/Event":"Event"}],TicketPanel:[function(t,e,o){"use strict";cc._RF.push(e,"754cbNS79lARrjuhF9r2WEx","TicketPanel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../ErasableObj"),i=t("./TicketPanel_Symbol"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolRef=null,e.symbolContainer=null,e.mainSymbolContainer=null,e.mainSymbols=[],e.luckySymbolContainer=null,e.luckySymbols=[],e.specialSymbolContainer=null,e.specialSymbols=[],e.erasable=null,e}return __extends(e,t),e.prototype.start=function(){this.erasable.isInteractable=!1,this.mainSymbols=this.findAllComp(this.mainSymbolContainer,i.default),this.luckySymbols=this.findAllComp(this.luckySymbolContainer,i.default),this.specialSymbols=this.findAllComp(this.specialSymbolContainer,i.default)},e.prototype.setInteractable=function(t){this.erasable.isInteractable=t},e.prototype.showResult=function(){this.erasable.erase()},e.prototype.showWinning=function(t){void 0===t&&(t=null);for(var e=0,o=0,n=function(){++o>=e&&(o=-1,t&&t())},i=0,r=this.mainSymbols;i<r.length;i++){(c=r[i]).isWinning&&(e++,c.playWinning(n))}for(var a=0,s=this.specialSymbols;a<s.length;a++){var c;(c=s[a]).isWinning&&(e++,c.playWinning(n))}0==e&&t()},e.prototype.resetWinning=function(){for(var t=0,e=this.mainSymbols;t<e.length;t++){e[t].resetWinning()}for(var o=0,n=this.specialSymbols;o<n.length;o++){n[o].resetWinning()}},e.prototype.resetErase=function(){this.erasable.reset(),this.erasable.mask.enabled=!0},e.prototype.importResult=function(t){this._importToSymbols(this.mainSymbols,t.mainSymbols),this._importToSymbols(this.luckySymbols,t.luckySymbols),this._importToSymbols(this.specialSymbols,t.specialSymbols)},e.prototype.findAllComp=function(t,e){return t.getComponentsInChildren(e)},e.prototype._importToSymbols=function(t,e){for(var o=0;o<e.length&&!(o>=t.length);o++){var n=e[o];t[o].loadData(n)}},__decorate([s(cc.Node)],e.prototype,"symbolRef",void 0),__decorate([s(cc.Node)],e.prototype,"symbolContainer",void 0),__decorate([s(cc.Node)],e.prototype,"mainSymbolContainer",void 0),__decorate([s(cc.Node)],e.prototype,"luckySymbolContainer",void 0),__decorate([s(cc.Node)],e.prototype,"specialSymbolContainer",void 0),__decorate([s(n.default)],e.prototype,"erasable",void 0),e=__decorate([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../ErasableObj":"ErasableObj","./TicketPanel_Symbol":"TicketPanel_Symbol"}],UIMng:[function(t,e,o){"use strict";cc._RF.push(e,"ae1caRPJZZC9oNKrHkFEd6L","UIMng"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../Import/CLCC/lib/Uzil/Event/Event"),i=t("./UIPanel/TicketPanel"),r=t("./UIPanel/ListCheckPanel"),a=t("./UIPanel/ScorePanel"),s=t("./UIPanel/BigWinPanel"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.director=null,e.codeText=null,e.blockPanel=null,e.listCheckPanel=null,e.buyInPanel=null,e.countBuyGroup=null,e.onSingleBuyBtn=new n.default,e.onMultiBuyBtn=new n.default,e.onCountBuyBtn=new n.default,e.selectCheckPanel=null,e.onListCheckBtn=new n.default,e.onSingleCheckBtn=new n.default,e.ticketPanel=null,e.scratchPanel=null,e.onCheckBtn=new n.default,e.scorePanel=null,e.bigWinPanel=null,e.notwinPanel=null,e}return __extends(e,t),e.prototype.onSingleBuyBtnClick=function(){this.onSingleBuyBtn.call(),this.director.audio.button.play()},e.prototype.onMultiBuyBtnClick=function(){this.onMultiBuyBtn.call(),this.director.audio.button.play()},e.prototype.onCountBuyBtnClick=function(t,e){this.onCountBuyBtn.call({count:e}),this.director.audio.button.play()},e.prototype.onListCheckBtnClick=function(){this.onListCheckBtn.call(),this.director.audio.button.play()},e.prototype.onSingleCheckBtnClick=function(){this.onSingleCheckBtn.call(),this.director.audio.button.play()},e.prototype.onCheckBtnClick=function(){this.onCheckBtn.call(),this.director.audio.button.play()},e.prototype.block=function(t){void 0===t&&(t=!0),this.blockPanel.active=t},__decorate([p(cc.Label)],e.prototype,"codeText",void 0),__decorate([p(cc.Node)],e.prototype,"blockPanel",void 0),__decorate([p(r.default)],e.prototype,"listCheckPanel",void 0),__decorate([p(cc.Node)],e.prototype,"buyInPanel",void 0),__decorate([p(cc.Node)],e.prototype,"countBuyGroup",void 0),__decorate([p(cc.Node)],e.prototype,"selectCheckPanel",void 0),__decorate([p(i.default)],e.prototype,"ticketPanel",void 0),__decorate([p(cc.Node)],e.prototype,"scratchPanel",void 0),__decorate([p(a.default)],e.prototype,"scorePanel",void 0),__decorate([p(s.default)],e.prototype,"bigWinPanel",void 0),__decorate([p(cc.Node)],e.prototype,"notwinPanel",void 0),e=__decorate([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../Import/CLCC/lib/Uzil/Event/Event":"Event","./UIPanel/BigWinPanel":"BigWinPanel","./UIPanel/ListCheckPanel":"ListCheckPanel","./UIPanel/ScorePanel":"ScorePanel","./UIPanel/TicketPanel":"TicketPanel"}],Wave:[function(t,e,o){"use strict";cc._RF.push(e,"740ccrQKVdGHIYLksKuURTt","Wave"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Wave",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"offset",type:i.PARAM_FLOAT2,defaultValue:new cc.Vec2(0,0)},{name:"weightTex",type:i.PARAM_TEXTURE_2D,defaultValue:null}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var o=t.offset;e.setParam("offset",o);var n=t.weightTex;e.setTexture("weightTex",n)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tuniform sampler2D weightTex;\n\t\tuniform float time;\n\t\tuniform vec2 offset;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform sampler2D weightTex;\n\t\tuniform float time;\n\t\tuniform vec4 color;\n\t\tuniform vec2 offset;\n\t\tvarying vec2 uv0;\n\t\t\n\t\tvoid main() {\n\t\t\tvec2 coord = uv0;\n\t\t\tfloat weighted = texture2D(weightTex, uv0).r;\n\t\t\tcoord.x += (sin(coord.y * 30.0 - time * 3.0) / 30.0 * offset.x * weighted);\n\t\t\tcoord.y += (sin(coord.x * 10.0 - time * 3.0) / 30.0 * offset.y * weighted);\n\t\t\tgl_FragColor = color * texture2D(texture, coord);\n\t\t}\n\t"};n.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],mask:[function(t,e,o){"use strict";cc._RF.push(e,"8f562+nYxFI95JhYmP79WfG","mask"),cc.Class({extends:cc.Component,properties:{cr:{default:10,tooltip:"\u6d82\u62b9\u5706\u7684\u534a\u5f84"},mask:cc.Mask},start:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){var o=e.touch.getLocation();o=t.mask.node.convertToNodeSpaceAR(o),t._addCircle(o)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var o=e.touch.getLocation();o=t.mask.node.convertToNodeSpaceAR(o),t._addCircle(o)},this)},_addCircle:function(t){this.mask._graphics.lineWidth=1,this.mask._graphics.strokeColor=cc.color(255,0,0),this.mask._graphics.fillColor=cc.color(0,255,0),this.mask._graphics.circle(t.x,t.y,this.cr),this.mask._graphics.fill(),this.mask._graphics.stroke()}}),cc._RF.pop()},{}],mathf:[function(t,e,o){"use strict";cc._RF.push(e,"5a8deyawpFJRobm/dU9pnrl","mathf");var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();var i=Math.pow(2,-52);function r(t){return t>>0}var a=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t)}return n(t,null,[{key:"approximately",value:function(e,o){return Math.abs(e-o)<t.Epsilon}},{key:"clamp",value:function(t,e,o){return t<e?e:t>o?o:t}},{key:"clamp01",value:function(t){return t<0?0:t>1?1:t}},{key:"closestPowerOfTwo",value:function(e){var o=t.nextPowerOfTwo(e);return o-e>o>>2?o>>1:o}},{key:"closestPowerOfTwoLong",value:function(t){if((t=r(t))<0)return 0;var e=2<<Math.floor(Math.log2(t));return e-t>e>>2?e>>1:e}},{key:"deltaAngle",value:function(t,e){return Math.abs(t)>360&&(t%=360),Math.abs(e)>360&&(e%=360),e-t}},{key:"gammaToLinearSpace",value:function(t){return Math.pow(t,2.2)}},{key:"inverseLerp",value:function(e,o,n){return(t.clamp(n,Math.min(e,o),Math.max(e,o))-e)/(o-e)}},{key:"isPowerOfTwo",value:function(t){return 0==((t=r(t))&t-1)}},{key:"lerp",value:function(e,o,n){return(o-e)*t.clamp01(n)+e}},{key:"lerpAngle",value:function(e,o,n){for(;e>o+180;)o+=360;for(;o>e+180;)o-=360;return t.lerp(e,o,n)}},{key:"lerpUnclamped",value:function(e,o,n){return n<0||n>1?e+Math.abs(o-e)*n:(o-e)*t.clamp01(n)+e}},{key:"linearToGammaSpace",value:function(t){return Math.pow(t,.45454545)}},{key:"moveTowards",value:function(t,e,o){if(o>0){if(e<t&&t-o<e)return e;if(e>t&&t+o>e)return e}return t>e?t-o:t+o}},{key:"moveTowardsAngle",value:function(t,e,o){}},{key:"nextPowerOfTwo",value:function(t){return(t=r(t))<0?0:(--t,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+=1)}},{key:"perlinNoise",value:function(t,e){return new s(.8694896071683615).noise(t,e)}},{key:"pingPong",value:function(t,e){t<0&&(t=-t);var o=t%e;return Math.ceil(t/e)%2==0?0===o?0:e-o:0===o?e:o}},{key:"repeat",value:function(t,e){return t>0?t%e:e+t%e}},{key:"round",value:function(t){var e=t+.5;return e===Math.ceil(t)?e%2==0?t+.5:t-.5:Math.round(t)}},{key:"sign",value:function(t){return t>=0?1:-1}},{key:"smoothDamp",value:function(t,e,o,n,i,r){}},{key:"smoothDampAngle",value:function(t,e,o,n,i,r){}},{key:"smoothStep",value:function(t,e,o){}}]),t}();function s(t){var e=void 0;for(t||(t=Math.random()),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=[],e=0;e<256;e++)this.p[e]=Math.floor(256*t);for(this.perm=[],e=0;e<512;e++)this.perm[e]=this.p[255&e]}a.Deg2Rad=2*Math.PI/360,a.Epsilon=Number.EPSILON||i,a.NegativeInfinity=-1/0,a.Rad2Deg=360/(2*Math.PI),e.exports=a,s.prototype.dot=function(t,e,o){return t[0]*e+t[1]*o},s.prototype.noise=function(t,e){var o,n,i,r,a,s,c,u,p,l=(t+e)*(.5*(Math.sqrt(3)-1)),d=Math.floor(t+l),h=Math.floor(e+l),f=(3-Math.sqrt(3))/6,_=(d+h)*f,v=t-(d-_),m=e-(h-_),y=void 0,g=void 0,P=void 0,S=void 0,T=void 0;return v>m?(y=1,g=0):(y=0,g=1),o=v-y+f,i=m-g+f,n=v-1+2*f,r=m-1+2*f,a=255&d,s=255&h,c=this.perm[a+this.perm[s]]%12,u=this.perm[a+y+this.perm[s+g]]%12,p=this.perm[a+1+this.perm[s+1]]%12,70*(((P=.5-v*v-m*m)<0?0:(P*=P)*P*this.dot(this.grad3[c],v,m))+((S=.5-o*o-i*i)<0?0:(S*=S)*S*this.dot(this.grad3[u],o,i))+((T=.5-n*n-r*r)<0?0:(T*=T)*T*this.dot(this.grad3[p],n,r)))},cc._RF.pop()},{}]},{},["AniTweenExample","AniAct","AniComponent","AniMath","AniTween","Bezier","AniCollect","AniGoto","AniLookAt","AniMove","AniPath","AniSpin","AniSpiral","AniSwing","AniTemplate","AniComponent_Collect","AniComponent_Goto","AniComponent_LookAt","AniComponent_Move","AniComponent_Path","AniComponent_Spin","AniComponent_Spiral","AniComponent_Swing","AnimatorExample","CocosAnimator","SpineAnimator","AnimClip","AnimCondition","AnimFactory","AnimState","AnimTransition","Animator","Comparer","ImageClipData","PrefabShuriken","CustomMaterial","MaterialComponent","ShaderManager","Material_Blurs","Material_Fluxay","Material_Offset","Material_Template","Material_Wave","Blurs","Fluxay","Offset","Template","Wave","Event","EventBus","EventListener","Example_ControlledEvent","Example_EventBusAny","Example_SimpleEvent","Example_SortedEvent","Example_InvokeQueue","Example_Invoker","Example_Proc","mathf","InvokeQueue","InvokeTask","Invoker","ProcClient","ProcGate","ProcGate_WaitSec","ProcNode","ProcNode_General","ProcWork","ProcWork_Log","MyMath","ErasableObj","AudioCtrl","BuyMachine","SymbolData","TicketData","GameDirector","GameState","GameState_BUYIN","GameState_CHECK","GameState_CHECKLIST","GameState_FINISHED","GameState_IDLE","GameState_MISS","GameState_SCRATCH","GameState_SELECT_CHECK","GameState_WINNING","Resource_Symbol","UIMng","BigWinPanel","ListCheckPanel","ListCheckPanel_RowTicket","ScorePanel","TicketPanel","TicketPanel_Symbol","HelloWorld","NumberLabel","mask"]);