window.__require=function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}}var p=i[s]={exports:{}};e[s][0].call(p.exports,function(t){return o(e[s][1][t]||t)},p,p.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({AniAct:[function(t,e,i){"use strict";cc._RF.push(e,"4bb88PEWntE8KOh7mj2L1Rc","AniAct"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=function(){function t(t){this.isPlaying=!1,this.timeScale=1,this.rootNode=null,this.onStart=new n.Event,this.onEnd=new n.Event,this.testNum=5,this._setProp(t,"timeScale"),this._setProp(t,"rootNode")}return t.prototype.update=function(t){this.isPlaying&&this._update(t*this.timeScale)},t.prototype.play=function(){this.isPlaying=!0,this._play(),this.onStart.call()},t.prototype.stop=function(){this.isPlaying=!1,this._stop(),this.onEnd.call()},t.prototype.pause=function(){this.isPlaying=!1,this._pause()},t.prototype.resume=function(){this.isPlaying=!0,this._resume()},t.prototype._update=function(t){this.testNum-=t,this.testNum>0||this.stop()},t.prototype._play=function(){},t.prototype._stop=function(){},t.prototype._pause=function(){},t.prototype._resume=function(){},t.prototype._setProp=function(t,e){void 0!=t[e]&&(this[e]=t[e])},t.prototype._getRoot=function(t){for(var e=t,i=cc.director.getScene(),n=100;e.parent!=i;)if(e=e.parent,n--<0)return e;return e},t.prototype._getFixedWorldPos=function(t){return t},t.prototype._getEase=function(t){var e=null;return 1==t.length?e=[t[0],0,1-t[0],1]:2==t.length?e=[t[0],0,1-t[1],1]:4==t.length&&(e=[t[0],t[1],1-t[2],1-t[3]]),e},t}();i.AniAct=o,cc._RF.pop()},{"../../Uzil":"Uzil"}],AniCollect:[function(t,e,i){"use strict";cc._RF.push(e,"f3676rPDbdIIZEsxaZPk5KM","AniCollect"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniAct"),r=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=i.AniCollect_MoveType||(i.AniCollect_MoveType={}));var s=function(t){function e(e){var i=t.call(this,e)||this;return i.actors=[],i._actorInfos=[],i.target=null,i.areaRadius=0,i.moveType=n.SPEED,i.speed=0,i.acceleration=0,i.duration=5,i._runnedTime=0,i.easeInOut=[0],i._easeBezier=null,i.curve=null,i._setProp(e,"actors"),i._setProp(e,"target"),i._setProp(e,"moveType"),i._setProp(e,"areaRadius"),i._setProp(e,"speed"),i._setProp(e,"acceleration"),i._setProp(e,"easeInOut"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=!0;if(this.moveType==n.SPEED){this.speed+=this.acceleration*t;for(var i=0,o=this._getAllActorInfo();i<o.length;i++){(p=(u=o[i]).targetPos)||(p=this._getTargetLocalPos(u.node.parent),u.targetPos=p);var s=r.Mathf.moveTowardV2(u.pos,p,this.speed*t);u.node.setPosition(s),0==s.equals(p)&&(e=!1)}}else if(this.moveType==n.DURATION)for(var a=0,c=this._getAllActorInfo();a<c.length;a++){var u,p;(p=(u=c[a]).targetPos)||(p=this._getTargetLocalPos(u.node.parent),u.targetPos=p),u.percent=r.Mathf.moveToward(u.percent,1,this.speed*t);var l=this._easeBezier.compute(u.percent);s=r.Mathf.lerpV2(u.orinPos,p,l);u.node.setPosition(s),0==s.equals(p)&&(e=!1)}e&&this.stop()}},e.prototype._play=function(){this.moveType==n.SPEED||this.moveType==n.DURATION&&(this.speed=1/this.duration),this._actorInfos=[];for(var t=0,e=this.actors;t<e.length;t++){var i=e[t];this._actorInfos.push({node:i,orinPos:i.position,percent:0})}var o=this._getEase(this.easeInOut);o&&(this._easeBezier=r.BezierData.easyBezier(o[0],o[1],o[2],o[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){if(void 0===t&&(t=!0),this.target instanceof cc.Node){var e=this.target,i=e.position;if(t){var n=e.getContentSize(),o=0-n.width*e.anchorX,s=0+n.width*(1-e.anchorX),a=0+n.height*(1-e.anchorY),c=0-n.height*e.anchorY;i.x+=cc.misc.lerp(o,s,Math.random()),i.y+=cc.misc.lerp(c,a,Math.random())}return e.parent.convertToWorldSpaceAR(i)}if(this.target instanceof cc.Vec2){i=this.target.clone();if(t){var u=r.Mathf.angleToVec2(359*Math.random());u=u.normalize().mul(this.areaRadius),i.addSelf(u)}return this._getFixedWorldPos(i)}},e.prototype._getTargetLocalPos=function(t){var e=this._getTargetWorldPos();return t.convertToNodeSpaceAR(e)},e.prototype._getWorldPosByNode=function(t){return t.parent.convertToWorldSpaceAR(t.getPosition())},e.prototype._getAllActorInfo=function(){for(var t=this._getTargetWorldPos(),e=0,i=this.actors;e<i.length;e++)for(var n=i[e],o=this._getWorldPosByNode(n),r=t.sub(o),s=0,a=this._actorInfos;s<a.length;s++){var c=a[s];c.node==n&&(c.pos=n.position,c.worldPos=o,c.distance=r)}return this._actorInfos},e}(o.AniAct);i.AniCollect=s,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniComponent_Collect:[function(t,e,i){"use strict";cc._RF.push(e,"26a7dMRlq5Ij7oSH779kV6j","AniComponent_Collect"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniTween"),r=t("../act/AniCollect");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{targetType:{default:n.POSITION,type:cc.Enum(n)},targetPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},areaRadius:{default:0,visible:function(){return this.targetType==n.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},actors:{default:[],type:cc.Node},movementType:{default:r.AniCollect_MoveType.SPEED,type:cc.Enum(r.AniCollect_MoveType)},acceleration:{default:5,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},speed:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},duration:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.node),t.actors=this.actors,this.targetType==n.POSITION?t.target=this.targetPos:this.targetType==n.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.areaRadius=this.areaRadius,t.speed=this.speed,t.acceleration=this.acceleration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new o.AniTween).collect(t),this.tween.play()},_preview:function(){for(var t=[],e=0,i=this.actors;e<i.length;e++){var n=i[e];t.push({node:n,pos:n.position})}this.beforePreview.positions=t,this.play()},_unpreview:function(){this.stop();var t=this.beforePreview.positions;if(t)for(var e=0,i=t;e<i.length;e++){var n=i[e];n.node.setPosition(n.pos)}}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniCollect":"AniCollect"}],AniComponent_Goto:[function(t,e,i){"use strict";cc._RF.push(e,"49a54txto9KfoWWRUPSf2f5","AniComponent_Goto"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../act/AniGoto"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},targetPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},moveType:{type:cc.Enum(o.AniGoto_MoveType),default:o.AniGoto_MoveType.DURATION},speed:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.SPEED}},acceleration:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==o.AniGoto_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.moveType==o.AniGoto_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==o.AniGoto_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.targetPosition:this.targetType==n.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],this.tween=(new r.AniTween).goto(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniGoto":"AniGoto"}],AniComponent_LookAt:[function(t,e,i){"use strict";cc._RF.push(e,"2fcd7lNxQNP5Z5pUGuya+9a","AniComponent_LookAt"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniTween");(function(t){t[t.POSITION=0]="POSITION",t[t.NODE=1]="NODE"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.NODE,type:cc.Enum(n)},lookAtNode:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},lookAtPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.lookAtPosition:this.targetType==n.NODE&&(t.target=this.lookAtNode),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new o.AniTween).lookAt(t),this.tween.play()},_preview:function(){this.actorNode&&(this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play())},_unpreview:function(){this.actorNode&&(this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Move:[function(t,e,i){"use strict";cc._RF.push(e,"ac9f80/u5RFELWgwZoriNGA","AniComponent_Move"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniTween");(function(t){t[t.VELOCITY=0]="VELOCITY",t[t.CURVE=1]="CURVE"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},moveType:{default:n.VELOCITY,type:cc.Enum(n)},velocity:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==n.VELOCITY}},acceleration:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==n.VELOCITY}},duration:{default:5,visible:function(){return this.moveType==n.VELOCITY}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==n.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.moveType=this.moveType,t.velocity=this.velocity.clone(),t.acceleration=this.acceleration.clone(),t.duration=this.duration,this.tween=(new o.AniTween).move(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Path:[function(t,e,i){"use strict";cc._RF.push(e,"1f103xu61pPwKXhOOmU+fZo","AniComponent_Path"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../act/AniPath"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},isPathClosure:{default:!0},pathPos:{default:[],type:cc.Vec2,visible:function(){return this.targetType==n.POSITION}},pathLocators:{default:[],type:cc.Node,visible:function(){return this.targetType==n.NODE}},moveType:{default:o.AniPath_MoveType.SPEED,type:cc.Enum(o.AniPath_MoveType)},wrapType:{default:o.AniPath_WrapType.LOOP,type:cc.Enum(o.AniPath_WrapType)},speed:{default:0,visible:function(){return this.moveType==o.AniPath_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==o.AniPath_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==o.AniPath_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.path=this.pathPos:this.targetType==n.NODE&&(t.path=this.pathLocators),t.isPathClosure=this.isPathClosure,t.moveType=this.moveType,t.wrapType=this.wrapType,t.speed=this.speed,t.duration=this.duration,this.tween=(new r.AniTween).path(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniPath":"AniPath"}],AniComponent_Spin:[function(t,e,i){"use strict";cc._RF.push(e,"ab8a6/o3NBGf5mHk0Kl/96z","AniComponent_Spin"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new n.AniTween).spin(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Spiral:[function(t,e,i){"use strict";cc._RF.push(e,"dc628Jd+85PX5qZ/5IblG9C","AniComponent_Spiral"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../act/AniSpiral"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(n||(n={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:n.POSITION,type:cc.Enum(n)},centerPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==n.POSITION}},centerLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==n.NODE}},currentAngle:{default:-1},initialAngle:{default:-1},wrapType:{default:o.AniSpiral_WrapType.CONTINUED,type:cc.Enum(o.AniSpiral_WrapType)},rotateNormal:{default:1},rotateSpeed:{default:0},rotateAcceleration:{default:0},radius:{default:-1},radiusNormal:{default:0},radiusSpeed:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==n.POSITION?t.target=this.centerPos:this.targetType==n.NODE&&(t.target=this.centerLocator),t.wrapType=this.wrapType,t.currentAngle=this.currentAngle,t.initialAngle=this.initialAngle,t.rotateNormal=this.rotateNormal,t.rotateSpeed=this.rotateSpeed,t.rotateAcceleration=this.rotateAcceleration,t.radius=this.radius,t.radiusNormal=this.radiusNormal,t.radiusSpeed=this.radiusSpeed,this.tween=(new r.AniTween).spiral(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniSpiral":"AniSpiral"}],AniComponent_Swing:[function(t,e,i){"use strict";cc._RF.push(e,"e5edbm6VyJG2YGGdtZZWIja","AniComponent_Swing"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},angles:{default:[],type:cc.Float},speed:{default:0},duration:{default:-1},easeIn_percent:{default:0},easeOut_percent:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.angles=this.angles.slice(),t.speed=this.speed,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new n.AniTween).swing(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent:[function(t,e,i){"use strict";cc._RF.push(e,"3be30JMzvBAVJQ4T97AhG4K","AniComponent"),Object.defineProperty(i,"__esModule",{value:!0}),cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,playOnFocus:!0},properties:{isPlayOnAwake:{default:!1},tween:{default:null,type:Object,visible:!1},isPreview:{get:function(){return this._isPreview},set:function(t){this._isPreview=t,1==t?this._preview():this._unpreview()}},_isPreview:{default:!1,visible:!1},beforePreview:{visible:!1,default:{}},isPlaying:{default:!1,visible:!1},timeScale:{default:1}},start:function(){this._start(),this.isPlayOnAwake&&this.play()},update:function(t){var e=t*this.timeScale;this.tween&&this.tween.update(e),this._update(e)},empty:function(){},play:function(){this.isPlaying=!0,this._play()},stop:function(){this.isPlaying=!1,this.isPreview&&(this.isPreview=!1),this._stop()},pause:function(){this.isPlaying=!1,this._pause()},resume:function(){this.isPlaying=!0,this._resume()},_stop:function(){this.tween&&this.tween.stop()},_pause:function(){this.tween&&this.tween.pause()},_resume:function(){this.tween&&this.tween.resume()},_getRoot:function(t){if(!t)return null;for(var e=t,i=cc.director.getScene(),n=100;e.parent!=i;)if(e=e.parent,n--<0)return e;return e}}),cc._RF.pop()},{}],AniGoto:[function(t,e,i){"use strict";cc._RF.push(e,"07a40O1N2tHKojKOTUynPso","AniGoto"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniAct"),r=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=i.AniGoto_MoveType||(i.AniGoto_MoveType={}));var s=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.target=null,i.moveType=n.DURATION,i.speed=500,i.speed_acceleration=0,i.duration=1,i._runnedTime=0,i._orinPos=cc.Vec2.ZERO,i.easeInOut=[],i.curvePoint=null,i._curveBezier=null,i.curveLength=5,i._easeBezier=null,i._setProp(e,"actorNode"),i._setProp(e,"target"),i._setProp(e,"moveType"),i._setProp(e,"speed"),void 0!=e.acceleration&&(i.speed_acceleration=e.acceleration),i._setProp(e,"curve"),i._setProp(e,"duration"),i._setProp(e,"easeInOut"),i._setProp(e,"curvePoint"),i._setProp(e,"curveLength"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=(this._getTargetWorldPos(),this._getLocalPos(this._getTargetWorldPos(),e.parent));if(this.moveType==n.SPEED){this.speed+=this.speed_acceleration*t;var o=e.position;if(i.sub(o).mag()<5)return void this.stop();var s=r.Mathf.moveTowardV2(o,i,this.speed*t);e.setPosition(s)}else if(this.moveType==n.DURATION){var a=this._runnedTime/this.duration;this._easeBezier&&(a=this._easeBezier.compute(a));var c=r.Mathf.lerpV2(this._orinPos,i,a);e.setPosition(c),this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}}},e.prototype._play=function(){this._runnedTime=0,this._orinPos=this.actorNode.position;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=r.BezierData.easyBezier(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){return this.target instanceof cc.Node?this._getWorldPos(this.target):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):void 0},e.prototype._getWorldPos=function(t){return t.parent.convertToWorldSpaceAR(t.position)},e.prototype._getLocalPos=function(t,e){return e.convertToNodeSpaceAR(t)},e}(o.AniAct);i.AniGoto=s,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniLookAt:[function(t,e,i){"use strict";cc._RF.push(e,"19711CsahJC15uCKy3TsdZL","AniLookAt"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniAct"),o=t("../../../Uzil"),r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.target=null,i._speed=0,i._initialSpeed=0,i.acceleration=0,i.duration=-1,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"target"),i._setProp(e,"speed"),i._setProp(e,"acceleration"),i._setProp(e,"duration"),i}return __extends(e,t),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._initialSpeed=t,this._speed=t},enumerable:!0,configurable:!0}),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetAngle();this._speed+=this.acceleration*t,e.rotation=o.Mathf.rotateToward(e.rotation,i,this._speed*t),e.rotation==i?this._speed=0:this._speed=this._initialSpeed,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this.speed=this._initialSpeed},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetPos=function(){return this.target instanceof cc.Node?this.target.parent.convertToWorldSpaceAR(this.target.position):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):cc.Vec2.ZERO},e.prototype._getSelfPos=function(){return this.actorNode.parent.convertToWorldSpaceAR(this.actorNode.position)},e.prototype._getTargetAngle=function(){var t=this._getSelfPos(),e=this._getTargetPos().sub(t).signAngle(cc.Vec2.UP);return e=cc.misc.radiansToDegrees(e),e=o.Mathf.validAngle(e)},e}(n.AniAct);i.AniLookAt=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniMove:[function(t,e,i){"use strict";cc._RF.push(e,"bbd79emhq1Dx418gJ952tDS","AniMove"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../AniAct");(function(t){t[t.VELOCITY=0]="VELOCITY"})(n=i.AniMove_MoveType||(i.AniMove_MoveType={}));var r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.moveType=n.VELOCITY,i.velocity=cc.Vec2.ZERO,i.acceleration=cc.Vec2.ZERO,i.duration=5,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"moveType"),e.velocity&&(i.velocity=e.velocity),e.acceleration&&(i.acceleration=e.acceleration),e.duration&&(i.duration=e.duration),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;if(this.moveType==n.VELOCITY){this.velocity.addSelf(this.acceleration.mul(t));var i=e.position;i.addSelf(this.velocity.mul(t)),e.setPosition(i)}this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(o.AniAct);i.AniMove=r,cc._RF.pop()},{"../AniAct":"AniAct"}],AniPath:[function(t,e,i){"use strict";cc._RF.push(e,"58ed2pdBphLKr9yMScNUnJv","AniPath"),Object.defineProperty(i,"__esModule",{value:!0});var n,o,r=t("../AniAct"),s=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(n=i.AniPath_MoveType||(i.AniPath_MoveType={})),function(t){t[t.LOOP=0]="LOOP",t[t.PINGPONG=1]="PINGPONG",t[t.ONCE=2]="ONCE"}(o=i.AniPath_WrapType||(i.AniPath_WrapType={}));var a=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.path=[],i.isPathClosure=!0,i._currentPathIdx=-1,i._nextPathNormal=1,i.moveType=n.SPEED,i.wrapType=o.LOOP,i.speed=0,i.duration=5,i._runnedTime=0,i.curve=null,i._setProp(e,"actorNode"),e.path&&(i.path=e.path.slice()),i._setProp(e,"isPathClosure"),i._setProp(e,"moveType"),i._setProp(e,"wrapType"),i._setProp(e,"speed"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetLocalPos(),r=e.position;if(this.moveType==n.SPEED){var a=s.Mathf.moveTowardV2(r,i,this.speed*t);e.setPosition(a)}else if(this.moveType==n.DURATION){a=s.Mathf.moveTowardV2(r,i,this.speed*t);e.setPosition(a)}e.position.equals(i)&&(this._currentPathIdx+=this._nextPathNormal,this.wrapType==o.LOOP?this._currentPathIdx>=this._getPathCount()&&(this.isPathClosure?this._currentPathIdx=0:(e.setPosition(this._getTargetLocalPos(0)),this._currentPathIdx=1)):this.wrapType==o.PINGPONG?(this._currentPathIdx>=this._getPathCount()||this._currentPathIdx<0)&&(this._nextPathNormal*=-1,this._currentPathIdx+=this._nextPathNormal):this.wrapType==o.ONCE&&this._currentPathIdx>=this._getPathCount()&&this.stop())}},e.prototype._play=function(){if(this._nextPathNormal=1,this._currentPathIdx=0,this._runnedTime=0,this.isPathClosure&&this.path.length>0&&this.path.push(this.path[0]),this.moveType==n.SPEED);else if(this.moveType==n.DURATION){var t=this._getPathLength();this.speed=this._getSpeed(t,0,this.duration)}this.actorNode.setPosition(this._getTargetLocalPos(0))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){void 0===t&&(t=-1),-1==t&&(t=this._currentPathIdx);var e=this.path[t];return null==e?cc.Vec2.ZERO:e instanceof cc.Node?e.parent.convertToWorldSpaceAR(e.position):e instanceof cc.Vec2?this._getFixedWorldPos(e):void 0},e.prototype._getTargetLocalPos=function(t){void 0===t&&(t=-1);var e=this._getTargetWorldPos(t);return this.actorNode.parent.convertToNodeSpaceAR(e)},e.prototype._getPathCount=function(){return this.path.length},e.prototype._getPathLength=function(){if(this.path.length<=0)return 0;for(var t=0,e=this._getTargetWorldPos(0),i=1;i<this.path.length;i++){var n=this._getTargetWorldPos(i);t+=n.sub(e).mag(),e=n}return t},e.prototype._getSpeed=function(t,e,i){return(t-e*Math.pow(i,2)/2)/this.duration},e}(r.AniAct);i.AniPath=a,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniSpin:[function(t,e,i){"use strict";cc._RF.push(e,"716c2EyYtBFq4e88zUywxRa","AniSpin"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.speed=0,i.acceleration=0,i.curve=null,i.duration=5,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"speed"),i._setProp(e,"acceleration"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;this.speed+=this.acceleration*t,e.rotation+=this.speed*t,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").AniAct);i.AniSpin=n,cc._RF.pop()},{"../AniAct":"AniAct"}],AniSpiral:[function(t,e,i){"use strict";cc._RF.push(e,"38ee7xzqvFCspNmJuj+tm8R","AniSpiral"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniAct"),o=t("../../../Uzil");(function(t){t[t.CONTINUED=0]="CONTINUED",t[t.PINGPONG=1]="PINGPONG"})(i.AniSpiral_WrapType||(i.AniSpiral_WrapType={}));var r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.target=null,i.wrapType=-1,i.currentAngle=-1,i.initialAngle=-1,i.rotateNormal=1,i.rotateSpeed=0,i.rotateAcceleration=0,i.radius=1,i.radiusNormal=1,i.radiusSpeed=0,i.curve=null,i._setProp(e,"actorNode"),i._setProp(e,"target"),i._setProp(e,"wrapType"),i._setProp(e,"initialAngle"),i._setProp(e,"rotateNormal"),i._setProp(e,"rotateSpeed"),i._setProp(e,"rotateAcceleration"),i._setProp(e,"radius"),i._setProp(e,"radiusNormal"),i._setProp(e,"radiusSpeed"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetLocalPos();e.getPosition();this.rotateSpeed+=this.rotateAcceleration*this.rotateNormal*t,this.currentAngle+=this.rotateSpeed*this.rotateNormal*t,this.radius+=this.radiusSpeed*this.radiusNormal*t;var n=o.Mathf.angleToVec2(this.currentAngle),r=i.add(n.normalize().mul(this.radius));e.setPosition(r)}},e.prototype._play=function(){var t=this.initialAngle,e=this._getTargetLocalPos().sub(this.actorNode.position);t<=-1&&(t=cc.Vec2.UP.signAngle(e),t=cc.misc.radiansToDegrees(t),this.initialAngle=t),this.currentAngle=t,this.radius<=-1&&(this.radius=e.mag())},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){if(this.target instanceof cc.Node){var t=this.target;return t.parent.convertToWorldSpaceAR(t.getPosition())}if(this.target instanceof cc.Vec2)return this._getFixedWorldPos(this.target)},e.prototype._getTargetLocalPos=function(){var t=this._getTargetWorldPos();return this.actorNode.parent.convertToNodeSpaceAR(t)},e}(n.AniAct);i.AniSpiral=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniSwing:[function(t,e,i){"use strict";cc._RF.push(e,"83dceZaqyNAfY5EnStqJA4T","AniSwing"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../AniAct"),o=t("../../../Uzil"),r=function(t){function e(e){var i=t.call(this,e)||this;return i.actorNode=null,i.angles=[],i._currentAngleIdx=-1,i._nextNormal=1,i.currentAngle=-1,i.speed=0,i.easeInOut=[],i._easeBezier=null,i.curve=null,i.duration=-1,i._runnedTime=0,i._setProp(e,"actorNode"),i._setProp(e,"angles"),i._setProp(e,"speed"),i._setProp(e,"easeInOut"),i._setProp(e,"duration"),i}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,i=this._getTargetAngle();if(e.rotation==i){var n=this._currentAngleIdx+this._nextNormal;(n>=this.angles.length||n<0)&&(this._nextNormal*=-1),this._currentAngleIdx+=this._nextNormal,i=this._getTargetAngle()}var r=this._getLastAngle();this.currentAngle=o.Mathf.moveToward(this.currentAngle,i,this.speed*t);var s=this.currentAngle;if(this._easeBezier){var a=1-(i-this.currentAngle)/(i-r),c=this._easeBezier.compute(a);s=cc.misc.lerp(r,i,c)}e.rotation=s,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this._currentAngleIdx=0,this.currentAngle=this._getTargetAngle(),this._currentAngleIdx=1;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=o.BezierData.easyBezier(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetAngle=function(){return 0==this.angles.length?0:this.angles[this._currentAngleIdx]},e.prototype._getLastAngle=function(){if(0==this.angles.length)return 0;var t=this._currentAngleIdx-this._nextNormal;return this.angles[t]},e}(n.AniAct);i.AniSwing=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniTemplate:[function(t,e,i){"use strict";cc._RF.push(e,"c5aecoIFxJCGoKlX45fRLeK","AniTemplate"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._update=function(t){},e.prototype._play=function(){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").AniAct);i.AniTemplate=n,cc._RF.pop()},{"../AniAct":"AniAct"}],AniTween:[function(t,e,i){"use strict";cc._RF.push(e,"fa15fBO5RRMxLJZioowH2ty","AniTween"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=t("../index_AniTween"),r=function(){function t(){this.isPlaying=!1,this.currentIdx=-1,this.currentAct=null,this.actQueue=[],this._updateTask=null}return t.prototype.update=function(t){this.isPlaying&&this.currentAct.update(t)},t.prototype.play=function(){for(var t=this,e=0;e<t.actQueue.length;e++){var i=t.actQueue[e];i.onEnd.remove("playNext"),i.onEnd.add(function(){t.playNext()}).name("playNext")}t._updateTask=n.Invoker.update(function(e){t.update(e)}),t.isPlaying=!0,t.playNext()},t.prototype.stop=function(){n.Invoker.stop(this._updateTask),this.isPlaying=!1,this.currentIdx=-1},t.prototype.pause=function(){this.isPlaying=!1},t.prototype.resume=function(){this.isPlaying=!0},t.prototype.queue=function(t){return this.actQueue.push(t),this},t.prototype.playNext=function(){this.currentIdx++,this.currentIdx>=this.actQueue.length?this.stop():(this.currentAct=this.actQueue[this.currentIdx],this.currentAct.play())},t.prototype.move=function(t){return this.queue(new o.AniMove(t))},t.prototype.goto=function(t){return this.queue(new o.AniGoto(t))},t.prototype.spin=function(t){return this.queue(new o.AniSpin(t))},t.prototype.swing=function(t){return this.queue(new o.AniSwing(t))},t.prototype.lookAt=function(t){return this.queue(new o.AniLookAt(t))},t.prototype.around=function(t){return this.spiral(t)},t.prototype.spiral=function(t){return this.queue(new o.AniSpiral(t))},t.prototype.path=function(t){return this.queue(new o.AniPath(t))},t.prototype.collect=function(t){return this.queue(new o.AniCollect(t))},t}();i.AniTween=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_AniTween":"index_AniTween"}],AnimClip:[function(t,e,i){"use strict";cc._RF.push(e,"3652asiaJBLv5UL+3IP35Bn","AnimClip"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=""),this.name="",this.mixAlpha=1,this.trackIdx=0,this.isLoop=!1,this.name=t}return t.prototype.alpha=function(t){return this.mixAlpha=t,this},t.prototype.track=function(t){return this.trackIdx=t,this},t.prototype.loop=function(t){return void 0===t&&(t=!0),this.isLoop=t,this},t}();i.AnimClip=n,cc._RF.pop()},{}],AnimCondition:[function(t,e,i){"use strict";cc._RF.push(e,"e68a2H7WANPz5hqPa35eYAl","AnimCondition"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=function(){function t(t,e,i){this.toCompare=0,this.comparer=n.Comparer.EQUAL,this.parameterKey="",this.parameterKey=t,this.comparer=e,this.toCompare=i}return t.prototype.isPass=function(t){var e=this.parameterKey;if(!e||""==e)return!1;var i=t[e];return null!=i&&void 0!=i&&this._compare(i,this.toCompare,this.comparer)},t.prototype._compare=function(t,e,i){switch(i){case n.Comparer.EQUAL:return t==e||JSON.parse(t)==JSON.parse(e);case n.Comparer.NOT_EQUAL:return t!=e||JSON.parse(t)!=JSON.parse(e);case n.Comparer.GREATER:return t>e;case n.Comparer.GREATER_EQUAL:return t>=e;case n.Comparer.LESS:return t<e;case n.Comparer.LESS_EQUAL:return t<=e}return!1},t}();i.AnimCondition=o,cc._RF.pop()},{"../../../Uzil":"Uzil"}],AnimFactory:[function(t,e,i){"use strict";cc._RF.push(e,"9b3bdMLSNJGo5wMPgGyCLBZ","AnimFactory"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Animator"),o=function(){function t(){}return t.createClip=function(e){if(0==t.validate(e,["name"]))return null;var i=new n.AnimClip(e.name),o=e.track;o&&(i.trackIdx=o);var r=e.isLoop;return null!=r&&(i.isLoop=JSON.parse(r)),i},t.createState=function(e){if(0==t.validate(e,["name"]))return null;var i=new n.AnimState(e.name),o=e.clips;if(o)for(var r=0,s=o;r<s.length;r++){var a=s[r],c=this.createClip(a);i.addClip(c)}var u=e.transitions;if(u)for(var p=0,l=u;p<l.length;p++){a=l[p];var h=this.createTransition(a);i.addTransition(h)}return i},t.createTransition=function(e){if(0==t.validate(e,["nextState"]))return null;var i=new n.AnimTransition,o=e.conditions;if(o)for(var r=0,s=o;r<s.length;r++){var a=s[r],c=this.createCondition(a);i.addCondition(c)}var u=e.nextState;u&&(i.nextState=u);var p=e.exitTime;null!=p&&(i.exitTime=parseFloat(p));var l=e.mixTime;return l&&(i.mixTime=parseFloat(l)),i},t.createCondition=function(e){return 0==t.validate(e,["key","comparer","value"])?null:new n.AnimCondition(e.key,e.comparer,e.value)},t.validate=function(t,e){for(var i=0,n=e;i<n.length;i++){if(void 0==t[n[i]])return!1}return!0},t}();i.AnimFactory=o,cc._RF.pop()},{"../../index_Animator":"index_Animator"}],AnimState:[function(t,e,i){"use strict";cc._RF.push(e,"8c0d7MSCktBf5i1gdkSMVQc","AnimState"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=""),this._name="",this.animClips=[],this.transitions=[],this.name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name?this._name:this.animClips.length>0?this.animClips[0].name:void 0},set:function(t){this._name=t},enumerable:!0,configurable:!0}),t.prototype.addTransition=function(t){return this.transitions.push(t),this},t.prototype.addClip=function(t){return this.animClips.push(t),this},t}();i.AnimState=n,cc._RF.pop()},{}],AnimTransition:[function(t,e,i){"use strict";cc._RF.push(e,"7c163ndjllAWI2adJGTAvOO","AnimTransition"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.exitTime=1,this.conditions=[],this.mixTime=0,this.nextState=null}return t.prototype.isPass=function(t){for(var e=0,i=this.conditions;e<i.length;e++){if(0==i[e].isPass(t))return!1}return!0},t.prototype.addCondition=function(t){return this.conditions.push(t),this},t.prototype.next=function(t){return this.nextState=t.name,this},t}();i.AnimTransition=n,cc._RF.pop()},{}],Animator:[function(t,e,i){"use strict";cc._RF.push(e,"9116d8p+qNAK7wSkIGNlxB3","Animator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Animator"),o=t("../../../Uzil"),r=t("../../../AudioMng/index_AudioMng"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultState="",e.animatorFile=null,e.states=[],e.parameter={},e.isPlaying=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._getTimeScale()},set:function(t){this._setTimeScale(t)},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){var t=this;if(this.animatorFile){var e=o.Objf.clone(this.animatorFile.json).build;e&&this.load(e)}this.onComplete(function(){t._checkTransition(1)}),this._onLoad()},e.prototype._onLoad=function(){},e.prototype.start=function(){this._start()},e.prototype._start=function(){},e.prototype.update=function(t){this._update(),this._checkTransition()},e.prototype._update=function(){},e.prototype.load=function(t){var e=t.defaultState;e&&""!=e&&(this.defaultState=e);var i=[].concat(t.states);if(i)for(var r=0,s=i;r<s.length;r++){var a=s[r],c=n.AnimFactory.createState(a);this.addState(c)}var u=o.Objf.clone(t.parameter);return u&&(this.parameter=u),this.defaultState?this.play(this.defaultState):this.states.length>0&&this.playState(this.states[0]),this},e.prototype.set=function(t,e){return this.parameter[t]=e,this},e.prototype.play=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.name==t){this.playState(n);break}}},e.prototype.playState=function(t){if(t){this.isPlaying=!0,this.currentState=t;var e=t.animClips;if(0!=e.length){var i=e[0];if(this._play(i),e.length>1)for(var n=1;n<e.length;n++)this._playAdditive(e[n])}}else this.stop()},e.prototype.stop=function(){this.isPlaying=!1,this._stop()},e.prototype.pause=function(){this.isPlaying=!1,this._pause()},e.prototype.resume=function(){this.isPlaying=!0,this._resume()},e.prototype.getNormalizedTime=function(){return this._getNormalizedTime()},e.prototype.onEventOnce=function(t,e){this._onEvent(t,e,!0)},e.prototype.onEvent=function(t,e){this._onEvent(t,e,!1)},e.prototype.onCompleteOnce=function(t){this._onComplete(t,!0)},e.prototype.onComplete=function(t){this._onComplete(t,!1)},e.prototype.onTimeOnce=function(t,e){this._onTime(t,e,!0)},e.prototype.onTime=function(t,e){this._onTime(t,e,!1)},e.prototype.addState=function(t){return this.states.push(t),this},e.prototype.removeState=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.name==t){this.states.splice(this.states.indexOf(n),1);break}}},e.prototype.getState=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.name==t)return n}return null},e.prototype._enter=function(t){var e=this.getState(t.nextState);this.currentState=e,this.playState(this.currentState)},e.prototype._checkTransition=function(t){if(void 0===t&&(t=-1),this.currentState){var e=this.getNormalizedTime();-1!=t&&(e=t);for(var i=0,n=this.currentState.transitions;i<n.length;i++){var o=n[i];if(!(-1!=o.exitTime&&e<o.exitTime)&&o.isPass(this.parameter)){this._enter(o);break}}}},e.prototype._playAudio=function(t){r.AudioMng.play(t)},e.prototype._play=function(t){},e.prototype._playAdditive=function(t){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getNormalizedTime=function(){return 0},e.prototype._onEvent=function(t,e,i){},e.prototype._onComplete=function(t,e){},e.prototype._onTime=function(t,e,i){},e.prototype._setTimeScale=function(t){},e.prototype._getTimeScale=function(){return 0},__decorate([c()],e.prototype,"defaultState",void 0),__decorate([c(cc.JsonAsset)],e.prototype,"animatorFile",void 0),e=__decorate([a],e)}(cc.Component);i.Animator=u,cc._RF.pop()},{"../../../AudioMng/index_AudioMng":"index_AudioMng","../../../Uzil":"Uzil","../../index_Animator":"index_Animator"}],Async_EachSeries:[function(t,e,i){"use strict";cc._RF.push(e,"154fdXpN7hCnbe1VFL+CVlE","Async_EachSeries"),Object.defineProperty(i,"__esModule",{value:!0}),i.eachSeries=function(t,e,i){var n=function(o){var r=t[o],s=o+1,a=s>=t.length;e(r,function(t){t||a?i&&i(t):n(s)})};n(0)},cc._RF.pop()},{}],Async_Each:[function(t,e,i){"use strict";cc._RF.push(e,"e2008Df98tIz4MX4bCh0tEp","Async_Each"),Object.defineProperty(i,"__esModule",{value:!0}),i.each=function(t,e,i){for(var n=!1,o=t.length,r=function(t){if(!n){if(t)return i(t),void(n=!0);0==--o&&i(t)}},s=function(i){var n=t[i],o=!1;e(n,function(t){o||(o=!0,r(t))})},a=0;a<t.length;a++)s(a)},cc._RF.pop()},{}],Async_Parallel:[function(t,e,i){"use strict";function n(t,e,i){for(var n=new Array(t.length),o=!1,r=t.length,s=function(t){if(!o){if(e&&e(t,n),t)return i(t,n),void(o=!0);0==--r&&i(t,n)}},a=function(e){var i=!1,o=e;(0,t[e])(function(t,e){i||(i=!0,n[o]=e,s(t))})},c=0;c<t.length;c++)a(c)}cc._RF.push(e,"1d0548uqRFGf7mwprlvScJm","Async_Parallel"),Object.defineProperty(i,"__esModule",{value:!0}),i.parallel=function(t,e){n(t,null,e)},i.parallelWithEach=n,cc._RF.pop()},{}],Async_Waterfall:[function(t,e,i){"use strict";cc._RF.push(e,"dd9dfbkZK5DaI6TOJtAbdrG","Async_Waterfall"),Object.defineProperty(i,"__esModule",{value:!0}),i.waterfall=function(t,e){var i=function(n){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];var s=t[n],a=n+1,c=a>=t.length;s.apply(void 0,o.concat([function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];t||c?e&&e.apply(void 0,[t].concat(n)):i.apply(void 0,[a].concat(n))}]))};i(0)},cc._RF.pop()},{}],Async:[function(t,e,i){"use strict";cc._RF.push(e,"ae719W2m6hKEocP5XHSVuu+","Async"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./Async_Each"),o=t("./Async_Each"),r=t("./Async_Waterfall"),s=t("./Async_Parallel"),a=function(){function t(){}return t.parallel=function(t,e){return s.parallel(t,e)},t.parallelWithEach=function(t,e,i){return s.parallelWithEach(t,e,i)},t.waterfall=function(t,e){return r.waterfall(t,e)},t.each=function(t,e,i){return n.each(t,e,i)},t.eachSeries=function(t,e,i){return o.eachSeries(t,e,i)},t}();i.Async=a,cc._RF.pop()},{"./Async_Each":"Async_Each","./Async_Parallel":"Async_Parallel","./Async_Waterfall":"Async_Waterfall"}],AudioLayer:[function(t,e,i){"use strict";cc._RF.push(e,"35e5fFjJuBHWJ2psB3ST/YB","AudioLayer"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_AudioMng"),o=function(){function t(){this.id="",this.audios=[],this.priority=5,this._volume=-1}return Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this.vol(t)},enumerable:!0,configurable:!0}),t.prototype.start=function(){},t.prototype.update=function(t){},t.prototype.delete=function(){for(var t=[],e=0,i=this.audios;e<i.length;e++){var n=i[e];t.push(n)}for(var o=0,r=t;o<r.length;o++){n=r[o];this.remove(n)}},t.prototype.get=function(t){for(var e=0,i=this.audios;e<i.length;e++){var o=i[e];if(o==t)return n.AudioMng.audio(o)}return null},t.prototype.add=function(t){if(-1!=this.audios.indexOf(t))return this;var e=n.AudioMng.audio(t);return e?(this.audios.push(t),e.addLayer(this.id),this):this},t.prototype.move=function(t){var e=n.AudioMng.audio(t);if(!e)return this;for(var i=0,o=e.layers;i<o.length;i++){var r=o[i],s=n.AudioMng.layer(r);s&&s.remove(t)}return this.add(t)},t.prototype.remove=function(t){var e=this.audios.indexOf(t);-1!=e&&(this.get(t).removeLayer(this.id),this.audios.splice(e,1))},t.prototype.vol=function(t){return this._volume=t,this.eachAudio(function(t){t.updateVolume()}),this},t.prototype.prio=function(t){return this.priority=t,this.eachAudio(function(t){t.updateLayers()}),this},t.prototype.play=function(){this.eachAudio(function(t){t.pause()})},t.prototype.pause=function(){this.eachAudio(function(t){t.pause()})},t.prototype.resume=function(t){this.eachAudio(function(t){t.resume()})},t.prototype.stop=function(t){this.eachAudio(function(t){t.stop()})},t.prototype.eachAudio=function(t){for(var e=0,i=this.audios;e<i.length;e++){var o=i[e],r=n.AudioMng.audio(o);r&&t(r)}},t}();i.AudioLayer=o,cc._RF.pop()},{"../index_AudioMng":"index_AudioMng"}],AudioMng:[function(t,e,i){"use strict";cc._RF.push(e,"21e8f2mQr1FIKu9BdYiiD3e","AudioMng"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_AudioMng"),o=t("../../Uzil"),r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id2AudioObj=new Map,e.id2Layer=new Map,e}return __extends(e,t),e.getInstance=function(){return o.Uzil.getComp("AudioMng")},e.play=function(t){this.getInstance().play(t)},e.pause=function(t){this.getInstance().pause(t)},e.resume=function(t){this.getInstance().resume(t)},e.stop=function(t){this.getInstance().stop(t)},e.audio=function(t){return this.getInstance().get(t)},e.layer=function(t){return this.getInstance().layer(t)},e.rmlayer=function(t){this.getInstance().removeLayer(t)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.register=function(t,e){this.id2AudioObj.set(t,e)},e.prototype.get=function(t){return 0==this.id2AudioObj.has(t)?null:this.id2AudioObj.get(t)},e.prototype.play=function(t){var e=this.get(t);e&&e.play()},e.prototype.pause=function(t){var e=this.get(t);e&&e.pause()},e.prototype.resume=function(t){var e=this.get(t);e&&e.resume()},e.prototype.stop=function(t){var e=this.get(t);e&&e.stop()},e.prototype.layer=function(t){if(0==this.id2Layer.has(t)){var e=new n.AudioLayer;e.id=t,this.id2Layer.set(t,e)}return this.id2Layer.get(t)},e.prototype.removeLayer=function(t){0!=this.id2Layer.has(t)&&(this.layer(t).delete(),this.id2Layer.delete(t))},e.instance=null,e=__decorate([s],e)}(cc.Component));i.AudioMng=a,cc._RF.pop()},{"../../Uzil":"Uzil","../index_AudioMng":"index_AudioMng"}],AudioObj:[function(t,e,i){"use strict";cc._RF.push(e,"5423cT2p35KvZVGxvYZ/wpZ","AudioObj"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_AudioMng"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioSource=null,e.audioID="",e.state=n.AudioState.PAUSE,e.layers=[],e.volume=1,e}return __extends(e,t),e.prototype.onLoad=function(){if(null!=this.audioSource||(this.audioSource=this.getComponent(cc.AudioSource),null!=this.audioSource)){var t=this.audioSource.isPlaying,e=this.audioSource.getCurrentTime();this.state=t&&0!=e?n.AudioState.PLAY:t||0==e?n.AudioState.STOP:n.AudioState.PAUSE,n.AudioMng.getInstance().register(this.audioID,this);for(var i=0,o=this.layers;i<o.length;i++){var r=o[i];n.AudioMng.layer(r).add(this.audioID)}}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.addLayer=function(t){-1==this.layers.indexOf(t)&&(this.layers.push(t),this.updateLayers())},e.prototype.removeLayer=function(t){var e=this.layers.indexOf(t);-1!=e&&(this.layers.splice(e,1),this.updateLayers())},e.prototype.setVolume=function(t){this.volume=t,this.updateVolume()},e.prototype.getLayeredVolume=function(){for(var t=-1,e=0,i=this.layers;e<i.length;e++){var o=i[e],r=n.AudioMng.layer(o);if(r&&-1!=r.volume){t=r.volume;break}}return t},e.prototype.play=function(){this.audioSource.play(),this.state=n.AudioState.PLAY},e.prototype.pause=function(){this.audioSource.pause(),this.state=n.AudioState.PAUSE},e.prototype.resume=function(){this.audioSource.isPlaying?this.audioSource.resume():this.audioSource.play(),this.state=n.AudioState.PLAY},e.prototype.stop=function(){this.audioSource.stop(),this.state=n.AudioState.STOP},e.prototype.updateLayers=function(){var t=new Map,e=function(e){if(t.has(e))return t.get(e);var i=n.AudioMng.layer(e);return null==i?null:(t.set(e,i),i)};this.layers.sort(function(t,i){var n=e(t),o=e(i);return n?o?o.priority-n.priority:-1:1}),this.updateVolume()},e.prototype.updateVolume=function(){var t=1;-1!=this.volume&&(t*=this.volume);var e=this.getLayeredVolume();-1!=e&&(t*=e),this.audioSource.volume=t},__decorate([s(cc.AudioSource)],e.prototype,"audioSource",void 0),__decorate([s()],e.prototype,"audioID",void 0),e=__decorate([r],e)}(cc.Component);i.AudioObj=a,cc._RF.pop()},{"../index_AudioMng":"index_AudioMng"}],AudioState:[function(t,e,i){"use strict";cc._RF.push(e,"85d0eVSwqVDVqeOTwCgmXAv","AudioState"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.STOP=0]="STOP",t[t.PLAY=1]="PLAY",t[t.PAUSE=2]="PAUSE"}(i.AudioState||(i.AudioState={})),cc._RF.pop()},{}],BezierData:[function(t,e,i){"use strict";cc._RF.push(e,"e9dc1ftps9I0a60t8EyA6I+","BezierData"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../lib/bezier"),o=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._bezier=null,this._bezier=new n.default(t)}return t.easyBezier=function(e,i,n,o){return new t(0,0,e,i,n,o,1,1)},t.prototype.compute=function(t){return this._bezier.compute(t)},t.prototype.length=function(){return this._bezier.length()},t.prototype.intersects=function(t){return this._bezier.intersects(t)},t.prototype.bbox=function(){return this._bezier.bbox()},t}();i.BezierData=o,cc._RF.pop()},{"../lib/bezier":"bezier"}],Card:[function(t,e,i){"use strict";cc._RF.push(e,"1e397UZnN9IgqCmn/OVYNkB","Card"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_PageCard"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="_anonymous",e.scopes=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"isActive",{get:function(){return this.node.active},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){if(0==this.scopes.length)n.PageCtrl.getInstance().registerCard(this);else for(var t=0,e=this.scopes;t<e.length;t++){var i=e[t];n.PageCtrl.getInstance(i).registerCard(this)}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.active=function(t){void 0===t&&(t=!1),!t&&this.isActive||(this.node.active=!0,this._onActive())},e.prototype.deactive=function(t){void 0===t&&(t=!1),(t||this.isActive)&&(this.node.active=!1,this._onDeactive())},e.prototype._onActive=function(){},e.prototype._onDeactive=function(){},__decorate([s()],e.prototype,"id",void 0),__decorate([s({type:cc.String})],e.prototype,"scopes",void 0),e=__decorate([r],e)}(cc.Component);i.Card=a,cc._RF.pop()},{"../index_PageCard":"index_PageCard"}],CocosAnimator:[function(t,e,i){"use strict";cc._RF.push(e,"6f9d4mpEvRNvpiGm6S0hKcn","CocosAnimator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Animator"),o=t("../../Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e._playedTime=0,e._timeScale=-1,e._currentClip=null,e.onEventList=[],e.onCompleteList=[],e.onTimeList=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){},e.prototype._update=function(){for(var t=this.getNormalizedTime(),e=[],i=0,n=this.onTimeList;i<n.length;i++){t<(s=n[i]).time_percent||(s.isRunedInLoop||(s.func(),s.isRunedInLoop=!0,s.isOnce&&e.push(s)))}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.onTimeList.splice(this.onTimeList.indexOf(s),1)}},e.prototype.callEvent=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=[],o=0,r=this.onEventList;o<r.length;o++){(c=r[o]).eventTag==t&&(c.func(),c.isOnce&&n.push(c))}for(var s=0,a=n;s<a.length;s++){var c=a[s];this.onEventList.splice(this.onEventList.indexOf(c),1)}},e.prototype.callAudio=function(t){this._playAudio(t)},e.prototype._play=function(t){this.animation.play(t.name),this._reRegEvent(),this._playedTime=0,this._currentClip=this.animation.currentClip},e.prototype._playAdditive=function(t){this.animation.playAdditive(t.name)},e.prototype._stop=function(){this.animation.stop(),this._playedTime=0},e.prototype._pause=function(){this.animation.pause()},e.prototype._resume=function(){this.animation.resume()},e.prototype._getNormalizedTime=function(){var t=this._currentClip;if(!t)return-1;var e=this.animation.getAnimationState(t.name),i=t.duration,n=e.time;return(e.wrapMode==cc.WrapMode.Normal||e.wrapMode==cc.WrapMode.Default||e.wrapMode==cc.WrapMode.Reverse)&&n>i?1:n/i%1},e.prototype._onEvent=function(t,e,i){this.onEventList.push({eventTag:t,isOnce:i,func:e})},e.prototype._onComplete=function(t,e){this.onCompleteList.push({isOnce:e,func:t})},e.prototype._onTime=function(t,e,i){this.onTimeList.push({time_percent:t,isOnce:i,func:e,isRunedInLoop:!1})},e.prototype._setTimeScale=function(t){for(var e=0,i=this.animation._clips;e<i.length;e++){var n=i[e];this.animation.getAnimationState(n.name).speed=t}this._timeScale=t},e.prototype._getTimeScale=function(){if(-1!=this._timeScale)return this._timeScale;for(var t=0,e=this.animation._clips;t<e.length;t++){var i=e[t],n=this.animation.getAnimationState(i.name);this._setTimeScale(n.speed);break}return this._timeScale},e.prototype._reRegEvent=function(){this.animation.off("lastframe",this._onLastFrame,this),this.animation.off("finished",this._onLastFrame,this),this.animation.on("lastframe",this._onLastFrame,this),this.animation.on("finished",this._onLastFrame,this)},e.prototype._onLastFrame=function(t){this._playedTime++;for(var e=0,i=this.onTimeList;e<i.length;e++){(c=i[e]).isRunedInLoop=!1}for(var n=[],o=0,r=this.onCompleteList;o<r.length;o++){(c=r[o]).func(),c.isOnce&&n.push(c)}for(var s=0,a=n;s<a.length;s++){var c=a[s];this.onCompleteList.splice(this.onCompleteList.indexOf(c),1)}},e.prototype.example_script=function(){var t=this,e=new n.AnimClip("xMove"),i=new n.AnimClip("yMove"),r=new n.AnimState("stateX");r.addClip(e);var s=new n.AnimState("stateY");s.addClip(e),s.addClip(i);var a=(new n.AnimTransition).next(s);a.exitTime=5;var c=new n.AnimCondition("isToY",o.Comparer.EQUAL,!0);a.addCondition(c);var u=(new n.AnimTransition).next(r);u.exitTime=1,r.addTransition(a),s.addTransition(u),this.addState(r),this.addState(s),this.parameter.isToY=!1,this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove"}],transitions:[{nextState:"stateY",exitTime:5,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove"},{name:"yMove"}],transitions:[{nextState:"stateX",exitTime:1,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},__decorate([a(cc.Animation)],e.prototype,"animation",void 0),e=__decorate([s],e)}(n.Animator);i.CocosAnimator=c,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Animator":"index_Animator"}],Comparer:[function(t,e,i){"use strict";cc._RF.push(e,"5e8a7YmbElJzaBqzaYcImS7","Comparer"),Object.defineProperty(i,"__esModule",{value:!0}),i.Comparer={EQUAL:"==",NOT_EQUAL:"!=",GREATER:">",GREATER_EQUAL:">=",LESS:"<",LESS_EQUAL:"<="},cc._RF.pop()},{}],CountingNumber:[function(t,e,i){"use strict";cc._RF.push(e,"e3d43G4kjdEeqcvNcYK5tdN","CountingNumber"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(){function t(){this.stepName="",this.weightedTime=0,this.targetNum=0}return __decorate([s()],t.prototype,"stepName",void 0),__decorate([s()],t.prototype,"weightedTime",void 0),__decorate([s()],t.prototype,"targetNum",void 0),t=__decorate([r("CountingNumberStep")],t)}();i.CountingNumberStep=a;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isInited=!1,e.initNum=0,e._currentNum=0,e._startNum=0,e._targetNum=0,e._totalTime=-1,e._currentTime=0,e._startStepInfo=null,e._weightedTimeDelta=0,e._toShowStrArray=[],e.toShowNum=0,e.updateShowCD=.02,e._leftShowCD=0,e.filters=[],e.label=null,e.stepSettingJson=null,e.steps=[],e._lastStep=-1,e.onStep=new n.Event,e}return __extends(e,t),Object.defineProperty(e.prototype,"currentNum",{get:function(){return this._currentNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startNum",{get:function(){return this._startNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetNum",{get:function(){return this._targetNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._currentTime},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.update=function(t){var e=t*n.Time.timeScale;this._updateNum(e),this._updateShow(e)},e.prototype._updateNum=function(t){if(-1!=this._totalTime)if(this._currentNum!=this._targetNum){this._currentTime=n.Mathf.moveToward(this._currentTime,this._totalTime,t);var e=this._currentTime/this._totalTime,i=this._currentNum,o=this._startStepInfo.weightedTime+this._weightedTimeDelta*e,r=this.getInStepNum(o);i=r.num,1==e&&(i=this._targetNum),this._currentNum=Math.floor(i);var s=r.step;this._lastStep!=s&&(this.onStep.call(s),this._lastStep=s)}else this.toShowNum=this._currentNum},e.prototype._updateShow=function(t){if(this._leftShowCD-=t,!(this._leftShowCD>0)){this._leftShowCD=this.updateShowCD;for(var e=-1,i=this._toShowStrArray,o=this._currentNum.toString().split(""),r=i.length<=o.length?i.length:o.length;r>0;r--){var s=i.length-r,a=o.length-r;if(o[a]==i[s]){if(-1!=e){var c=parseInt(i[s]);c=Math.floor(new n.RandomRange(0,9).get()),o[a]=c.toString()}}else e=r}if(this._toShowStrArray=o,this.toShowNum=parseInt(this._toShowStrArray.join("")),null!=this.label){for(var u=this.toShowNum,p=0,l=this.filters;p<l.length;p++){u=(0,l[p])(u)}"string"!=typeof u&&(u=u.toString()),this.label.string=u}}},e.prototype.init=function(){if(!this._isInited&&(this._isInited=!0,this.resetNum(this.initNum),this.stepSettingJson))for(var t=0,e=this.stepSettingJson.json;t<e.length;t++){var i=e[t];this.setStep(i.name,i.targetNum,i.time)}},e.prototype.resetNum=function(t){this.init(),this._currentTime=-1==this._currentTime?-1:0,this._currentNum=t,this.toShowNum=t,this._targetNum=t},e.prototype.goto=function(t,e){void 0===e&&(e=-1),this.init(),this._startNum=this._currentNum,this._targetNum=t,this._startStepInfo=this.getInStepWeightedTime(this._currentNum);var i=this.getInStepWeightedTime(this._targetNum);this._weightedTimeDelta=i.weightedTime-this._startStepInfo.weightedTime,this._totalTime=-1==e?this._weightedTimeDelta:e},e.prototype.setStep=function(t,e,i){var n=this.getStep(t);n||(n=new a,this.steps.push(n)),n.targetNum=e,n.weightedTime=i,this.steps.sort(function(t,e){return t.targetNum-e.targetNum})},e.prototype.getInStepWeightedTime=function(t){for(var e=0,i=0,n=0;n<this.steps.length-1;n++){var o=this.steps[n],r=this.steps[n+1];if(i=n,t>=o.targetNum&&t<r.targetNum){var s=(t-o.targetNum)/(r.targetNum-o.targetNum);i+=s,e+=o.weightedTime*s;break}e+=o.weightedTime}return{step:i,weightedTime:e}},e.prototype.getInStepNum=function(t){for(var e=t,i=0,n=this.steps[0].targetNum,o=0;o<this.steps.length-1;o++){var r=this.steps[o],s=this.steps[o+1];i=o;var a=e-r.weightedTime;if(!(a>=0)){var c=e/r.weightedTime,u=s.targetNum-r.targetNum;n=r.targetNum+u*c;break}e=a,n=s.targetNum}return{step:i,num:n}},e.prototype.getStep=function(t){for(var e=0,i=this.steps;e<i.length;e++){var n=i[e];if(n.stepName==t)return n}return null},__decorate([s()],e.prototype,"initNum",void 0),__decorate([s()],e.prototype,"updateShowCD",void 0),__decorate([s(cc.Label)],e.prototype,"label",void 0),__decorate([s(cc.JsonAsset)],e.prototype,"stepSettingJson",void 0),__decorate([s(a)],e.prototype,"steps",void 0),e=__decorate([r],e)}(cc.Component);i.CountingNumber=c,cc._RF.pop()},{"../../../Uzil":"Uzil"}],CurveData:[function(t,e,i){"use strict";cc._RF.push(e,"cdd24FqCUlD67H6GWaTRZr5","CurveData"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Curve"),o=t("../../Uzil"),r=t("./PointData"),s=function(){function t(){this.length=0,this.points=[]}return t.create=function(e){var i=new t;return i.init(e),i},t.json=function(e){var i=JSON.parse(e);return t.create(i)},t.prototype.init=function(t){if(this.points=[],t.hasOwnProperty("points"))for(var e=0,i=t.points;e<i.length;e++){var o=i[e],r=n.PointData.create(o);this.points.push(r)}t.hasOwnProperty("length")&&(this.length=t.length)},t.prototype.compute=function(t){return this.getVal(t)},t.prototype.getVal=function(t){if(0==this.points.length)return 0;if(1==this.points.length)return this.points[0].pos.y;var e,i=this.points[0],n=this.points[this.points.length-1],s=(i.pos.x,n.pos.x*o.Mathf.clamp(t,0,this.length)/this.length),a=i,c=n;if(s==a.pos.x)return a.pos.y;if(s==c.pos.x)return c.pos.y;for(var u=1;u<this.points.length;u++){if(!((e=this.points[u]).pos.x<s)){c=e;break}a=e}var p=a.pos.x,l=a.pos.y,h=c.pos.x,d=c.pos.y,f=p+a.easeOut.x,_=l+a.easeOut.y,y=h+c.easeIn.x,v=d+c.easeIn.y,m=a.getEaseOutType();if(m==r.EaseType.constant)return a.pos.y;m==r.EaseType.linear?(f=p,_=l):r.EaseType.free,c.getEaseInType()==r.EaseType.linear?(y=h,v=d):r.EaseType.free;var g=new o.BezierData(p,l,f,_,y,v,h,d),S=g.bbox(),x={p1:{x:s,y:S.y.min-1},p2:{x:s,y:S.y.max+1}},A=g.intersects(x);if(0==A.length)return cc.log(S),0;var T=A[0];return g.compute(T).y},t.prototype.getStartVal=function(){return this.getVal(0)},t.prototype.getEndVal=function(){return this.getVal(this.length)},t}();i.CurveData=s,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Curve":"index_Curve","./PointData":"PointData"}],EventBus:[function(t,e,i){"use strict";cc._RF.push(e,"bd4d0I795xEOYNujEC+BkBT","EventBus"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Event"),o=function(){function t(){this.tag2Event={},this.anyEvent=new n.Event}return t.get=function(e){void 0===e&&(e="_default");var i=this._instances[e];return i||(i=new t,this._instances[e]=i),i},t.prototype.post=function(t){for(var e,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this._getEvent(t);o&&o.call.apply(o,i),(e=this.anyEvent).call.apply(e,[t].concat(i))},t.prototype.register=function(t,e){this._getEvent(t).addListener(e)},t.prototype.registerAny=function(t){this.anyEvent.addListener(t)},t.prototype.unregisterTag=function(t){this.tag2Event[t]&&delete this.tag2Event[t]},t.prototype.unregisterID=function(t){for(var e in this.tag2Event)this.tag2Event[e].remove(t);this.anyEvent.remove(t)},t.prototype._getEvent=function(t){var e=this.tag2Event[t];return e||(e=new n.Event,this.tag2Event[t]=e),e},t._instances={},t}();i.EventBus=o,cc._RF.pop()},{"../index_Event":"index_Event"}],EventData:[function(t,e,i){"use strict";cc._RF.push(e,"c8d25aGNodAGovsuA1lE9n1","EventData"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){return function(){this.name="_anonymous",this.data={},this.args=[],this.event=null,this.stop=function(){},this.wait=function(){},this.next=function(){}}}();i.EventData=n,cc._RF.pop()},{}],EventListener:[function(t,e,i){"use strict";cc._RF.push(e,"3ca3ddYbuxDxIKeojQ/ULYn","EventListener"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=function(){}),this.id=void 0,this.func=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log("do something")},this.priority=0,this.callTime=-1,this.func=t}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t.prototype.pry=function(t){return this.priority=t,this},t.prototype.sort=function(t){return this.priority=-1*t,this},t.prototype.name=function(t){return this.id=t,this},t.prototype.times=function(t){return this.callTime=t,this},t.prototype.once=function(){return this.times(1)},t}();i.EventListener=n,cc._RF.pop()},{}],Event:[function(t,e,i){"use strict";cc._RF.push(e,"f0775amPE1DoKk8RMlLIw3P","Event"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Event"),o=t("../../Uzil"),r=function(){function t(){this.listeners=[],this.args=[],this.data={}}return t.prototype.add=function(t){var e;return t instanceof n.EventListener?(this.addListener(t),e=t):t instanceof Function&&((e=new n.EventListener).func=t,this.addListener(e)),e},t.prototype.addListener=function(t){if(-1==this.listeners.indexOf(t))return this.listeners.push(t),this.sort(),t},t.prototype.addOnce=function(t){return this.addListener(new n.EventListener(t).once())},t.prototype.remove=function(t){if(t instanceof n.EventListener)this.removeListener(t);else if("string"==typeof t)for(var e=0,i=this.listeners.slice();e<i.length;e++){var o=i[e];o.id==t&&this.removeListener(o)}},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1!=e&&this.listeners.splice(e,1)},t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.callData.apply(this,[null].concat(t))},t.prototype.callData=function(t){for(var e=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=new n.EventData;s.event=this;var a=o.Objf.assign({},this.data);a=o.Objf.assign(a,t),s.data=a;var c=i;null!=c&&0!=c.length||(c=this.args),s.args=c.slice();var u=!1,p=!0;s.wait=function(){u=!0},s.stop=function(){p=!1};var l=this.listeners.slice();__awaiter(e,void 0,void 0,function(){var t,e,i,n,o,r=this;return __generator(this,function(a){switch(a.label){case 0:t=function(t){return __generator(this,function(i){switch(i.label){case 0:return-1==e.listeners.indexOf(t)?[2,"continue"]:[4,new Promise(function(e,i){s.next=function(){u&&e()},t.callTime>0&&(t.callTime--,0==t.callTime&&r.removeListener(t)),t.call.apply(t,[s].concat(c)),0==u&&e()})];case 1:return i.sent(),p?[2]:[2,"break"]}})},e=this,i=0,n=l,a.label=1;case 1:return i<n.length?(o=n[i],[5,t(o)]):[3,4];case 2:if("break"===a.sent())return[3,4];a.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.sort=function(){this.listeners.sort(function(t,e){return e.priority-t.priority})},t}();i.Event=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Event":"index_Event"}],Example_Async:[function(t,e,i){"use strict";cc._RF.push(e,"3c50dvyswhGF6p4eMFlTEhL","Example_Async"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=this,e="";n.Async.each(["hello","world","!"],function(i,n){e+=i,t.scheduleOnce(function(){cc.log(e),n()},2)},function(){cc.log("====="),cc.log(e)})},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_AudioMng:[function(t,e,i){"use strict";cc._RF.push(e,"7b1aej0oI5CJbTXPMSv9YPa","Example_AudioMng"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../AudioMng/index_AudioMng"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){n.AudioMng.play("bgm"),n.AudioMng.layer("maingame").add("bgm").vol(1).prio(2),cc.log(1);var t=n.AudioMng.layer("freegame");t.add("bgm").vol(0).prio(1),cc.log(2),this.scheduleOnce(function(){n.AudioMng.layer("bonusgame").add("bgm").vol(0).prio(3),cc.log(3)},3),this.scheduleOnce(function(){t.add("bgm").vol(1).prio(4),cc.log(4)},6),this.scheduleOnce(function(){n.AudioMng.audio("bgm").setVolume(.5),cc.log(5)},9),this.scheduleOnce(function(){n.AudioMng.rmlayer("freegame"),cc.log(6)},12)},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.default=s,cc._RF.pop()},{"../../AudioMng/index_AudioMng":"index_AudioMng"}],Example_CountingNumber:[function(t,e,i){"use strict";cc._RF.push(e,"8e82a6w7opIxpqmk2fZFvDg","Example_CountingNumber"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countingNum=null,e.testGoto=0,e}return __extends(e,t),e.prototype.start=function(){this.countingNum.resetNum(0),this.countingNum.goto(this.testGoto)},e.prototype.update=function(t){},__decorate([s(n.CountingNumber)],e.prototype,"countingNum",void 0),__decorate([s()],e.prototype,"testGoto",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../../../Uzil":"Uzil"}],Example_Curve:[function(t,e,i){"use strict";cc._RF.push(e,"85d47+7tLFCFrRdu251EOZH","Example_Curve"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Curve/index_Curve"),o=t("../../System/script/Mathf"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.time=0,e.timeMax=5,e}return __extends(e,t),e.prototype.start=function(){this.curve=n.CurveData.create({points:[{pos:[0,-200],easeOut:[25,0],easeType:["weighted"]},{pos:[50,200],easeIn:[-25,0]}],length:2})},e.prototype.update=function(t){if(this.time<=this.timeMax){var e=this.curve.getVal(this.time);this.target.y=e,cc.log("time["+this.time+"] : "+this.target.y),this.time==this.timeMax&&(this.time=this.timeMax+99),this.time=o.Mathf.moveToward(this.time,this.timeMax,t)}},__decorate([a(cc.Node)],e.prototype,"target",void 0),e=__decorate([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{"../../Curve/index_Curve":"index_Curve","../../System/script/Mathf":"Mathf"}],Example_EventBus:[function(t,e,i){"use strict";cc._RF.push(e,"c4930qxLjdMj63QagtKmSVF","Example_EventBus"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=n.EventBus.get();t.register("onDone",new n.EventListener(function(t){cc.log("onDone called 3: "+t)}).pry(1).name("A")),t.register("onDone",new n.EventListener(function(t){cc.log("onDone called 1: "+t)}).pry(3).name("A")),t.register("onDone",new n.EventListener(function(t){cc.log("onDone called 2: "+t)}).pry(2).name("B")),t.registerAny(new n.EventListener(function(t,e){cc.log("onAny called: "+e)}).pry(2).name("B")),t.post("onDone","msg is here"),t.unregisterID("A"),t.post("onDone","after unregister A"),t.unregisterTag("onDone"),t.post("onDone","after unregister onDone"),t.unregisterID("B"),t.post("onDone","after unregister B")},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.Example_EventBus=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Event:[function(t,e,i){"use strict";cc._RF.push(e,"8d1c9f4bklCK6x3BfsLxsX5","Example_Event"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=new n.Event;t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log(t.data.msg),cc.log(t.args[0]+" | "+e[0]),t.data.msg="\u8986\u84cb\u5f8c\u7684\u8cc7\u6599A",t.args[0]="\u8986\u84cb\u5f8c\u7684\u53c3\u65781"}).sort(1)),t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log(t.data.msg),cc.log(t.args[0]+" | "+e[0])}).sort(5)),t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log("=================================")}).sort(10)),t.data.msg="\u9810\u8a2d\u8cc7\u6599A",t.args.push("\u9810\u8a2d\u53c3\u65781"),t.call(),n.Invoker.once(function(){t.callData({msg:"\u547c\u53eb\u8cc7\u6599A"},"\u547c\u53eb\u53c3\u65781")},5),t.add(new n.EventListener(function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];cc.log("\u7b49\u50195\u79d2"),t.wait(),n.Invoker.once(function(){t.next()},5)}).sort(3))},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.Example_Event=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Invoker:[function(t,e,i){"use strict";cc._RF.push(e,"ab8fcJ6Oj1EoY8MGR7RqoFN","Example_Invoker"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=n.Invoker.update(function(){cc.log("updating")});n.Invoker.once(function(){cc.log("after 5 sec"),n.Invoker.stop(t)},5),(new n.InvokerQueue).add(function(){cc.log(2)},30).add(function(){cc.log(3)},10).add(function(){cc.log(1)},50).run()},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Reel:[function(t,e,i){"use strict";cc._RF.push(e,"76f66Bdj1hC2ZWnBLPIePTf","Example_Reel"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../uzil/Uzil"),o=t("./index_Reel"),r=t("../Slot/index_Slot"),s=t("./script/ReelConst"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSpinning=!1,e.reelContainer=null,e.pass3d=null,e.spinBtnText=null,e.turboBtn=null,e.isTurboMode=!1,e.autoBtn=null,e.isAuto=!1,e.isAutoSpinning=!1,e.display3DBtn=null,e.is3DMode=!1,e.viewPass3DList=[],e.langs=["cn","en"],e._lang="cn",e.sameResultBtn=null,e._isSameResult=!1,e.resultTarget=[[-1,0,1],[-1,0,1],[-1,0,1],[-1,0,1],[-1,0,1]],e.nextSpinIdx=0,e.nextStopIdx=0,e.stopCols=[],e._lastStopCols=[],e.isForceAllStopping=!1,e.worldPosTestLocator=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"strip",{get:function(){return r.SlotStrip.mainGame},enumerable:!0,configurable:!0}),e.prototype.start=function(){var t=this,e=this,i=this.reelContainer;i.setStrip(this.strip),this._reset(),i.setPos(this.stopCols),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){if(e.keyCode==cc.macro.KEY.a)for(var i=0,n=t.reelContainer.reels;i<n.length;i++){var o=n[i].getReelRow().view;if(3==o.showPasses.length){o.showPasses.push(t.pass3d);break}}e.keyCode==cc.macro.KEY.space&&t.onEachSpinBtnClick()},this),i.onAllStopDone.add(function(){for(var o=[],s=[],a=i.getResultSymbols(e.resultTarget,e.stopCols),c=0;c<a.length;c++){for(var u=[],p=a[c],l=0;l<a.length;l++){var h=r.SymbolCode[p[l]];u.push(h),1==l&&s.push(h)}o.push(u)}if(cc.log("result:"),cc.log(s),e.isSpinning=!1,e.isAuto){var d=t.isTurboMode?.25:1;n.Invoker.once(function(){e._reset(),e._startSpin()},d).tag("spinAgain")}});for(var o=0,s=!0,a=i.getColWorldPos(i.getResultCols(this.resultTarget)),c=0;c<a.length&&s;c++)for(var u=a[c],p=0;p<u.length;p++){var l=u[p];if(o>=this.worldPosTestLocator.length){s=!1;break}var h=this.worldPosTestLocator[o],d=h.parent.convertToNodeSpaceAR(l);h.setPosition(d),o++}},e.prototype.update=function(t){},e.prototype.onSpinBtnClick=function(){var t=this,e=this.reelContainer,i=e.reels[0],n=e.reels[e.reels.length-1];this.isAuto&&this.isAutoSpinning?this._setAuto(!1):i.state==s.ReelState.IDLE&&n.state==s.ReelState.IDLE?(this._reset(),this._startSpin()):this.isForceAllStopping||(this.isForceAllStopping=!0,e.onAllStopDone.addOnce(function(){t.isForceAllStopping=!1}),this._startStop())},e.prototype.onEachSpinBtnClick=function(){var t=this.reelContainer;this.isSpinning||this._reset(),this.nextSpinIdx<t.reels.length?this._spinNext():this.nextStopIdx<t.reels.length&&this._stopNext()},e.prototype.onTurboBtnClick=function(){this.isTurboMode=!this.isTurboMode,this.isTurboMode?this.turboBtn.target.color=cc.Color.GRAY:this.turboBtn.target.color=cc.Color.WHITE},e.prototype.onAutoBtnClick=function(){this._setAuto(!this.isAuto)},e.prototype.on3DBtnClick=function(){this.is3DMode=!this.is3DMode,this.is3DMode?this.display3DBtn.target.color=cc.Color.GRAY:this.display3DBtn.target.color=cc.Color.WHITE;for(var t=0,e=this.viewPass3DList;t<e.length;t++){e[t].isEnabled=this.is3DMode,this.reelContainer.render()}},e.prototype.oni18nBtnClick=function(){var t=n.Mathf.loop(this.langs.indexOf(this._lang)+1,0,this.langs.length-1);this._lang=this.langs[t],n.i18n.setLanguage(this._lang)},e.prototype.onSameResultBtnClick=function(){this._isSameResult=!this._isSameResult,this._isSameResult?this.sameResultBtn.target.color=cc.Color.GRAY:this.sameResultBtn.target.color=cc.Color.WHITE},e.prototype._setAuto=function(t){this.isAuto=t,this.isAuto||(n.Invoker.cancel("spinAgain"),this.isAutoSpinning=!1,this.spinBtnText.string="Spin"),this.isAuto?this.autoBtn.target.color=cc.Color.GRAY:this.autoBtn.target.color=cc.Color.WHITE},e.prototype._spinNext=function(){var t=this.reelContainer;this.nextSpinIdx>t.reels.length-1||(t.reels[this.nextSpinIdx].spin(),this.isSpinning=!0,this.nextSpinIdx++)},e.prototype._stopNext=function(){var t=this.reelContainer;if(!(this.nextStopIdx>t.reels.length-1)){var e=t.reels[this.nextStopIdx],i=this.stopCols[this.nextStopIdx];e.stop(i),this.nextStopIdx++}},e.prototype._startSpin=function(){var t=this,e=this.reelContainer.reels[0];this._spinAll(.1),this.isSpinning=!0,this.isAuto&&(this.isAutoSpinning=!0,this.spinBtnText.string="Stop"),0==this.isTurboMode?n.Invoker.once(function(){e.state==s.ReelState.ROLLING&&t._stopAll(.5)},1.2).tag("autoStop"):n.Invoker.once(function(){e.state==s.ReelState.ROLLING&&t._stopAll(0)},0).tag("autoStop")},e.prototype._startStop=function(){var t=this.reelContainer;n.Invoker.cancel("autoStop"),n.Invoker.cancel("eachStop"),0==this.isTurboMode?this._stopAll(0):(t.setPos(this.stopCols),t.stop(this.stopCols,0,!0))},e.prototype._spinAll=function(t){for(var e=this.reelContainer,i=function(i){var o=e.reels[i];n.Invoker.once(function(){o.spin()},i*t).tag("eachSpin")},o=0;o<e.reels.length;o++)i(o)},e.prototype._stopAll=function(t){var e=this.reelContainer,i=!1,o=0;n.Invoker.cancel("eachSpin");for(var r=function(r){var c=e.reels[r];if(i)c.state==s.ReelState.IDLE&&c.spin(),o++;else{if(c.state==s.ReelState.IDLE)return"continue";i=!0,o++}var u=a.stopCols[r];n.Invoker.once(function(){c.stop(u)},(o-1)*t).tag("eachStop")},a=this,c=0;c<e.reels.length;c++)r(c)},e.prototype._reset=function(){this.nextSpinIdx=0,this.nextStopIdx=0,this._isSameResult||(this.stopCols=this._getRandomStopCols())},e.prototype._getRandomStopCols=function(){for(var t=[],e=0;e<this.strip.length;e++){var i=this.strip[e],o=new n.RandomRange(0,i.length-1).getInt();t.push(o)}return t},__decorate([u(o.ReelContainer)],e.prototype,"reelContainer",void 0),__decorate([u(o.ReelRowViewPass)],e.prototype,"pass3d",void 0),__decorate([u(cc.Label)],e.prototype,"spinBtnText",void 0),__decorate([u(cc.Button)],e.prototype,"turboBtn",void 0),__decorate([u(cc.Button)],e.prototype,"autoBtn",void 0),__decorate([u(cc.Button)],e.prototype,"display3DBtn",void 0),__decorate([u(o.ReelRowViewPass)],e.prototype,"viewPass3DList",void 0),__decorate([u(cc.Button)],e.prototype,"sameResultBtn",void 0),__decorate([u(cc.Node)],e.prototype,"worldPosTestLocator",void 0),e=__decorate([c],e)}(cc.Component);i.default=p,cc._RF.pop()},{"../../uzil/Uzil":"Uzil","../Slot/index_Slot":"index_Slot","./index_Reel":"index_Reel","./script/ReelConst":"ReelConst"}],Example_Shuriken:[function(t,e,i){"use strict";cc._RF.push(e,"fd22b49MSNMM5zz2dFATWM3","Example_Shuriken"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.root=null,e.shuriken=new n.ShurikenSystem,e}return __extends(e,t),e.prototype.start=function(){this.shuriken.container=this.root,this.shuriken.shurikenSource=this.prefab,this.shuriken.emitter=new n.ShurikenEmitter_Base,this.shuriken.start()},e.prototype.update=function(t){},__decorate([s(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([s(cc.Node)],e.prototype,"root",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../../Uzil":"Uzil"}],InvokerQueueTask:[function(t,e,i){"use strict";cc._RF.push(e,"8dcd32QwMtEJpwE+EZkRGXn","InvokerQueueTask"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.func=function(){cc.log("do something")},this.priority=0,this.tags=[]}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t}();i.InvokerQueueTask=n,cc._RF.pop()},{}],InvokerQueue:[function(t,e,i){"use strict";cc._RF.push(e,"fd256Tg6YVN+6Ca1PxaB1mD","InvokerQueue"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Invoker"),o=function(){function t(){this.taskList=[]}return t.prototype.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=this.taskList.slice();i<n.length;i++){var o=n[i];-1!=this.taskList.indexOf(o)&&o.call.apply(o,t)}},t.prototype.add=function(t,e){var i=new n.InvokerQueueTask;return i.func=t,i.priority=e,this.taskList.push(i),this.sort(),this},t.prototype.remove=function(t){var e=this.taskList.indexOf(t);-1!=e&&this.taskList.splice(e,1)},t.prototype.removeTag=function(t){for(var e=[],i=0,n=this.taskList;i<n.length;i++){-1!=(s=n[i]).tags.indexOf(t)&&e.push(s)}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.remove(s)}},t.prototype.sort=function(){this.taskList.sort(function(t,e){return e.priority-t.priority})},t}();i.InvokerQueue=o,cc._RF.pop()},{"../index_Invoker":"index_Invoker"}],InvokerTask:[function(t,e,i){"use strict";cc._RF.push(e,"de182UzwXVBMIsYlMvBVGOm","InvokerTask"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.func=function(){cc.log("do something")},this.time=0,this.tags=[]}return t.prototype.call=function(){this.func()},t.prototype.tag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var i=0,n=e;i<n.length;i++){var o=n[i];-1==this.tags.indexOf(o)&&this.tags.push(o)}return this},t.prototype.untag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var i=0,n=e;i<n.length;i++){var o=n[i],r=this.tags.indexOf(o);-1!=r&&this.tags.splice(r,1)}return this},t}();i.InvokerTask=n,cc._RF.pop()},{}],InvokerUpdateTask:[function(t,e,i){"use strict";cc._RF.push(e,"fefe7NO+KtM4aqCFVL67NNh","InvokerUpdateTask"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.func=function(t){cc.log("do something")},this.tags=[]}return t.prototype.call=function(t){this.func(t)},t.prototype.tag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var i=0,n=e;i<n.length;i++){var o=n[i];-1==this.tags.indexOf(o)&&this.tags.push(o)}return this},t.prototype.untag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var i=0,n=e;i<n.length;i++){var o=n[i],r=this.tags.indexOf(o);-1!=r&&this.tags.splice(r,1)}return this},t}();i.InvokerUpdateTask=n,cc._RF.pop()},{}],Invoker:[function(t,e,i){"use strict";cc._RF.push(e,"9c06bja4aZPk4k5I1pxjru+","Invoker"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=t("../index_Invoker"),r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskList=[],e.updateTaskList=[],e}var i;return __extends(e,t),i=e,e.getInstance=function(){return n.Uzil.getComp("Invoker")},e.once=function(t,e){return i.getInstance().invoke(t,e)},e.cancel=function(t){"string"==typeof t?i.getInstance().cancelInvokeTag(t):t instanceof o.InvokerTask&&i.getInstance().cancelInvoke(t)},e.update=function(t){return i.getInstance().invokeUpdate(t)},e.stop=function(t){"string"==typeof t?i.getInstance().cancelUpdateTag(t):t instanceof o.InvokerUpdateTask&&i.getInstance().cancelUpdate(t)},e.prototype.start=function(){},e.prototype.update=function(t){for(var e=this._getTime(),i=0,n=this.taskList.slice();i<n.length;i++){var o=n[i];-1!=this.taskList.indexOf(o)&&(e<o.time||(o.call(),this.cancelInvoke(o)))}for(var r=0,s=this.updateTaskList.slice();r<s.length;r++){o=s[r];-1!=this.updateTaskList.indexOf(o)&&o.call(t)}},e.prototype.invoke=function(t,e){var i=new o.InvokerTask;return i.func=t,i.time=this._getTime()+e,this.taskList.push(i),i},e.prototype.cancelInvoke=function(t){var e=this.taskList.indexOf(t);-1!=e&&this.taskList.splice(e,1)},e.prototype.cancelInvokeTag=function(t){for(var e=[],i=0,n=this.taskList;i<n.length;i++){-1!=(s=n[i]).tags.indexOf(t)&&e.push(s)}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.cancelInvoke(s)}},e.prototype.invokeUpdate=function(t){var e=new o.InvokerUpdateTask;return e.func=t,this.updateTaskList.push(e),e},e.prototype.cancelUpdate=function(t){var e=this.updateTaskList.indexOf(t);-1!=e&&this.updateTaskList.splice(e,1)},e.prototype.cancelUpdateTag=function(t){for(var e=[],i=0,n=this.updateTaskList;i<n.length;i++){-1!=(s=n[i]).tags.indexOf(t)&&e.push(s)}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.cancelUpdate(s)}},e.prototype._getTime=function(){return n.Time.time},e=i=__decorate([s],e)}(cc.Component));i.Invoker=a,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Invoker":"index_Invoker"}],Mathf:[function(t,e,i){"use strict";cc._RF.push(e,"c097fK6CldAxpoREmsiW2+t","Mathf"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.toVec2=function(t){return t instanceof cc.Vec3?new cc.Vec2(t.x,t.y):"number"==typeof t?new cc.Vec2(t,t):void 0},t.toVec3=function(t){return t instanceof cc.Vec2?new cc.Vec3(t.x,t.y,0):"number"==typeof t?new cc.Vec3(t,t,t):void 0},t.clamp=function(t,e,i){return t<e?e:t>i?i:t},t.lerp=function(t,e,i){return t+(e-t)*i},t.lerpV2=function(t,e,i){return t.add(e.sub(t).mul(i))},t.moveToward=function(t,e,i){var n=e-t,o=Math.abs(n);if(0==n)return t;var r=t+(n>0?1:-1)*Math.min(i,o);return isNaN(r)?0:r},t.moveTowardV2=function(t,e,i){if(0==i)return t;var n=e.sub(t),o=n.mag();o&&1!=o&&(n=n.normalize());var r=n.mul(Math.min(i,o));return t.add(r)},t.rotateToward=function(e,i,n){var o=t.validAngle(e),r=t.validAngle(i);if(o==r)return i;var s=r-o,a=r+(r>o?-360:360)-o,c=Math.abs(s),u=Math.abs(a),p=0,l=!1;return c<u?(p=c,l=s>0):(p=u,l=a>0),e+(l?1:-1)*Math.min(p,n)},t.validAngle=function(t){for(;t<0;)t+=360;for(;t>360;)t-=360;return t},t.angleToVec2=function(t){var e=cc.misc.degreesToRadians(t);return new cc.Vec2(Math.sin(e),Math.cos(e))},t.angleDelta=function(t,e,i){if(void 0===i&&(i=!0),e==t)return 0;if(360==Math.abs(e-t))return 360;var n=0,o=0;return i?(n=t%360,o=e%360):(o=t%360,n=e%360),n==o?0:(o<n&&(o+=360),o-n)},t.loop=function(t,e,i){var n,o;e<i?(n=e,o=i):(n=i,o=e);var r=o-n+1,s=t;return t<e?s=o-Math.abs((t-o)%r):t>i&&(s=n+Math.abs((t-n)%r)),s},t.min=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var n=0,o=e;n<o.length;n++){var r=o[n];(r<t||!t)&&(t=r)}return t},t.max=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var n=0,o=e;n<o.length;n++){var r=o[n];(r>t||!t)&&(t=r)}return t},t}();i.Mathf=n;var o=function(){function t(t,e){void 0===e&&(e=void 0),this.min=0,this.max=void 0,e?this.set([t,e]):this.set(t)}return t.prototype.set=function(t){return"number"==typeof t?(this.min=0,this.max=t):t instanceof Array&&t.length>=2&&(this.min=t[0],this.max=t[1]),this},t.prototype.get=function(){return this.random()},t.prototype.getInt=function(){return Math.floor(this.random())},t.prototype.random=function(){return this.min==this.max?this.min:Math.random()*(this.max-this.min+1)+this.min},t}();i.RandomRange=o,cc._RF.pop()},{}],ObjPool:[function(t,e,i){"use strict";cc._RF.push(e,"b29baIYcz5EBKycYlX7hglv","ObjPool"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.poolStack=[],this.instanceList=[],this.maxCount=-1}return t.prototype.init=function(t){for(var e=0;e<t;e++)this.poolStack.push(this.create())},t.prototype.request=function(t){var e;return e=this.poolStack.length>0?this.poolStack.pop():this.create(),this.instanceList.push(e),this.enableObj(e,t),e},t.prototype.recovery=function(t){var e=this.instanceList.indexOf(t);-1!=e&&this.instanceList.splice(e,1),-1!=this.maxCount&&this.poolStack.length>=this.maxCount?(this.disableObj(t),this.destroy(t)):(this.poolStack.push(t),this.disableObj(t))},t}();i.ObjPool=n,cc._RF.pop()},{}],Objf:[function(t,e,i){"use strict";cc._RF.push(e,"8c6a8/oQbFDL4XDOZjtM11P","Objf"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.clone=function(t){return this.assign({},t)},t.assign=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0;n<e.length;n++){var o=e[n];if(o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},t}();i.Objf=n,cc._RF.pop()},{}],PageCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"4927fmBK+lBkoGoxTpe6b6j","PageCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=(n.property,function(){function t(){this.scope="",this.pages=[],this.cards=[]}var e;return e=t,t.get=function(t){return void 0===t&&(t=""),this.getInstance(t)},t.getInstance=function(t){void 0===t&&(t="");var i=this._instance[t];return i||((i=new e).scope=t,this._instance[t]=i),i},t.prototype.registerPage=function(t){-1==this.pages.indexOf(t)&&this.pages.push(t)},t.prototype.registerCard=function(t){-1==this.cards.indexOf(t)&&(this.cards.push(t),t.deactive())},t.prototype.getPages=function(t){for(var e=[],i=0,n=this.pages;i<n.length;i++){var o=n[i];o.id==t&&e.push(o)}return 0==e.length?null:e},t.prototype.getCards=function(t){for(var e=[],i=0,n=this.cards;i<n.length;i++){var o=n[i];o.id==t&&e.push(o)}return 0==e.length?null:e},t.prototype.GoPage=function(t){var e=this._getCardIDsInPage(t);cc.log("toShow:"),cc.log(e),cc.log(this.cards);for(var i=0,n=this.cards;i<n.length;i++){var o=n[i];-1!=e.indexOf(o.id)?o.active():o.deactive()}},t.prototype.ShowPage=function(t){for(var e=this._getCardIDsInPage(t),i=0,n=this.cards;i<n.length;i++){var o=n[i];-1!=e.indexOf(o.id)&&o.active()}},t.prototype.HidePage=function(t){for(var e=this._getCardIDsInPage(t),i=0,n=this.cards;i<n.length;i++){var o=n[i];-1!=e.indexOf(o.id)&&o.deactive()}},t.prototype.activeCard=function(t,e){void 0===e&&(e=!1);for(var i=0,n=this.getCards(t);i<n.length;i++){n[i].active(e)}},t.prototype.deactiveCard=function(t,e){void 0===e&&(e=!1);for(var i=0,n=this.getCards(t);i<n.length;i++){n[i].deactive(e)}},t.prototype._getCardIDsInPage=function(t){for(var e=[],i=0,n=this.pages;i<n.length;i++){var o=n[i];if(o.id==t)for(var r=0,s=o.cards;r<s.length;r++){var a=s[r];-1==e.indexOf(a)&&e.push(a)}}return e},t._instance={},t=e=__decorate([o],t)}());i.PageCtrl=r,cc._RF.pop()},{}],Page:[function(t,e,i){"use strict";cc._RF.push(e,"1a61aQHCB5Ia43/gy7Kytbc","Page"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_PageCard"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="_anonymous",e.scopes=[],e.cards=[],e}return __extends(e,t),e.prototype.onLoad=function(){if(0==this.scopes.length)n.PageCtrl.getInstance().registerPage(this);else for(var t=0,e=this.scopes;t<e.length;t++){var i=e[t];n.PageCtrl.getInstance(i).registerPage(this)}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.init=function(){},e.prototype._onActive=function(){},e.prototype._onDeactive=function(){},__decorate([s()],e.prototype,"id",void 0),__decorate([s({type:cc.String})],e.prototype,"scopes",void 0),__decorate([s({type:cc.String})],e.prototype,"cards",void 0),e=__decorate([r],e)}(cc.Component);i.Page=a,cc._RF.pop()},{"../index_PageCard":"index_PageCard"}],PointData:[function(t,e,i){"use strict";var n;cc._RF.push(e,"3dbbfLKnGxAVraIDvJZCiVC","PointData"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.free=0]="free",t[t.linear=1]="linear",t[t.constant=2]="constant",t[t.weighted=3]="weighted"}(n=i.EaseType||(i.EaseType={}));var o=function(){function t(){this.pos=cc.Vec2.ZERO,this.easeIn=cc.Vec2.ZERO,this.easeOut=cc.Vec2.ZERO,this.easeType=[n.weighted]}return t.create=function(e){var i=new t;if(e.hasOwnProperty("pos")){var o=e.pos;i.pos=t.arrayToV2(o)}if(e.hasOwnProperty("easeIn")){var r=e.easeIn;i.easeIn=t.arrayToV2(r)}if(e.hasOwnProperty("easeOut")){var s=e.easeOut;i.easeOut=t.arrayToV2(s)}if(e.hasOwnProperty("easeType")){for(var a=[],c=0,u=e.easeType;c<u.length;c++){var p=u[c];a.push(n[p])}i.easeType=a}return i},t.json=function(e){var i=JSON.parse(e);return i?t.create(i):null},t.arrayToV2=function(t){return new cc.Vec2(t[0],t[1])},t.prototype.getEaseInType=function(){return this.easeType[0]},t.prototype.getEaseOutType=function(){return 1==this.easeType.length?this.easeType[0]:2==this.easeType.length?this.easeType[1]:void 0},t}();i.PointData=o,cc._RF.pop()},{}],ReelColData:[function(t,e,i){"use strict";cc._RF.push(e,"790c0nrp3hFsK9EmyrHNL5s","ReelColData"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Slot/index_Slot"),o=function(){function t(){this.idx=-1,this.symbol=n.SymbolCode.NONE,this.pos=0,this.extraCols=[],this.isExtraFullReplaceOthers=!0,this.displayLayer=0}return t.prototype.getExtraPoses=function(){for(var t=[],e=0,i=this.extraCols;e<i.length;e++){var n=i[e];t.push(this.pos+n)}return t},t}();i.ReelColData=o,cc._RF.pop()},{"../../Slot/index_Slot":"index_Slot"}],ReelColObj:[function(t,e,i){"use strict";cc._RF.push(e,"72337iMloRMP6WniuT3FejS","ReelColObj"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Slot/index_Slot"),o=t("../../../uzil/i18n/script/i18nSpriteExt"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e._spID="",e.sprite=null,e.spriteExt=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setPosition=function(t){this.node.setPosition(t)},e.prototype.getPosition=function(){return this.node.position},e.prototype.getWorldPosition=function(){return this.node.parent.convertToWorldSpaceAR(this.node.position)},e.prototype.setScale=function(t){this.node.setScale(t)},e.prototype.setSkew=function(t){this.node.skewX=t.x,this.node.skewY=t.y},e.prototype.setActive=function(t){this.node.active=t},e.prototype.setSymbol=function(t,e){if(void 0===e&&(e=!1),e||!this.node.active){var i=n.SymbolRes.Get(t);this.spriteExt.set(i)}},__decorate([a(cc.Sprite)],e.prototype,"sprite",void 0),__decorate([a(o.default)],e.prototype,"spriteExt",void 0),e=__decorate([s],e)}(cc.Component);i.ReelColObj=c,cc._RF.pop()},{"../../../uzil/i18n/script/i18nSpriteExt":"i18nSpriteExt","../../Slot/index_Slot":"index_Slot"}],ReelConst:[function(t,e,i){"use strict";cc._RF.push(e,"331ee+aGo9ALYEUi8muwrrh","ReelConst"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.IDLE=0]="IDLE",t[t.ROLLING=1]="ROLLING",t[t.STOPPING=2]="STOPPING"}(i.ReelState||(i.ReelState={})),function(t){t[t.IDLE=0]="IDLE",t[t.EASEIN=1]="EASEIN",t[t.ROLLING=2]="ROLLING",t[t.EASESTOP=3]="EASESTOP"}(i.ReelRollState||(i.ReelRollState={})),function(t){t[t.NONE=0]="NONE",t[t.WAIT=1]="WAIT",t[t.ANIM=2]="ANIM"}(i.ReelStopState||(i.ReelStopState={})),cc._RF.pop()},{}],ReelContainer:[function(t,e,i){"use strict";cc._RF.push(e,"29547D8oG1IcbjjoxX46H/K","ReelContainer"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=t("../index_Reel"),r=t("./ReelConst"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reels=[],e.onSpin=new n.Event,e.onAllSpin=new n.Event,e.onStop=new n.Event,e.onStopDone=new n.Event,e.onAllStopDone=new n.Event,e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=this,e=this,i=function(i,n){e.onSpin.call(i,n);for(var o=0,s=t.reels;o<s.length;o++){if(s[o].state==r.ReelState.IDLE)return}e.onAllSpin.call()},n=function(t){var e=o.reels[t],n=t,r=e;e.onSpin.add(function(){i(n,r)})},o=this,s=0;s<this.reels.length;s++)n(s);var a=function(i,n){e.onStopDone.call(i,n);for(var o=0,s=t.reels;o<s.length;o++){if(s[o].state!=r.ReelState.IDLE)return}e.onAllStopDone.call(),cc.log("[ReelContainer]: AllStop on ",i)},c=function(t){var i=u.reels[t],n=t,o=i;i.onStop.add(function(){e.onStop.call(n,o)}),i.onStopDone.add(function(){a(n,o)})},u=this;for(s=0;s<this.reels.length;s++)c(s)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.getReel=function(t){return t<0||t>this.reels.length-1?null:this.reels[t]},e.prototype.setStrip=function(t){for(var e=n.Mathf.min(t.length,this.reels.length),i=0;i<e;i++){var o=this.reels[i],r=t[i];o&&r&&o.setStrip(r)}},e.prototype.setPos=function(t){for(var e=n.Mathf.min(this.reels.length,t.length),i=0;i<e;i++)this.reels[i].setPos(t[i])},e.prototype.spin=function(t){var e=this.getReel(t);e&&e.spin()},e.prototype.stop=function(t,e,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=null),!(t<0||t>this.reels.length-1)){var o=this.reels[t];o.stop(e),n&&o.onStopDone.addOnce(function(){n()})}},e.prototype.pause=function(){for(var t=0,e=this.reels;t<e.length;t++){e[t].pause()}},e.prototype.resume=function(){for(var t=0,e=this.reels;t<e.length;t++){e[t].resume()}},e.prototype.getColWorldPos=function(t){for(var e=[],i=n.Mathf.min(t.length,this.reels.length),o=0;o<i;o++){for(var r=[],s=t[o],a=this.reels[o],c=0,u=s;c<u.length;c++){var p=u[c],l=a.getColWorldPos(p);r.push(l)}e.push(r)}return e},e.prototype.getResultCols=function(t,e){void 0===e&&(e=null);for(var i=[],o=e,r=n.Mathf.min(o.length,this.reels.length,t.length),s=0;s<r;s++){var a=null,c=t[s],u=null;null!=o&&(u=o[s]);var p=this.reels[s];p&&(a=p.getResultCols(c,u)),i.push(a)}return i},e.prototype.getResultSymbols=function(t,e){void 0===e&&(e=null);for(var i=e,o=[],r=n.Mathf.min(i.length,this.reels.length,t.length),s=0;s<r;s++){var a=void 0,c=t[s],u=null;null!=i&&(u=i[s]);var p=this.reels[s];p&&(a=p.getResultSymbols(c,u)),o.push(a)}return o},e.prototype.getStopCols=function(){for(var t=[],e=0,i=this.reels;e<i.length;e++){var n=i[e];t.push(n.getStopCol())}return t},e.prototype.render=function(){for(var t=0,e=this.reels;t<e.length;t++){e[t].render()}},__decorate([c(o.ReelObj)],e.prototype,"reels",void 0),e=__decorate([a],e)}(cc.Component);i.ReelContainer=u,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_Reel":"index_Reel","./ReelConst":"ReelConst"}],ReelCtrlState_Auto:[function(t,e,i){"use strict";cc._RF.push(e,"347b73ajPlP2qkr5q9ewKHK","ReelCtrlState_Auto"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._reelCtrl=null,e.eventName="regFrom_state_auto",e.spinReelDelay_sec=.1,e.spinDuring_sec=2,e.autoStopReelDelay_sec=.5,e.autoReSpinDelay_sec=1,e.manualStopReelDelay_sec=0,e.spinBtn=null,e.stopBtn=null,e.autoBtn=null,e}return __extends(e,t),e.prototype._init=function(t){this._reelCtrl=t},e.prototype._onEnter=function(){var t=this,e=this._reelCtrl.reelContainer,i=this._reelCtrl;this.autoBtn.target.color=cc.Color.GRAY,i.onSpinBtn.add(function(){i.isSpinning||(i.turnSpinning(),i.lockState(),i.lockInput({with:["spin","auto","turbo"]}),i.switchToStopable(),t._spinAll(t.spinReelDelay_sec))}).name(this.eventName),i.onStopBtn.add(function(){i.isSpinning&&(t._stopAll(t.manualStopReelDelay_sec),i.turnManualStop(!0),i.lockInput({with:["stop"]}),e.onAllStopDone.addOnce(function(){i.switchToSpinable(),i.lockInput({without:["stop","spin","auto","turbo"]}),i.isAuto=!1,i.unlockState(),t.spinBtn.node.active=!0})),n.Invoker.cancel("_autoStop"),n.Invoker.cancel("_autoReSpin"),e.onAllStopDone.remove("_autoReSpin")}).name(this.eventName)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._reelCtrl.onSpinBtn.remove(this.eventName),this._reelCtrl.onStopBtn.remove(this.eventName),this.autoBtn.target.color=cc.Color.WHITE},e.prototype._spinAll=function(t){var e=this;this._reelCtrl.spinAll(this.spinReelDelay_sec),n.Invoker.once(function(){e._stopAll(e.autoStopReelDelay_sec),e._reelCtrl.reelContainer.onAllStopDone.addOnce(function(){n.Invoker.once(function(){e._spinAll(t)},e.autoReSpinDelay_sec).tag("_autoReSpin")}).name("_autoReSpin")},e.spinDuring_sec).tag("_autoStop")},e.prototype._stopAll=function(t){for(var e=this._reelCtrl.reelContainer,i=0;i<e.reels.length;i++)0==this._reelCtrl.isReelSpinning(i)&&this._reelCtrl.isReelInSpinTask(i)&&this._reelCtrl.spin(i,0);this._reelCtrl.stopAll(t)},__decorate([s()],e.prototype,"spinReelDelay_sec",void 0),__decorate([s()],e.prototype,"spinDuring_sec",void 0),__decorate([s()],e.prototype,"autoStopReelDelay_sec",void 0),__decorate([s()],e.prototype,"autoReSpinDelay_sec",void 0),__decorate([s()],e.prototype,"manualStopReelDelay_sec",void 0),__decorate([s(cc.Button)],e.prototype,"spinBtn",void 0),__decorate([s(cc.Button)],e.prototype,"stopBtn",void 0),__decorate([s(cc.Button)],e.prototype,"autoBtn",void 0),e=__decorate([r],e)}(n.State);i.ReelCtrlState_Auto=a,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],ReelCtrlState_Normal:[function(t,e,i){"use strict";cc._RF.push(e,"643b1eDuTxFrrADzv1HpA5R","ReelCtrlState_Normal"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._reelCtrl=null,e.eventName="regFrom_state_normal",e.spinReelDelay_sec=.1,e.spinDuring_sec=2,e.autoStopReelDelay_sec=.5,e.manualStopReelDelay_sec=0,e.spinBtn=null,e.stopBtn=null,e}return __extends(e,t),e.prototype._init=function(t){this._reelCtrl=t},e.prototype._onEnter=function(){var t=this,e=this._reelCtrl.reelContainer,i=this._reelCtrl;cc.log("reg"),i.onSpinBtn.add(function(){i.isSpinning||(i.turnSpinning(),i.lockState(),i.lockInput({with:["spin","auto","turbo"]}),i.spinAll(t.spinReelDelay_sec),n.Invoker.once(function(){t._stopAll(t.autoStopReelDelay_sec)},t.spinDuring_sec).tag("_autoStop"),i.switchToStopable(),e.onAllStopDone.addOnce(function(){i.switchToSpinable(),i.lockInput({without:["spin","auto","turbo"]}),t._reelCtrl.unlockState()}))}).name(this.eventName),this._reelCtrl.onStopBtn.add(function(){0!=t._reelCtrl.isSpinning&&(t._stopAll(t.manualStopReelDelay_sec),t._reelCtrl.turnManualStop(!0),t._reelCtrl.switchToSpinable(),e.onAllStopDone.addOnce(function(){t.stopBtn.interactable=!0,t._reelCtrl.unlockState()}),n.Invoker.cancel("_autoStop"))}).name(this.eventName)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._reelCtrl.onSpinBtn.remove(this.eventName),this._reelCtrl.onStopBtn.remove(this.eventName)},e.prototype._stopAll=function(t){for(var e=this._reelCtrl.reelContainer,i=0;i<e.reels.length;i++)0==this._reelCtrl.isReelSpinning(i)&&this._reelCtrl.isReelInSpinTask(i)&&this._reelCtrl.spin(i,0);this._reelCtrl.stopAll(t)},__decorate([s()],e.prototype,"spinReelDelay_sec",void 0),__decorate([s()],e.prototype,"spinDuring_sec",void 0),__decorate([s()],e.prototype,"autoStopReelDelay_sec",void 0),__decorate([s()],e.prototype,"manualStopReelDelay_sec",void 0),__decorate([s(cc.Button)],e.prototype,"spinBtn",void 0),__decorate([s(cc.Button)],e.prototype,"stopBtn",void 0),e=__decorate([r],e)}(n.State);i.ReelCtrlState_Normal=a,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],ReelCtrlState_TurboAuto:[function(t,e,i){"use strict";cc._RF.push(e,"d9cfbAG9bJPg583o99hDUP4","ReelCtrlState_TurboAuto"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._reelCtrl=null,e._eventName="regFrom_state_turboAuto",e.spinReelDelay_sec=0,e.spinDuring_sec=.2,e.autoStopReelDelay_sec=.1,e.autoReSpinDelay_sec=1,e.turboBtn=null,e.autoBtn=null,e}return __extends(e,t),e.prototype._init=function(t){this._reelCtrl=t},e.prototype._onEnter=function(){var t=this,e=this._reelCtrl.reelContainer,i=this._reelCtrl;this.turboBtn.target.color=cc.Color.GRAY,this.autoBtn.target.color=cc.Color.GRAY,i.onSpinBtn.add(function(){i.isSpinning||(i.turnSpinning(),i.lockState(),i.lockInput({with:["spin","auto","turbo"]}),i.switchToStopable(),t._spinAll(t.spinReelDelay_sec))}).name(this._eventName),i.onStopBtn.add(function(){i.isSpinning&&(i.turnManualStop(!0),i.stopAllNow()),i.lockInput({without:["spin","auto","turbo"]}),i.isAuto=!1,n.Invoker.cancel("_autoStop"),n.Invoker.cancel("_autoReSpin"),e.onAllStopDone.remove("_autoReSpin"),i.switchToSpinable(),i.unlockState()}).name(this._eventName)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._reelCtrl.onSpinBtn.remove(this._eventName),this._reelCtrl.onStopBtn.remove(this._eventName),this.turboBtn.target.color=cc.Color.WHITE,this.autoBtn.target.color=cc.Color.WHITE},e.prototype._spinAll=function(t){var e=this;this._reelCtrl.spinAll(this.spinReelDelay_sec),n.Invoker.once(function(){e._stopAll(e.autoStopReelDelay_sec),e._reelCtrl.reelContainer.onAllStopDone.addOnce(function(){n.Invoker.once(function(){e._spinAll(t)},e.autoReSpinDelay_sec).tag("_autoReSpin")}).name("_autoReSpin")},e.spinDuring_sec).tag("_autoStop")},e.prototype._stopAll=function(t){for(var e=this._reelCtrl.reelContainer,i=0;i<e.reels.length;i++)0==this._reelCtrl.isReelSpinning(i)&&this._reelCtrl.isReelInSpinTask(i)&&this._reelCtrl.spin(i,0);this._reelCtrl.stopAll(t)},__decorate([s()],e.prototype,"spinReelDelay_sec",void 0),__decorate([s()],e.prototype,"spinDuring_sec",void 0),__decorate([s()],e.prototype,"autoStopReelDelay_sec",void 0),__decorate([s()],e.prototype,"autoReSpinDelay_sec",void 0),__decorate([s(cc.Button)],e.prototype,"turboBtn",void 0),__decorate([s(cc.Button)],e.prototype,"autoBtn",void 0),e=__decorate([r],e)}(n.State);i.ReelCtrlState_TurboAuto=a,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],ReelCtrlState_Turbo:[function(t,e,i){"use strict";cc._RF.push(e,"c84b7tpnclIT5d41Xe4/Nni","ReelCtrlState_Turbo"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._reelCtrl=null,e.eventName="regFrom_state_turbo",e.spinReelDelay_sec=0,e.spinDuring_sec=.2,e.autoStopReelDelay_sec=.5,e.turboBtn=null,e}return __extends(e,t),e.prototype._init=function(t){this._reelCtrl=t},e.prototype._onEnter=function(){var t=this,e=this._reelCtrl.reelContainer,i=this._reelCtrl;this.turboBtn.target.color=cc.Color.GRAY,i.onSpinBtn.add(function(){i.isSpinning||(i.turnSpinning(),i.lockState(),i.spinAll(t.spinReelDelay_sec),n.Invoker.once(function(){t._stopAll(t.autoStopReelDelay_sec)},t.spinDuring_sec).tag("_autoStop"),i.switchToStopable(),i.lockInput({with:["spin","auto","turbo"]}),e.onAllStopDone.addOnce(function(){i.switchToSpinable(),i.lockInput({without:["spin","auto","turbo"]}),i.unlockState()}))}).name(this.eventName),i.onStopBtn.add(function(){0!=i.isSpinning&&(i.turnManualStop(!0),i.stopAllNow(),i.unlockState(),n.Invoker.cancel("_autoStop"))}).name(this.eventName)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._reelCtrl.onSpinBtn.remove(this.eventName),this._reelCtrl.onStopBtn.remove(this.eventName),this.turboBtn.target.color=cc.Color.WHITE},e.prototype._stopAll=function(t){for(var e=this._reelCtrl.reelContainer,i=0;i<e.reels.length;i++)0==this._reelCtrl.isReelSpinning(i)&&this._reelCtrl.isReelInSpinTask(i)&&this._reelCtrl.spin(i,0);this._reelCtrl.stopAll(t)},__decorate([s()],e.prototype,"spinReelDelay_sec",void 0),__decorate([s()],e.prototype,"spinDuring_sec",void 0),__decorate([s()],e.prototype,"autoStopReelDelay_sec",void 0),__decorate([s(cc.Button)],e.prototype,"turboBtn",void 0),e=__decorate([r],e)}(n.State);i.ReelCtrlState_Turbo=a,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],ReelCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"337e2gvb61Nr46KZQfF/eUd","ReelCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../../uzil/Uzil"),o=t("../../../Reel/index_Reel"),r=t("../../index_Slot"),s=t("../../../SpinUI/index_SpinUI"),a=cc._decorator,c=a.ccclass,u=a.property,p=(function(){}(),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reelContainer=null,e.spinUI=null,e.stateCtrl=null,e.isSpinning=!1,e.isPause=!1,e.isManualStop=!1,e.stopCols=[],e._nextSpinReelIdx=0,e._waitToSpinTasks=[],e._nextStopReelIdx=0,e._waitToStopTasks=[],e._nextStateID=null,e._isLockState=!1,e._isAuto=!1,e._isTurbo=!1,e.onSpinBtn=new n.Event,e.onStopBtn=new n.Event,e.onTurboBtn=new n.Event,e.onAutoBtn=new n.Event,e.onManualStop=new n.Event,e}return __extends(e,t),Object.defineProperty(e.prototype,"isLockState",{get:function(){return this._isLockState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAuto",{get:function(){return this._isAuto},set:function(t){this._isAuto=t,this.updateState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTurbo",{get:function(){return this._isTurbo},set:function(t){this._isTurbo=t,this.updateState()},enumerable:!0,configurable:!0}),e.prototype.start=function(){var t=this,e=this.reelContainer,i=r.SlotStrip.mainGame;e.setStrip(i);var o=function(){for(var t=[],e=0;e<i.length;e++){var o=i[e],r=new n.RandomRange(0,o.length-1).getInt();t.push(r)}return t};this.stopCols=o(),e.setPos(this.stopCols),e.onStop.add(function(e,i){t.stopCols=o(),t.isManualStop}),this.stateCtrl.init(this),this.spinUI.onSpinClick.add(function(){t.call_onSpinBtnClick()}),this.spinUI.onStopClick.add(function(){t.call_onStopBtnClick()}),this.spinUI.onAutoClick.add(function(){t.call_onAutoClick()}),this.spinUI.onTurboClick.add(function(){t.call_onTurboClick()}),e.onAllStopDone.add(function(){t.isSpinning=!1,t.isManualStop=!1,t._waitToStopTasks.splice(0,t._waitToStopTasks.length)})},e.prototype.update=function(t){var e=t*n.Time.timeScale;if(!this.isPause){for(var i=[],o=0,r=this._waitToSpinTasks.slice();o<r.length;o++){(f=r[o]).delayLeft_sec<=0&&i.push(f),f.delayLeft_sec-=e}for(var s=0,a=i;s<a.length;s++){if(!((f=a[s]).delayLeft_sec>0)){if(this.isPause)return;(m=this.reelContainer.reels[f.reel]).spin();var c=this._waitToSpinTasks.indexOf(f);this._waitToSpinTasks.splice(c,1)}}for(var u=[],p=0,l=this._waitToStopTasks.slice();p<l.length;p++){(f=l[p]).delayLeft_sec<=0&&u.push(f),f.delayLeft_sec-=e}for(var h=0,d=u;h<d.length;h++){var f;if(!((f=d[h]).delayLeft_sec>0)){if(this.isPause)return;for(var _=!1,y=0,v=this._waitToSpinTasks;y<v.length;y++){if(v[y].reel==f.reel){_=!0;break}}if(!_){var m=this.reelContainer.reels[f.reel],g=this.stopCols[f.reel];m.stop(g);c=this._waitToStopTasks.indexOf(f);this._waitToStopTasks.splice(c,1)}}}}},e.prototype.call_onSpinBtnClick=function(){this.onSpinBtn.call()},e.prototype.call_onStopBtnClick=function(){this.onStopBtn.call()},e.prototype.call_onTurboClick=function(){this.isTurbo=!this.isTurbo,this.onTurboBtn.call()},e.prototype.call_onAutoClick=function(){this.isAuto=!this.isAuto,this.onAutoBtn.call()},e.prototype.setStrip=function(t){this.reelContainer.setStrip(t)},e.prototype.spinAll=function(t){void 0===t&&(t=0);for(var e=[],i=0;i<this.reelContainer.reels.length;i++){var n=this.spin(i,i*t);e.push(n)}return e},e.prototype.spin=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=0);var i=t;if(-1==t&&(i=this._nextSpinReelIdx),i<0||i>this.reelContainer.reels.length-1)return null;if(this.reelContainer.reels[i].state!=o.ReelState.IDLE)return null;this._nextSpinReelIdx=i+1;var n={reel:i,delay_sec:e,delayLeft_sec:e};return this.setSpinTask(i,n),this.isSpinning=!0,n},e.prototype.stopAll=function(t){for(var e=[],i=0;i<this.reelContainer.reels.length;i++){var n=this.stop(i,i*t);e.push(n)}return e},e.prototype.stop=function(t,e){var i=t;if(-1==t&&(i=this._nextStopReelIdx),i<0||i>this.reelContainer.reels.length-1)return null;for(var n=this.reelContainer.reels[i],r=!1,s=0,a=this._waitToSpinTasks;s<a.length;s++){if(a[s].reel==i){r=!0;break}}if(n.state!=o.ReelState.ROLLING&&!r)return null;this._nextStopReelIdx=i+1;var c={reel:i,delay_sec:e,delayLeft_sec:e};this.setStopTask(i,c)},e.prototype.stopAllNow=function(){this._waitToSpinTasks.splice(0,this._waitToSpinTasks.length),this._waitToStopTasks.splice(0,this._waitToStopTasks.length),this.reelContainer.setPos(this.stopCols);for(var t=this.reelContainer.reels,e=n.Mathf.min(t.length,this.stopCols.length),i=0,r=t;i<r.length;i++){(a=r[i]).state==o.ReelState.IDLE&&a.spin()}for(var s=0;s<e;s++){var a=t[s],c=this.stopCols[s];a.stopNow(c)}},e.prototype.stopNow=function(t){var e=this.getSpinTask(t);e&&this._waitToSpinTasks.splice(this._waitToSpinTasks.indexOf(e),1);var i=this.getStopTask(t);i&&this._waitToStopTasks.splice(this._waitToStopTasks.indexOf(i),1);var n=this.reelContainer.getReel(t),o=this.stopCols[t];n.stopNow(o)},e.prototype.pause=function(){this.isPause=!0},e.prototype.resume=function(){this.isPause=!1},e.prototype.setSpinTask=function(t,e){for(var i=0;i<this._waitToSpinTasks.length;i++){if(this._waitToSpinTasks[i].reel==t)return void this._waitToSpinTasks.splice(i,1,e)}this._waitToSpinTasks.push(e)},e.prototype.setStopTask=function(t,e){for(var i=0;i<this._waitToStopTasks.length;i++){if(this._waitToStopTasks[i].reel==t)return void this._waitToStopTasks.splice(i,1,e)}this._waitToStopTasks.push(e)},e.prototype.getSpinTasks=function(){return this._waitToSpinTasks},e.prototype.getSpinTask=function(t){for(var e=0,i=this._waitToSpinTasks;e<i.length;e++){var n=i[e];if(n.reel==t)return n}return null},e.prototype.getStopTasks=function(){return this._waitToStopTasks},e.prototype.getStopTask=function(t){for(var e=0,i=this._waitToStopTasks;e<i.length;e++){var n=i[e];if(n.reel==t)return n}return null},e.prototype.isReelInSpinTask=function(t){if(!this.reelContainer.getReel(t))return!1;for(var e=0,i=this._waitToSpinTasks;e<i.length;e++){if(i[e].reel==t)return!0}return!1},e.prototype.isReelInStopTask=function(t){if(!this.reelContainer.getReel(t))return!1;for(var e=0,i=this._waitToStopTasks;e<i.length;e++){if(i[e].reel==t)return!0}return!1},e.prototype.lockState=function(){this._isLockState=!0},e.prototype.unlockState=function(){this._isLockState=!1,this.updateState(),null!=this._nextStateID&&this.setState(this._nextStateID)},e.prototype.setState=function(t){this._isLockState?this._nextStateID=t:(this.stateCtrl.currentState.stateName!=t&&this.stateCtrl.go(t),this._nextStateID=null)},e.prototype.updateState=function(){this.isTurbo||this.isAuto?!this.isTurbo&&this.isAuto?this.setState("auto"):this.isTurbo&&!this.isAuto?this.setState("turbo"):this.isTurbo&&this.isAuto&&this.setState("turboAuto"):this.setState("normal")},e.prototype.isReelSpinning=function(t){var e=this.reelContainer.getReel(t);return!!e&&e.isRolling()},e.prototype.turnManualStop=function(t){void 0===t&&(t=!0),this.isManualStop=t,this.onManualStop.call()},e.prototype.turnSpinning=function(t){void 0===t&&(t=!0),this.isSpinning=t},e.prototype.lockInput=function(t){var e=t.with;e&&(-1!=e.indexOf("spin")&&this.spinUI.lockSpinBtn(!0),-1!=e.indexOf("stop")&&this.spinUI.lockStopBtn(!0),-1!=e.indexOf("auto")&&this.spinUI.lockAutoBtn(!0),-1!=e.indexOf("turbo")&&this.spinUI.lockTurboBtn(!0));var i=t.without;i&&(-1!=i.indexOf("spin")&&this.spinUI.lockSpinBtn(!1),-1!=i.indexOf("stop")&&this.spinUI.lockStopBtn(!1),-1!=i.indexOf("auto")&&this.spinUI.lockAutoBtn(!1),-1!=i.indexOf("turbo")&&this.spinUI.lockTurboBtn(!1));var n=t.all;null!=n&&(this.spinUI.lockSpinBtn(n),this.spinUI.lockStopBtn(n),this.spinUI.lockAutoBtn(n),this.spinUI.lockTurboBtn(n))},e.prototype.switchToSpinable=function(){this.spinUI.switchToSpin()},e.prototype.switchToStopable=function(){this.spinUI.switchToStop()},__decorate([u(o.ReelContainer)],e.prototype,"reelContainer",void 0),__decorate([u(s.SpinUI)],e.prototype,"spinUI",void 0),__decorate([u(n.StateCtrl)],e.prototype,"stateCtrl",void 0),e=__decorate([c],e)}(cc.Component));i.default=p,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../../Reel/index_Reel":"index_Reel","../../../SpinUI/index_SpinUI":"index_SpinUI","../../index_Slot":"index_Slot"}],ReelObj:[function(t,e,i){"use strict";cc._RF.push(e,"65d44Fq34hMbqFUWJe9jrH3","ReelObj"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Reel"),o=t("../../Slot/index_Slot"),r=t("../../Reel/index_Reel"),s=t("../../../uzil/Uzil"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=r.ReelState.IDLE,e.mainReelIdx=0,e.reelRows=[],e.onSpin=new s.Event,e.onStopDone=new s.Event,e.onStop=new s.Event,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this,e=this.getReelRow();e.onSpin.add(function(){t.onSpin.call()}),e.onStop.add(function(){t.onStop.call()}),e.onStopDone.add(function(){t.state=r.ReelState.IDLE,t.onStopDone.call()})},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.getReelRow=function(t){void 0===t&&(t=null);var e=t;if(null==e&&(e=this.mainReelIdx),!(e<0&&e>this.reelRows.length))return this.reelRows[e]},e.prototype.isRolling=function(){return this.getReelRow().isRolling()},e.prototype.getStopCol=function(){return this.getReelRow().getStopCol()},e.prototype.setStrip=function(t){this.getReelRow().setStrip(t)},e.prototype.setPos=function(t){this.getReelRow().setPos(t)},e.prototype.setCol=function(t,e){this.getReelRow().setCol(t,e)},e.prototype.getCol=function(t){return this.getReelRow().getCol(t)},e.prototype.getColWorldPos=function(t){return this.getReelRow().view.getColWorldPos(t)},e.prototype.spin=function(){this.state==r.ReelState.IDLE&&(this.state=r.ReelState.ROLLING,this.getReelRow().spin())},e.prototype.stop=function(t,e){void 0===e&&(e=!1),this.state=r.ReelState.STOPPING;var i=this.getReelRow();e?i.stopNow(t):i.stop(t)},e.prototype.stopNow=function(t){this.stop(t,!0)},e.prototype.pause=function(){this.getReelRow().pause()},e.prototype.resume=function(){this.getReelRow().resume()},e.prototype.render=function(){for(var t=0,e=this.reelRows;t<e.length;t++){e[t].render()}},e.prototype.getResultCols=function(t,e){return void 0===e&&(e=null),this.getReelRow().getResultCols(t,e)},e.prototype.getResultSymbols=function(t,e){void 0===e&&(e=null);for(var i=t.length,n=new Array(i),r=0,s=this.reelRows;r<s.length;r++)for(var a=s[r].getResultSymbols(t,e),c=0;c<a.length;c++){var u=a[c];u==o.SymbolCode.NONE&&n[c]||(n[c]=u)}return n},__decorate([u()],e.prototype,"state",void 0),__decorate([u()],e.prototype,"mainReelIdx",void 0),__decorate([u(n.ReelRowObj)],e.prototype,"reelRows",void 0),e=__decorate([c],e)}(cc.Component);i.ReelObj=p,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../../Reel/index_Reel":"index_Reel","../../Slot/index_Slot":"index_Slot","../index_Reel":"index_Reel"}],ReelRowObj:[function(t,e,i){"use strict";cc._RF.push(e,"d1712WwVZdG+oh0c9wzvd1U","ReelRowObj"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=t("../index_Reel"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e.rollDirection=-1,e.speed=1,e.speed_acc=1,e.stopTotalTime=.5,e.stopDelayCol=3,e.resultColPosList=[],e._state=o.ReelRollState.IDLE,e._stopState=o.ReelStopState.NONE,e._isPausing=!0,e._colDatas=[],e._isRolling=!1,e._isCallStop=!1,e._speed=0,e._currentPos=0,e._stopCol=0,e._stopEndPos=0,e._leftDeltaToStop=0,e._stopCurve_currentTime=0,e._stopStartPos=0,e.stopCurveJson=null,e.mixCurveJson=null,e.onSpin=new n.Event,e.onStop=new n.Event,e.onStopDone=new n.Event,e}return __extends(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPos",{get:function(){return this._currentPos},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.update=function(t){if(!this._isPausing&&this._isRolling){var e=this._speed*t*n.Time.timeScale,i=e*this.rollDirection,r=this._currentPos+i;r=n.Mathf.loop(r,0,this._colDatas.length-1);var s=null;if(this._stopState==o.ReelStopState.NONE){if(this._isCallStop){this._isCallStop=!1,this._stopState=o.ReelStopState.WAIT;var a=void 0;a=this.rollDirection>0?Math.abs(Math.ceil(this._currentPos)-this._currentPos):Math.abs(Math.floor(this._currentPos)-this._currentPos);var c=this.view.displayCount+this.stopDelayCol;0!=a&&(c=c-1+a);var u=Math.abs(this.stopCurve.getEndVal()-this.stopCurve.getStartVal());0!=a&&(u=Math.ceil(u)+a),this._leftDeltaToStop=u>=c?u:c;var p=this._stopCol-this._leftDeltaToStop*this.rollDirection,l=p;this.rollDirection>0?p<this._currentPos&&(l=p+this._colDatas.length):p>this._currentPos&&(l=p-this._colDatas.length);for(var h=l-this._currentPos,d=0,f=this.view.getMiddles();d<f.length;d++){var _=f[d],y=n.Mathf.loop(_.col+Math.round(h),0,this._colDatas.length-1);_.col=y}this.view.refreshMiddle(),this.setPos(l),r=l,this._leftDeltaToStop-=e}}else if(this._stopState==o.ReelStopState.WAIT){var v=!1;this._leftDeltaToStop-=e;var m=-1*(this.stopCurve.getEndVal()-this.stopCurve.getStartVal()),g=this._leftDeltaToStop-e;if(this._leftDeltaToStop<=0||g<=0)s=r-(m+Math.abs(this._leftDeltaToStop))*this.rollDirection,r=s=n.Mathf.loop(s,0,this._colDatas.length-1),this._currentPos=s,this._leftDeltaToStop=m;this._leftDeltaToStop<=m&&(v=!0),v&&(this._setState(o.ReelRollState.EASESTOP),this._stopState=o.ReelStopState.ANIM,this._stopStartPos=this._currentPos,this._stopEndPos=this._stopCol,this.rollDirection>0&&this._stopStartPos>this._stopEndPos&&(this._stopStartPos-=this._colDatas.length),this.rollDirection<0&&this._stopStartPos<this._stopEndPos&&(this._stopStartPos+=this._colDatas.length),this._stopCurve_currentTime=0)}var S=this._currentPos;if(this._state==o.ReelRollState.ROLLING||this._state==o.ReelRollState.EASEIN||o.ReelRollState.EASESTOP){this._state==o.ReelRollState.EASEIN&&(this._speed=n.Mathf.moveToward(this._speed,this.speed,this.speed_acc*t),this._speed==this.speed&&this._setState(o.ReelRollState.ROLLING));var x=this._currentPos+i;null!=s&&(x=s),x=n.Mathf.loop(x,0,this._colDatas.length-1),this._currentPos=x,S=this._currentPos}if(this._state==o.ReelRollState.EASESTOP){var A=this._stopCurve_currentTime,T=A/this.stopTotalTime;this._stopCurve_currentTime+=t;var R=this.stopCurve.getStartVal(),b=this.stopCurve.getEndVal(),P=(this.stopCurve.getVal(A)-R)/(b-R),C=n.Mathf.lerp(this._stopStartPos,this._stopEndPos,P);S=n.Mathf.lerp(this._currentPos,C,this._getMixFromCurve(T)),A>this.stopTotalTime&&(this.stopNow(),S!=this._currentPos&&cc.log(S," != ",this._currentPos),S=this._currentPos)}this.view.set(this._colDatas,S),this.view.render({rollDir:this.rollDirection})}},e.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.stopCurve=n.CurveData.create(this.stopCurveJson.json),this.stopCurve.length=this.stopTotalTime,this.mixCurve=n.CurveData.create(this.mixCurveJson.json),[2]})})},e.prototype.setStrip=function(t){for(var e=[],i=0;i<t.length;i++){var n=null;i+1<this._colDatas.length&&(n=this._colDatas[i]);var r=new o.ReelColData;r.idx=i,r.symbol=t[i],null!=n&&(r.pos=n.pos),e.push(r)}this._colDatas.length=0,this._colDatas=e},e.prototype.spin=function(){this._isRolling=!0,this._isPausing=!1,this._setState(o.ReelRollState.EASEIN),this._stopState=o.ReelStopState.NONE,this.onSpin.call()},e.prototype.stop=function(t){this._stopCol=t,this.state!=o.ReelRollState.IDLE&&this.state!=o.ReelRollState.EASESTOP&&(this._isCallStop=!0,this.onStop.call())},e.prototype.stopNow=function(t){void 0===t&&(t=null),null!=t&&(this._stopCol=t),this._isRolling=!0,this.onStop.call(),this._setState(o.ReelRollState.IDLE),this._stopState=o.ReelStopState.NONE,this._isPausing=!0,this._isCallStop=!1,this._currentPos=this._stopCol,this._speed=0,this.setPos(this._stopCol),this._isRolling=!1,this.onStopDone.call()},e.prototype.pause=function(){this._isPausing||(this._isPausing=!0)},e.prototype.resume=function(){this._isPausing&&this._isRolling&&(this._isPausing=!1)},e.prototype.setPos=function(t){this._currentPos=n.Mathf.loop(t,0,this._colDatas.length-1),this.render()},e.prototype.getStopCol=function(){return this._stopCol},e.prototype.setCol=function(t,e){this._colDatas[t]=e,this.render()},e.prototype.getCol=function(t){return this._colDatas[t]},e.prototype.getResultCols=function(t,e){void 0===e&&(e=null);var i=[],o=e;o||(o=this._stopCol);for(var r=0,s=t;r<s.length;r++){var a=s[r];i.push(n.Mathf.loop(o+a,0,this._colDatas.length-1))}return i},e.prototype.getResultSymbols=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=t;i||(i=this.resultColPosList);var o=e;o||(o=this._stopCol);for(var r=[],s=0,a=i;s<a.length;s++){var c=a[s],u=c<0?Math.ceil(c):Math.floor(c),p=n.Mathf.loop(o+u,0,this._colDatas.length-1),l=this._colDatas[p];r.push(l.symbol)}return r},e.prototype.isRolling=function(){return this._isRolling},e.prototype.render=function(){this.view.set(this._colDatas,this._currentPos),this.view.render({rollDir:this.rollDirection})},e.prototype._setState=function(t){this._state=t},e.prototype._getMixFromCurve=function(t){return null==this.mixCurve?1:this.mixCurve.getVal(t)},__decorate([a(o.ReelRowView)],e.prototype,"view",void 0),__decorate([a()],e.prototype,"rollDirection",void 0),__decorate([a()],e.prototype,"speed",void 0),__decorate([a()],e.prototype,"speed_acc",void 0),__decorate([a()],e.prototype,"stopTotalTime",void 0),__decorate([a()],e.prototype,"stopDelayCol",void 0),__decorate([a()],e.prototype,"resultColPosList",void 0),__decorate([a(cc.JsonAsset)],e.prototype,"stopCurveJson",void 0),__decorate([a(cc.JsonAsset)],e.prototype,"mixCurveJson",void 0),e=__decorate([s],e)}(cc.Component);i.ReelRowObj=c,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_Reel":"index_Reel"}],ReelRowViewPass_3D:[function(t,e,i){"use strict";cc._RF.push(e,"28650bJ6LpEMbLql3RNfwML","ReelRowViewPass_3D"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Reel"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offsetFactor=new cc.Vec2(15,-40),e.scaleFactor=new cc.Vec2(0,.5),e.skewFactor=new cc.Vec2(3.5,0),e.offset=new cc.Vec2(-10,0),e}return __extends(e,t),e.prototype._pass=function(t){var e=t.colObj,i=t.rollDir,n=t.pos,o=Math.abs(n),r=this.skewFactor.mul(i).mul(n);e.setSkew(r);var s=e.getPosition().y>0?1:-1,a=new cc.Vec2(this.offset.x+this.offsetFactor.x*o*o,this.offset.y+this.offsetFactor.y*o*o*s*-i),c=e.getPosition().add(a);e.setPosition(c);var u=new cc.Vec2(1,1).sub(this.scaleFactor.mul(o*o*.5));return u.x<0&&(u.x=0),u.y<0&&(u.y=0),e.setScale(u),t},__decorate([s(cc.Vec2)],e.prototype,"offsetFactor",void 0),__decorate([s(cc.Vec2)],e.prototype,"scaleFactor",void 0),__decorate([s(cc.Vec2)],e.prototype,"skewFactor",void 0),__decorate([s(cc.Vec2)],e.prototype,"offset",void 0),e=__decorate([r],e)}(n.ReelRowViewPass);i.default=a,cc._RF.pop()},{"../../index_Reel":"index_Reel"}],ReelRowViewPass_Idle:[function(t,e,i){"use strict";cc._RF.push(e,"0a61b7vY1JJlJHKHwERggdY","ReelRowViewPass_Idle"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Reel"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=new cc.Vec2(0,0),e.scale=new cc.Vec2(1,1),e.skew=new cc.Vec2(0,0),e}return __extends(e,t),e.prototype._pass=function(t){var e=t.colObj;return e.setSkew(this.skew),e.setPosition(this.position),e.setScale(this.scale),t},__decorate([s(cc.Vec2)],e.prototype,"position",void 0),__decorate([s(cc.Vec2)],e.prototype,"scale",void 0),__decorate([s(cc.Vec2)],e.prototype,"skew",void 0),e=__decorate([r],e)}(n.ReelRowViewPass);i.default=a,cc._RF.pop()},{"../../index_Reel":"index_Reel"}],ReelRowViewPass_New:[function(t,e,i){"use strict";cc._RF.push(e,"813daxrzCxKVZoZ5WEQ5BQG","ReelRowViewPass_New"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Reel"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._pass=function(t){if(0==t.isNew)return t;var e=t.colObj,i=t.colDatas[t.colMiddle.col];return e.setSymbol(i.symbol),e.setActive(!0),t},e=__decorate([r],e)}(n.ReelRowViewPass));i.default=s,cc._RF.pop()},{"../../index_Reel":"index_Reel"}],ReelRowViewPass_Position:[function(t,e,i){"use strict";cc._RF.push(e,"61cc8wrvqVNqqNlGUs8S1XG","ReelRowViewPass_Position"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../index_Reel"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollDirection=new cc.Vec2(0,1),e.colSize=200,e.colSpacing=20,e}return __extends(e,t),Object.defineProperty(e.prototype,"colDistance",{get:function(){return this.colSize+this.colSpacing},enumerable:!0,configurable:!0}),e.prototype._pass=function(t){var e=t.colObj,i=t.colData,n=t.rollDir,o=i.pos*this.colDistance,r=this.rollDirection.mul(n).normalize().mul(o);return e.setPosition(r),t.rollDir=this.rollDirection.y*n,t},__decorate([s(cc.Vec2)],e.prototype,"rollDirection",void 0),__decorate([s()],e.prototype,"colSize",void 0),__decorate([s()],e.prototype,"colSpacing",void 0),e=__decorate([r],e)}(n.ReelRowViewPass);i.default=a,cc._RF.pop()},{"../../index_Reel":"index_Reel"}],ReelRowViewPass:[function(t,e,i){"use strict";cc._RF.push(e,"c0ea3gWQKBEkIW3st4eFRv8","ReelRowViewPass"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.passID="",e.isEnabled=!0,e}return __extends(e,t),e.prototype.pass=function(t){return this.isEnabled?this._pass(t):t},e.prototype._pass=function(t){},__decorate([r()],e.prototype,"passID",void 0),__decorate([r()],e.prototype,"isEnabled",void 0),e=__decorate([o],e)}(cc.Component);i.ReelRowViewPass=s,cc._RF.pop()},{}],ReelRowView:[function(t,e,i){"use strict";cc._RF.push(e,"475b2HjqQlJ16jHmVJgv7Zy","ReelRowView"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=t("../index_Reel"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(){return function(){this.col=-1,this.obj=null}}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayCount=5,e._colDatas=null,e._colIdx2Middles=new Map,e._colObjs=[],e._unUseObjs=[],e.colObjPrefab=null,e.showPasses=[],e}return __extends(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var t,e,i;return __generator(this,function(n){if(null!=this.colObjPrefab)for(t=0;t<2*this.displayCount;t++)(e=cc.instantiate(this.colObjPrefab)).parent=this.node,(i=e.getComponent(o.ReelColObj)).id="obj["+t.toString()+"]",this._colObjs.push(i),this._unUseObjs.push(i),i.setActive(!1);return[2]})})},e.prototype.set=function(t,e){this._colDatas=t;for(var i=this._colDatas.length,o=Math.ceil(e-i),r=Math.floor(e+i),s=o<0?o:0,a=r>this._colDatas.length?r:this._colDatas.length,c=[],u=s;u<a;u++){var p=n.Mathf.loop(u,0,this._colDatas.length-1),l=this._colDatas[p];if(null!=l){var h=u-e;if(-1!=c.indexOf(p)){if(Math.abs(h)>Math.abs(l.pos))continue}else c.push(p);l.pos=h}}},e.prototype.render=function(t){var e=this._colDatas.slice();e=this._render_countLimit(e,this._colDatas);for(var i=[],o=[],r=[],s=0,a=this._colDatas;s<a.length;s++){var c=a[s];-1==e.indexOf(c)&&i.push(c)}for(var u=0,p=e;u<p.length;u++){var l=p[u];null==l.pos?i.push(l):this._colIdx2Middles.has(l.idx)?o.push(l):r.push(l)}for(var h=0,d=i;h<d.length;h++){var f=d[h];if(0!=this._colIdx2Middles.has(f.idx)){var _=this._colIdx2Middles.get(f.idx);this._abandomMiddle(_)}}for(var y=this._colObjs.slice(),v=0;v<e.length&&y.length>0;v++){c=e[v];var m=this._requestMiddle(c.idx),g=m.obj,S=!1;null==g&&(g=this._unUseObjs.pop(),m.obj=g,S=!0),y.splice(y.indexOf(g),1);for(var x={view:this,colDatas:this._colDatas,colData:c,colMiddle:m,colObj:g,isNew:S,pos:c.pos},A=n.Objf.assign(x,t),T=0,R=this.showPasses;T<R.length;T++){A=R[T].pass(A)}}for(var b=0,P=y;b<P.length;b++){var C=P[b];C.setActive(!1),C.setSymbol(null),-1==this._unUseObjs.indexOf(C)&&this._unUseObjs.push(C)}for(var w=[],O=[],E=0,I=this._colObjs;E<I.length;E++){(f=I[E]).node.active?w.push(f.id):O.push(f.id)}},e.prototype.getMiddles=function(){return Array.from(this._colIdx2Middles.values())},e.prototype.refreshMiddle=function(t){void 0===t&&(t=null);for(var e=t||this.getMiddles(),i=new Map,n=0,o=e;n<o.length;n++){var r=o[n];i.set(r.col,r)}this._colIdx2Middles=i},e.prototype.getPass=function(t){for(var e=0,i=this.showPasses;e<i.length;e++){var n=i[e];if(n.passID==t)return n}return null},e.prototype.getColWorldPos=function(t){return 0==this._colIdx2Middles.has(t)?null:this._colIdx2Middles.get(t).obj.getWorldPosition()},e.prototype._render_countLimit=function(t,e){for(var i=[],n=0,o=t;n<o.length;n++){var r=o[n];if(null!=r.pos){for(var s=Math.abs(r.pos),a=0,c=r.extraCols;a<c.length;a++){var u=c[a],p=r.pos+u,l=Math.abs(p);l<s&&(s=l)}s<this.displayCount&&i.push(r)}}return i.sort(function(t,e){return Math.abs(t.pos)-Math.abs(e.pos)}),i=i.slice(0,this.displayCount)},e.prototype._render_extraReplace=function(t,e){for(var i=0,n=e;i<n.length;i++){var o=n[i],r=o.getExtraPoses();if(0!=o.isExtraFullReplaceOthers){for(var s=[],a=0,c=t;a<c.length;a++){var u=c[a];0==u.extraCols.length&&-1!=r.indexOf(u.pos)&&o.displayLayer>u.displayLayer&&s.push(u)}for(var p=0,l=s;p<l.length;p++){var h=l[p];t.splice(t.indexOf(h),1)}}}return t},e.prototype._requestMiddle=function(t){var e;return this._colIdx2Middles.has(t)?e=this._colIdx2Middles.get(t):((e=new c).col=t,this._colIdx2Middles.set(t,e)),e},e.prototype._abandomMiddle=function(t){null!=t.obj&&(t.obj.setActive(!1),t.obj.setSymbol(null),this._unUseObjs.push(t.obj),t.obj=null),this._colIdx2Middles.has(t.col)&&this._colIdx2Middles.delete(t.col)},__decorate([a()],e.prototype,"displayCount",void 0),__decorate([a(cc.Prefab)],e.prototype,"colObjPrefab",void 0),__decorate([a(o.ReelRowViewPass)],e.prototype,"showPasses",void 0),e=__decorate([s],e)}(cc.Component);i.ReelRowView=u,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_Reel":"index_Reel"}],ShurikenComponent:[function(t,e,i){"use strict";cc._RF.push(e,"06a42Gcx4xJ1Y0ymzxqYW6Q","ShurikenComponent"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../index_Shuriken");(function(t){t[t.POINT=0]="POINT",t[t.CIRCLE=1]="CIRCLE",t[t.NODE_RECT=2]="NODE_RECT",t[t.SPRITE=3]="SPRITE"})(n=i.EMITTER_TYPE||(i.EMITTER_TYPE={})),cc.Class({extends:cc.Component,properties:{_shurikenSystem:{type:Object,default:null,visible:!1},shurikenSystem:{type:Object,get:function(){return this._shurikenSystem},set:function(t){this._shurikenSystem=t},visible:!1},timeScale:{default:1},_sourceNode:{type:cc.Prefab,default:null,visible:!1},sourcePrefab:{type:cc.Prefab,get:function(){return this._sourceNode},set:function(t){this._sourceNode=t,this.shurikenSystem&&(this.shurikenSystem.sourceNode=t)}},_maxCount:{default:100,visible:!1},maxCount:{get:function(){return this._maxCount},set:function(t){this._maxCount=t,this.shurikenSystem&&(this.shurikenSystem.maxCount=t)}},isPlayOnAwake:{default:!0},_isPrepare:{default:!1,visible:!1},isPrepare:{get:function(){return this._isPrepare},set:function(t){this._isPrepare=t,this.shurikenSystem&&(this.shurikenSystem.isPrepare=t)}},_emitRoot:{type:cc.Node,default:null,visible:!1},emitRoot:{type:cc.Node,get:function(){return this._emitRoot},set:function(t){this._emitRoot=t,this.shurikenSystem&&(this.shurikenSystem.emitRoot=t)}},isShowEmit:{displayName:"\u6aa2\u8996 \u767c\u5c04",default:!1},_lifeTime:{default:5,visible:!1},lifeTime:{get:function(){return this._lifeTime},set:function(t){this._lifeTime=t,this.shurikenSystem&&(this.shurikenSystem.lifeTime=t)},visible:function(){return this.isShowEmit}},_delay:{default:.1,visible:!1},delay:{get:function(){return this._delay},set:function(t){this._delay=t,this.shurikenSystem&&(this.shurikenSystem.delay=t)},visible:function(){return this.isShowEmit}},_countPerEmit:{default:1,visible:!1},countPerEmit:{get:function(){return this._countPerEmit},set:function(t){this._countPerEmit=t,this.shurikenSystem&&(this.shurikenSystem.countPerEmit=t)},visible:function(){return this.isShowEmit}},isShowEmitShape:{displayName:"\u6aa2\u8996 \u767c\u5c04\u5340\u57df",default:!1},_emitterType:{type:cc.Enum(n),default:n.POINT},emitterType:{type:cc.Enum(n),get:function(){return this._emitterType},set:function(t){this._emitterType=t},visible:function(){return this.isShowEmitShape}},_emitters:{type:Object,default:{},visible:!1},circle_radius:{default:new cc.Vec2(0,0),visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.CIRCLE}},circle_angle:{default:new cc.Vec2(0,0),visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.CIRCLE}},sprite_imageData:{type:Object,default:null,visible:!1},sprite_clipSample:{default:100,visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.SPRITE}},sprite_clipAlpha:{set:function(t){this._sprite_clipAlpha=t,this._sprite_clipAlpha32=255*t},get:function(){return this._sprite_clipAlpha},visible:function(){return!!this.isShowEmitShape&&this.emitterType==n.SPRITE}},_sprite_clipAlpha:{default:0,visible:!1},_sprite_clipAlpha32:{default:0,visible:!1},isShowMove:{displayName:"\u6aa2\u8996 \u4f4d\u79fb",default:!1},emitSpeed:{default:new cc.Vec2(10,20),visible:function(){return this.isShowMove}},emitAngle:{default:new cc.Vec2(360,45),visible:function(){return this.isShowMove}},gravity:{default:new cc.Vec2(0,-10),visible:function(){return this.isShowMove}},emitSpeed_z:{default:0,visible:function(){return this.isShowMove}},isShowRotate:{displayName:"\u6aa2\u8996 \u65cb\u8f49",default:!1},rotate_emit:{default:cc.Vec2.ZERO,visible:function(){return this.isShowRotate}},rotate_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isShowRotate}},isShowScale:{displayName:"\u6aa2\u8996 \u7e2e\u653e",default:!1},scale_emit:{default:cc.Vec2.ONE,visible:function(){return this.isShowScale}},scale_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isShowScale}}},empty:function(){},start:function(){this._initShurikenSystem(),this._initEmitter(),this.isPlayOnAwake&&this.startEmit()},update:function(t){this.shurikenSystem&&this.shurikenSystem.update(t)},startEmit:function(){this.shurikenSystem&&this.shurikenSystem.start()},resumeEmit:function(){this.shurikenSystem&&this.shurikenSystem.resume()},pauseEmit:function(){this.shurikenSystem&&this.shurikenSystem.pause()},stopEmit:function(){this.shurikenSystem&&this.shurikenSystem.pause()},clear:function(){this.shurikenSystem&&this.shurikenSystem.clear()},_initShurikenSystem:function(){var t=new o.ShurikenSystem;this.shurikenSystem=t,t.timeScale=this.timeScale,t.shurikenSource=this.sourcePrefab,t.maxCount=this.maxCount,t.container=this.emitRoot,t.lifeTime_sec=this.lifeTime,t.delay_sec=this.delay,t.countPerEmit=this.countPerEmit,t.emitter=this._getEmitter(),this.isPrepare&&t.prepare(t.maxCount)},_initEmitter:function(){var t=this._getEmitter();if(t instanceof o.ShurikenEmitter_Base&&(t.emitX.set(0),t.emitY.set(0),t.emitSpeed.set([this.emitSpeed.x,this.emitSpeed.y]),t.emitSpeed_z=this.emitSpeed_z,t.emitAngle.set([this.emitAngle.x,this.emitAngle.y]),t.emitRotation.set([this.rotate_emit.x,this.rotate_emit.y]),t.emitRotateSpeed.set([this.rotate_speed.x,this.rotate_speed.y]),t.emitScale.set([this.scale_emit.x,this.scale_emit.y]),t.emitScaleSpeed.set([this.scale_speed.x,this.scale_speed.y])),this.emitterType==n.NODE_RECT);else if(this.emitterType==n.CIRCLE){var e=t;e.raidus.set([this.circle_radius.x,this.circle_radius.y]),e.angle.set([this.circle_angle.x,this.circle_angle.y])}},_getEmitter:function(t){void 0===t&&(t=null),null==t&&(t=this.emitterType);var e=t.toString(),i=this._emitters[e];if(i)return i;if(t==n.POINT)i=new o.ShurikenEmitter_Base;else if(t==n.NODE_RECT)i=new o.ShurikenEmitter_NodeRect;else{if(t!=n.CIRCLE)return null;i=new o.ShurikenEmitter_Circle}return this._emitters[e]=i,i}}),cc._RF.pop()},{"../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_Base:[function(t,e,i){"use strict";cc._RF.push(e,"3539aEmXf9Pe5eQmCe3Cc1F","ShurikenEmitter_Base"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.emitX=new n.RandomRange(0),e.emitY=new n.RandomRange(0),e.emitSpeed=new n.RandomRange(0),e.emitSpeed_z=1,e.emitAngle=new n.RandomRange(0,359),e.emitRotation=new n.RandomRange(0,359),e.emitRotateSpeed=new n.RandomRange(0),e.emitScale=new n.RandomRange(1),e.emitScaleSpeed=new n.RandomRange(1),e}return __extends(e,t),e.prototype.emit=function(t){var e=this._getEmitPos();t.setPosition(new cc.Vec3(e.x,e.y,0));var i=this._getEmitAngle();t.velocity=n.Mathf.toVec3(n.Mathf.angleToVec2(i).mul(this.emitSpeed.random())),t.velocity.z=this.emitSpeed_z,t.node.setRotation(this._getEmitRotate()),t.rotateSpeed=this.emitRotateSpeed.random(),t.node.setScale(this.emitScale.random()),t.scaleSpeed=n.Mathf.toVec2(this.emitScaleSpeed.random())},e.prototype._getEmitPos=function(){return new cc.Vec2(this.emitX.random(),this.emitY.random())},e.prototype._getEmitAngle=function(){var t=n.Mathf.angleDelta(this.emitAngle.min,this.emitAngle.max,!0);return cc.misc.lerp(this.emitAngle.min,this.emitAngle.min+t,Math.random())},e.prototype._getEmitRotate=function(){var t=n.Mathf.angleDelta(this.emitRotation.min,this.emitRotation.max,!0);return cc.misc.lerp(this.emitRotation.min,this.emitRotation.min+t,Math.random())},e}(t("../../index_Shuriken").ShurikenEmitter);i.ShurikenEmitter_Base=o,cc._RF.pop()},{"../../../Uzil":"Uzil","../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_Circle:[function(t,e,i){"use strict";cc._RF.push(e,"d651bf2pUVByK1gkXv/yy3/","ShurikenEmitter_Circle"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Uzil"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.raidus=new n.RandomRange(0),e.angle=new n.RandomRange(0,359),e}return __extends(e,t),e.prototype._getEmitPos=function(){var t=this.raidus.random(),e=n.Mathf.angleDelta(this.angle.min,this.angle.max,!0),i=n.Mathf.lerp(this.angle.min,this.angle.min+e,Math.random());return n.Mathf.angleToVec2(i).mul(t)},e}(t("../../index_Shuriken").ShurikenEmitter_Base);i.ShurikenEmitter_Circle=o,cc._RF.pop()},{"../../../Uzil":"Uzil","../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_NodeRect:[function(t,e,i){"use strict";cc._RF.push(e,"c03fdzPrMlGJZTw2C9eqkQ1","ShurikenEmitter_NodeRect"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._getEmitPos=function(){var t=new cc.Vec2,e=this.system.getContainer(),i=0-e.width*e.anchorX,n=0+e.width*(1-e.anchorX),o=0+e.height*(1-e.anchorY),r=0-e.height*e.anchorY;return t.x=cc.misc.lerp(i,n,Math.random()),t.y=cc.misc.lerp(r,o,Math.random()),t},e}(t("../../index_Shuriken").ShurikenEmitter_Base);i.ShurikenEmitter_NodeRect=n,cc._RF.pop()},{"../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter:[function(t,e,i){"use strict";cc._RF.push(e,"50d8f9TTflIFocmi0qXWZkj","ShurikenEmitter"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.emit=function(t){},t}();i.ShurikenEmitter=n,cc._RF.pop()},{}],ShurikenSystem:[function(t,e,i){"use strict";cc._RF.push(e,"587e8mcnPVIB6lmNBtD4ZIR","ShurikenSystem"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=t("../index_Shuriken"),r=function(){function t(){this.isEmitting=!1,this.container=null,this.shurikenSource=null,this._emits=[],this._pool=[],this.maxCount=50,this.timeScale=1,this.lifeTime_sec=5,this.delay_sec=0,this.emitCD=0,this.countPerEmit=1,this._emitter=new o.ShurikenEmitter_Base}return Object.defineProperty(t.prototype,"emitter",{get:function(){return this._emitter},set:function(t){this._emitter=t,this._emitter.system=this},enumerable:!0,configurable:!0}),t.prototype.setEmitter=function(t){this.emitter=t,t.system=this},t.prototype.getContainer=function(){return this.container?this.container:cc.director.getScene()},t.prototype.update=function(t){for(var e=t*n.Time.timeScale*this.timeScale,i=0,o=this._emits.slice();i<o.length;i++){(c=o[i]).update(e),c.life_sec<=0&&this.recovery(c)}if(this.isEmitting)if(this.emitCD<=0)for(var r=0;r<this.countPerEmit&&!(this._emits.length>=this.maxCount);r++)this.emit();else this.emitCD-=e;this._emits.sort(function(t,e){return t.compare(e)});for(r=0;r<this._emits.length;r++)this._emits[r].setOrder(r);for(var s=0,a=this._emits;s<a.length;s++){var c;(c=a[s]).render()}},t.prototype.start=function(){this.clear(),this.resume()},t.prototype.resume=function(){this.isEmitting=!0},t.prototype.pause=function(){this.isEmitting=!1},t.prototype.stop=function(){this.pause(),this.clear()},t.prototype.prepare=function(t){for(var e=this._pool.length-1;e<t;e++)this._pushToPool(this._create())},t.prototype.emit=function(){var t=this.request();return t.life_sec=this.lifeTime_sec,this._emits.push(t),this.emitter.emit(t),t.node.active=!0,t},t.prototype.clear=function(){for(var t=0,e=this._emits;t<e.length;t++){var i=e[t];this.recovery(i)}this._emits=[]},t.prototype.request=function(){return this._pool.length>0?this._pool.shift():this._create()},t.prototype.recovery=function(t){var e=this._emits.indexOf(t);-1!=e&&this._emits.splice(e,1),this._pushToPool(t)},t.prototype._create=function(){var t=cc.instantiate(this.shurikenSource);t.parent=this.getContainer();var e=new o.Shuriken;return e.node=t,e},t.prototype._pushToPool=function(t){t.setActive(!1),this._pool.push(t)},t}();i.ShurikenSystem=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Shuriken":"index_Shuriken"}],Shuriken:[function(t,e,i){"use strict";cc._RF.push(e,"265d0hcwpZKJrQRSRs6Jztk","Shuriken"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){this.node=null,this.life_sec=0,this.position=new cc.Vec3(0,0,0),this._posV2=cc.Vec2.ZERO,this._isPosChanged=!1,this.rotation=0,this._isRotChanged=!1,this.scale=cc.Vec2.ONE,this._isSclChanged=!1,this.velocity=new cc.Vec3(0,0,0),this.rotateSpeed=0,this.scaleSpeed=cc.Vec2.ZERO}return t.prototype.setActive=function(t){this.node.active=t},t.prototype.setPosition=function(t){this.position=t,this._posV2.x=t.x,this._posV2.y=t.y,this._isPosChanged=!0},t.prototype.setRotation=function(t){this.rotation=t,this._isRotChanged=!0},t.prototype.setScale=function(t){this.scale=t,this._isSclChanged=!0},t.prototype.update=function(t){this.life_sec-=t,this.setPosition(this.position.add(this.velocity.mul(t))),this.setRotation(this.rotation+this.rotateSpeed*t),this.setScale(this.scale.add(this.scaleSpeed.mul(t)))},t.prototype.render=function(t){void 0===t&&(t=!1),(t||this._isPosChanged)&&(this.node.setPosition(this._posV2),this._isPosChanged=!1),(t||this._isRotChanged)&&(this.node.setRotation(this.rotation),this._isRotChanged=!1),(t||this._isSclChanged)&&(this.node.setScale(this.scale),this._isSclChanged=!1)},t.prototype.compare=function(t){return this.position.z-t.position.z},t.prototype.setOrder=function(t){this.node.zIndex=t},t}();i.Shuriken=n,cc._RF.pop()},{}],SlotStrip:[function(t,e,i){"use strict";cc._RF.push(e,"7d25blfsu5M675ezNyN7o9S","SlotStrip"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../Slot/index_Slot"),o=n.SymbolCode.N1,r=n.SymbolCode.N2,s=n.SymbolCode.N3,a=n.SymbolCode.N4,c=(n.SymbolCode.N5,n.SymbolCode.N5,n.SymbolCode.H1),u=n.SymbolCode.H2,p=n.SymbolCode.H3,l=n.SymbolCode.H4,h=n.SymbolCode.H5,d=n.SymbolCode.SCATTER,f=n.SymbolCode.WILD,_=function(){function t(){}return Object.defineProperty(t,"mainGame",{get:function(){return[[s,a,l,r,o,u,r,a,p,s,r,o,l,a,c,f,c,o,h,r,a,u,o,s,h,s,r,p,o,l,s,a,h,o],[o,s,u,r,s,p,r,s,d,o,l,a,s,r,l,o,c,f,c,s,r,s,u,r,o,a,h,s,d,o,a,f,s,f],[r,s,u,s,h,a,u,r,o,a,p,d,a,r,c,f,c,a,o,r,a,s,h,o,s,a,r,l,d,s,r,f],[a,u,o,a,r,p,d,s,p,r,o,l,s,c,c,c,f,c,r,d,o,h,r,s,u,s,d,o,r,f,a,s,f],[a,l,r,s,o,u,a,s,r,h,s,r,c,c,c,f,c,a,r,p,a,s,u,o,r,a,l,r,s,f]]},enumerable:!0,configurable:!0}),t}();i.SlotStrip=_,cc._RF.pop()},{"../../../Slot/index_Slot":"index_Slot"}],SpinUI:[function(t,e,i){"use strict";cc._RF.push(e,"6ff5bAOj0BEtYVEodqmNkZb","SpinUI"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../../uzil/Uzil"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spinBtn=null,e.stopBtn=null,e.autoBtn=null,e.turboBtn=null,e.onSpinClick=new n.Event,e.onStopClick=new n.Event,e.onAutoClick=new n.Event,e.onTurboClick=new n.Event,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.call_onSpinBtnClick=function(){this.onSpinClick.call()},e.prototype.call_onStopBtnClick=function(){this.onStopClick.call()},e.prototype.call_onTurboClick=function(){this.onTurboClick.call()},e.prototype.call_onAutoClick=function(){this.onAutoClick.call()},e.prototype.switchToSpin=function(){this.spinBtn.node.active=!0,this.stopBtn.node.active=!1},e.prototype.switchToStop=function(){this.spinBtn.node.active=!1,this.stopBtn.node.active=!0},e.prototype.lockSpinBtn=function(t){this.spinBtn.interactable=!t},e.prototype.lockStopBtn=function(t){this.stopBtn.interactable=!t},e.prototype.lockAutoBtn=function(t){this.autoBtn.interactable=!t},e.prototype.lockTurboBtn=function(t){this.turboBtn.interactable=!t},__decorate([s(cc.Button)],e.prototype,"spinBtn",void 0),__decorate([s(cc.Button)],e.prototype,"stopBtn",void 0),__decorate([s(cc.Button)],e.prototype,"autoBtn",void 0),__decorate([s(cc.Button)],e.prototype,"turboBtn",void 0),e=__decorate([r],e)}(cc.Component);i.SpinUI=a,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],SpineAnimator:[function(t,e,i){"use strict";cc._RF.push(e,"fbb852rgHJD1JhZITFBmyR/","SpineAnimator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_Animator"),o=t("../../Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e._playedTime=0,e._timeScale_BeforePause=-1,e._lastNormalizedTime=-1,e.onEventList=[],e.onCompleteList=[],e.onTimeList=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){var t=this,e=this;e.skeleton.setCompleteListener(function(i){if(0==i.trackIndex){e._playedTime++;for(var n=0,o=t.onTimeList;n<o.length;n++){(p=o[n]).isRunedInLoop=!1}for(var r=[],s=0,a=e.onCompleteList;s<a.length;s++){(p=a[s]).func(),p.isOnce&&r.push(p)}for(var c=0,u=r;c<u.length;c++){var p=u[c];e.onCompleteList.splice(e.onCompleteList.indexOf(p),1)}}}),e.skeleton.setEventListener(function(t,i){for(var n=[],o=0,r=e.onEventList;o<r.length;o++){(c=r[o]).eventTag==i.data.name&&(c.func(),c.isOnce&&n.push(c))}for(var s=0,a=n;s<a.length;s++){var c=a[s];e.onEventList.splice(e.onEventList.indexOf(c),1)}})},e.prototype._update=function(){this._lastNormalizedTime=-1;for(var t=this.getNormalizedTime()%1,e=[],i=0,n=this.onTimeList;i<n.length;i++){t<(s=n[i]).time_percent||(s.isRunedInLoop||(s.func(),s.isRunedInLoop=!0,s.isOnce&&e.push(s)))}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.onTimeList.splice(this.onTimeList.indexOf(s),1)}},e.prototype._play=function(t){this.skeleton.clearTracks(),this.skeleton.setAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha,this._playedTime=0},e.prototype._playAdditive=function(t){this.skeleton.addAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha},e.prototype._stop=function(){this.skeleton.clearTracks(),this._playedTime=0},e.prototype._pause=function(){this._timeScale_BeforePause>0||(this._timeScale_BeforePause=this.skeleton.timeScale,this.skeleton.timeScale=0)},e.prototype._resume=function(){this.skeleton.timeScale=this._timeScale_BeforePause,this._timeScale_BeforePause=-1},e.prototype._getNormalizedTime=function(){if(-1!=this._lastNormalizedTime)return this._lastNormalizedTime;var t,e=this.skeleton.getCurrent(0);if(!e)return-1;t=e.animationEnd;var i=e.trackTime/t;return this._lastNormalizedTime=i,i},e.prototype._onEvent=function(t,e,i){this.onEventList.push({eventTag:t,isOnce:i,func:e})},e.prototype._onComplete=function(t,e){this.onCompleteList.push({isOnce:e,func:t})},e.prototype._onTime=function(t,e,i){this.onTimeList.push({time_percent:t,isOnce:i,func:e,isRunedInLoop:!1})},e.prototype._setTimeScale=function(t){this.skeleton.timeScale=t},e.prototype._getTimeScale=function(){return this.skeleton.timeScale},e.prototype.example_script=function(){var t=this;this.parameter.isToY=!1;var e=new n.AnimClip("xMove").track(0).loop().alpha(1),i=new n.AnimClip("yMove").track(1).loop(),r=new n.AnimClip("xMove").track(0).loop().alpha(.1),s=new n.AnimState("stateX");s.addClip(e);var a=new n.AnimState("stateY");a.addClip(i),a.addClip(r);var c=(new n.AnimTransition).next(a);c.exitTime=2;var u=new n.AnimCondition("isToY",o.Comparer.EQUAL,!0);c.addCondition(u);var p=(new n.AnimTransition).next(s);p.exitTime=2,s.addTransition(c),a.addTransition(p),this.addState(s),this.addState(a),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove",isLoop:!0}],transitions:[{nextState:"stateY",exitTime:2,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove",isLoop:!0,track:0},{name:"yMove",isLoop:!0,track:1}],transitions:[{nextState:"stateX",exitTime:2,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},__decorate([a(sp.Skeleton)],e.prototype,"skeleton",void 0),e=__decorate([s],e)}(n.Animator);i.SpineAnimator=c,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Animator":"index_Animator"}],StateCtrl:[function(t,e,i){"use strict";cc._RF.push(e,"fe89c2o/fpFHJIXEP2Bt928","StateCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_State"),o=t("../../Event/index_Event"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowDebug=!1,e.defaultState="",e.states=[],e.currentState=null,e.user=null,e.onStateChange=new o.Event,e}return __extends(e,t),e.prototype.init=function(t){void 0===t&&(t=null),this.user=t,this.go(this.defaultState)},e.prototype.go=function(t){for(var e=0,i=this.states;e<i.length;e++){var n=i[e];if(n.stateName==t){this.goState(n);break}}},e.prototype.goState=function(t){if(t&&this.currentState!=t){var e=this.currentState;this.currentState&&this.currentState.onExit(),this.currentState=t,this.isShowDebug&&cc.log("[StateCtrl] goState : "+t.stateName),t.isInited||t.init(this.user),t.onEnter(),this.onStateChange.call(e,t)}},__decorate([a()],e.prototype,"isShowDebug",void 0),__decorate([a()],e.prototype,"defaultState",void 0),__decorate([a(n.State)],e.prototype,"states",void 0),e=__decorate([s],e)}(cc.Component);i.StateCtrl=c,cc._RF.pop()},{"../../Event/index_Event":"index_Event","../index_State":"index_State"}],State:[function(t,e,i){"use strict";cc._RF.push(e,"5af78IiwX5MaJxMaBMVOXCc","State"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.user=null,e._isActive=!1,e._isInited=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInited",{get:function(){return this._isInited},enumerable:!0,configurable:!0}),e.prototype.start=function(){},e.prototype.update=function(t){this.isActive&&this.onUpdate(t)},e.prototype.init=function(t){this.user=t,this._init(t),this._isInited=!0},e.prototype.onEnter=function(){this._isActive=!0,this._onEnter()},e.prototype.onUpdate=function(t){this._onUpdate(t)},e.prototype.onExit=function(){this._isActive=!1,this._onExit()},e.prototype._init=function(t){},e.prototype._onEnter=function(){},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([r()],e.prototype,"stateName",void 0),e=__decorate([o],e)}(cc.Component);i.State=s,cc._RF.pop()},{}],Stringf:[function(t,e,i){"use strict";cc._RF.push(e,"77ec9ds1IRDtLTZIxCqOKUA","Stringf"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.prefix0=function(t,e){return(Array(e).join("0")+t).slice(-e)},t.decimalSeparator=function(t){return t.toLocaleString("en-us")},t}();i.Stringf=n,cc._RF.pop()},{}],SymbolCode:[function(t,e,i){"use strict";cc._RF.push(e,"85556m8AaZBY6ndbLybUunQ","SymbolCode"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t[t.NONE=0]="NONE",t[t.N1=1]="N1",t[t.N2=2]="N2",t[t.N3=3]="N3",t[t.N4=4]="N4",t[t.N5=5]="N5",t[t.N6=6]="N6",t[t.N7=7]="N7",t[t.N8=8]="N8",t[t.N9=9]="N9",t[t.H1=11]="H1",t[t.H2=12]="H2",t[t.H3=13]="H3",t[t.H4=14]="H4",t[t.H5=15]="H5",t[t.H6=16]="H6",t[t.H7=17]="H7",t[t.H8=18]="H8",t[t.H9=19]="H9",t[t.WILD=20]="WILD",t[t.W1=21]="W1",t[t.W2=22]="W2",t[t.W3=23]="W3",t[t.W4=24]="W4",t[t.W5=25]="W5",t[t.W6=26]="W6",t[t.W7=27]="W7",t[t.W8=28]="W8",t[t.W9=29]="W9",t[t.SCATTER=30]="SCATTER",t[t.S1=31]="S1",t[t.S2=32]="S2",t[t.S3=33]="S3",t[t.S4=34]="S4",t[t.S5=35]="S5",t[t.S6=36]="S6",t[t.S7=37]="S7",t[t.S8=38]="S8",t[t.S9=39]="S9",t[t.O1=41]="O1",t[t.O2=42]="O2",t[t.O3=43]="O3",t[t.O4=44]="O4",t[t.O5=45]="O5",t[t.O6=46]="O6",t[t.O7=47]="O7",t[t.O8=48]="O8",t[t.O9=49]="O9"}(i.SymbolCode||(i.SymbolCode={})),cc._RF.pop()},{}],SymbolRes:[function(t,e,i){"use strict";cc._RF.push(e,"55fae0/711OvITQc6JuGmDw","SymbolRes"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../const/SymbolCode"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(){function t(){this.symbol=n.SymbolCode.NONE,this.spriteID=""}return __decorate([s({type:cc.Enum(n.SymbolCode)})],t.prototype,"symbol",void 0),__decorate([s()],t.prototype,"spriteID",void 0),t=__decorate([r("SymbolResEach")],t)}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbols=[],e._symbol2spID=new Map,e}var i;return __extends(e,t),i=e,e.Get=function(t){return null==i.instance?null:t==n.SymbolCode.NONE?null:i.instance.get(t)},e.prototype.onLoad=function(){null==i.instance&&(i.instance=this);for(var t=i.instance,e=0,o=this.symbols;e<o.length;e++){var r=o[e];r.symbol!=n.SymbolCode.NONE&&t._symbol2spID.set(r.symbol,r.spriteID)}},e.prototype.get=function(t){var e=i.instance;return 0==e._symbol2spID.has(t)?null:e._symbol2spID.get(t)},e.instance=null,__decorate([s(a)],e.prototype,"symbols",void 0),e=i=__decorate([r],e)}(cc.Component);i.SymbolRes=c,cc._RF.pop()},{"../const/SymbolCode":"SymbolCode"}],TimeInstance:[function(t,e,i){"use strict";cc._RF.push(e,"051f0JL4N9CbKmLNrZClAih","TimeInstance"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./TimeUser"),o=function(){function t(){this.timeScale=1,this.time=0,this.users=[]}return t.prototype.update=function(t){this.time+=t*this.timeScale},t.prototype.requestTimeScale=function(t,e,i){var o=this.getUser(t);null==o&&((o=new n.TimeUser).name=t,this.users.push(o)),o.priority=e,o.toSetTimeScale=i,this.sortUser()},t.prototype.removeTimeScale=function(t){for(var e=[],i=0,n=this.users;i<n.length;i++){(s=n[i]).name==t&&e.push(s)}for(var o=0,r=e;o<r.length;o++){var s=r[o];this.users.splice(this.users.indexOf(s),1)}},t.prototype.getUser=function(t){for(var e=0,i=this.users;e<i.length;e++){var n=i[e];if(n.name==t)return n}return null},t.prototype.sortUser=function(){this.users.sort(function(t,e){return e.priority-t.priority}),this.users.length>0&&(this.timeScale=this.users[0].toSetTimeScale)},t}();i.TimeInstance=o,cc._RF.pop()},{"./TimeUser":"TimeUser"}],TimeUser:[function(t,e,i){"use strict";cc._RF.push(e,"ce32fXk2sZJspcV4/Slbj1Z","TimeUser"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,o=(n.ccclass,n.property,function(){return function(){this.name="",this.priority=5,this.toSetTimeScale=1}}());i.TimeUser=o,cc._RF.pop()},{}],Time:[function(t,e,i){"use strict";cc._RF.push(e,"9b3ae+50O9J+qeExQnbNE22","Time"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=t("./TimeInstance"),r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id2instance=new Map,e}var i;return __extends(e,t),i=e,e._getInstance=function(){return n.Uzil.getComp("Time")},e.get=function(t){void 0===t&&(t="_default");var e=i._getInstance();return 0==e.id2instance.has(t)&&e.id2instance.set(t,new o.TimeInstance),e.id2instance.get(t)},Object.defineProperty(e,"since",{get:function(){return(Date.now()-i._getInstance()._sinceDate)/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"timeScale",{get:function(){return i.get().timeScale},set:function(t){i.get().timeScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"time",{get:function(){return i.get().time},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this._sinceDate||(this._sinceDate=Date.now())},e.prototype.update=function(t){this.id2instance.forEach(function(e,i){e.update(t)})},e=i=__decorate([s],e)}(cc.Component));i.Time=a,cc._RF.pop()},{"../../Uzil":"Uzil","./TimeInstance":"TimeInstance"}],UrlArgs:[function(t,e,i){"use strict";cc._RF.push(e,"fe5dfWO37hLjrloBTNLK7io","UrlArgs"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.get=function(t){var e=new URL(location.href).searchParams;return""==e.toString()?null:e.has(t)?e.get(t):null},t}();i.UrlArgs=n,cc._RF.pop()},{}],Uzil:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"53017N1bsBAuZ55KIykWkjt","Uzil"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./System/index_System")),n(t("./Time/index_Time")),n(t("./Invoker/index_Invoker")),n(t("./Event/index_Event")),n(t("./Shuriken/index_Shuriken")),n(t("./Animator/index_Animator")),n(t("./AniTween/index_AniTween")),n(t("./PageCard/index_PageCard")),n(t("./Bezier/index_Bezier")),n(t("./Curve/index_Curve")),n(t("./State/index_State")),n(t("./AudioMng/index_AudioMng")),n(t("./Async/index_Async")),n(t("./i18n/index_i18n")),n(t("./UI/index_UI"));var o=function(){function t(){}return t.getRootNode=function(){var e=t._rootNode;return e||((e=cc.find("_Uzil"))?(t._rootNode=e,e):((e=new cc.Node).name="_Uzil",e.parent=cc.director.getScene(),cc.game.addPersistRootNode(e),t._rootNode=e,e))},t.getComp=function(e){var i=t._compList[e];if(i)return i;var n=t.getRootNode();return(i=n.getComponent(e))?(t._compList[e]=i,i):(i=n.addComponent(e),t._compList[e]=i,i)},t._rootNode=null,t._compList=[],t}();i.Uzil=o,cc._RF.pop()},{"./AniTween/index_AniTween":"index_AniTween","./Animator/index_Animator":"index_Animator","./Async/index_Async":"index_Async","./AudioMng/index_AudioMng":"index_AudioMng","./Bezier/index_Bezier":"index_Bezier","./Curve/index_Curve":"index_Curve","./Event/index_Event":"index_Event","./Invoker/index_Invoker":"index_Invoker","./PageCard/index_PageCard":"index_PageCard","./Shuriken/index_Shuriken":"index_Shuriken","./State/index_State":"index_State","./System/index_System":"index_System","./Time/index_Time":"index_Time","./UI/index_UI":"index_UI","./i18n/index_i18n":"index_i18n"}],bezier:[function(t,e,i){"use strict";cc._RF.push(e,"6aa47f/H45DDaJHBdz8trep","bezier"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),o=t("./poly-bezier"),r=t("./svg-to-beziers"),s=Math.abs,a=Math.min,c=Math.max,u=Math.cos,p=Math.sin,l=Math.acos,h=Math.sqrt,d=Math.PI,f={x:0,y:0,z:0},_=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=t&&t.forEach?t:[].slice.call(arguments),r=!1;if("object"==typeof o[0]){r=o.length;var a=[];o.forEach(function(t){["x","y","z"].forEach(function(e){void 0!==t[e]&&a.push(t[e])})}),o=a}var c=!1,u=o.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");c=!0}}else if(6!==u&&8!==u&&9!==u&&12!==u&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var p=!c&&(9===u||12===u)||t&&t[0]&&void 0!==t[0].z;this._3d=p;for(var l=[],h=0,d=p?3:2;h<u;h+=d){var f={x:o[h],y:o[h+1]};p&&(f.z=o[h+2]),l.push(f)}this.order=l.length-1,this.points=l;var _=["x","y"];p&&_.push("z"),this.dims=_,this.dimlen=_.length,function(t){for(var e=t.order,i=t.points,o=n.default.align(i,{p1:i[0],p2:i[e]}),r=0;r<o.length;r++)if(s(o[r].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};function y(t,e,i,o,r){void 0===r&&(r=.5);var s=n.default.projectionratio(r,t),a=1-s,c={x:s*e.x+a*o.x,y:s*e.y+a*o.y},u=n.default.abcratio(r,t);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c}}_.SVGtoBeziers=function(t){return r.default(_,t)},_.quadraticFromPoints=function(t,e,i,n){if(void 0===n&&(n=.5),0===n)return new _(e,e,i);if(1===n)return new _(t,e,e);var o=y(2,t,e,i,n);return new _(t,o.A,i)},_.cubicFromPoints=function(t,e,i,o,r){void 0===o&&(o=.5);var s=y(3,t,e,i,o);void 0===r&&(r=n.default.dist(e,s.C));var a=r*(1-o)/o,c=n.default.dist(t,i),u=(i.x-t.x)/c,p=(i.y-t.y)/c,l=r*u,h=r*p,d=a*u,f=a*p,v=e.x-l,m=e.y-h,g=e.x+d,S=e.y+f,x=s.A,A=x.x+(v-x.x)/(1-o),T=x.y+(m-x.y)/(1-o),R=x.x+(g-x.x)/o,b=x.y+(S-x.y)/o,P={x:t.x+(A-t.x)/o,y:t.y+(T-t.y)/o},C={x:i.x+(R-i.x)/(1-o),y:i.y+(b-i.y)/(1-o)};return new _(t,P,C,i)};var v=function(){return n.default};_.getUtils=v,_.PolyBezier=o.default,_.prototype={getUtils:v,valueOf:function(){return this.toString()},toString:function(){return n.default.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var e=this.points,i=["M",e[0].x,e[0].y,2===this.order?"Q":"C"],n=1,o=e.length;n<o;n++)i.push(e[n].x),i.push(e[n].y);return i.join(" ")},update:function(){this._lut=[],this.dpoints=n.default.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var t=this.points,e=n.default.angle(t[0],t[this.order],t[1]);this.clockwise=e>0},length:function(){return n.default.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(var e=0;e<=t;e++)this._lut.push(this.compute(e/t));return this._lut},on:function(t,e){e=e||5;for(var i,o=this.getLUT(),r=[],s=0,a=0;a<o.length;a++)i=o[a],n.default.dist(i,t)<e&&(r.push(i),s+=a/o.length);return!!r.length&&s/r.length},project:function(t){var e=this.getLUT(),i=e.length-1,o=n.default.closest(e,t),r=o.mdist,s=o.mpos;if(0===s||s===i){var a=s/i,c=this.compute(a);return c.t=a,c.d=r,c}var u,p,l,h=(s+1)/i,d=.1/i;for(r+=1,u=a=(s-1)/i;a<h+d;a+=d)p=this.compute(a),(l=n.default.dist(t,p))<r&&(r=l,u=a);return(p=this.compute(u)).t=u,p.d=r,p},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){return n.default.compute(t,this.points,this._3d)},raise:function(){for(var t,e,i=this.points,n=[i[0]],o=i.length,r=1;r<o;r++)t=i[r],e=i[r-1],n[r]={x:(o-r)/o*t.x+r/o*e.x,y:(o-r)/o*t.y+r/o*e.y};return n[o]=i[o-1],new _(n)},derivative:function(t){var e,i,n=1-t,o=0,r=this.dpoints[0];2===this.order&&(r=[r[0],r[1],f],e=n,i=t),3===this.order&&(e=n*n,i=n*t*2,o=t*t);var s={x:e*r[0].x+i*r[1].x+o*r[2].x,y:e*r[0].y+i*r[1].y+o*r[2].y};return this._3d&&(s.z=e*r[0].z+i*r[1].z+o*r[2].z),s},curvature:function(t){return n.default.curvature(t,this.points,this._3d)},inflections:function(){return n.default.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var e=this.derivative(t),i=h(e.x*e.x+e.y*e.y);return{x:-e.y/i,y:e.x/i}},__normal3:function(t){var e=this.derivative(t),i=this.derivative(t+.01),n=h(e.x*e.x+e.y*e.y+e.z*e.z),o=h(i.x*i.x+i.y*i.y+i.z*i.z);e.x/=n,e.y/=n,e.z/=n,i.x/=o,i.y/=o,i.z/=o;var r={x:i.y*e.z-i.z*e.y,y:i.z*e.x-i.x*e.z,z:i.x*e.y-i.y*e.x},s=h(r.x*r.x+r.y*r.y+r.z*r.z);r.x/=s,r.y/=s,r.z/=s;var a=[r.x*r.x,r.x*r.y-r.z,r.x*r.z+r.y,r.x*r.y+r.z,r.y*r.y,r.y*r.z-r.x,r.x*r.z-r.y,r.y*r.z+r.x,r.z*r.z];return{x:a[0]*e.x+a[1]*e.y+a[2]*e.z,y:a[3]*e.x+a[4]*e.y+a[5]*e.z,z:a[6]*e.x+a[7]*e.y+a[8]*e.z}},hull:function(t){var e,i=this.points,o=[],r=[],s=0,a=0,c=0;for(r[s++]=i[0],r[s++]=i[1],r[s++]=i[2],3===this.order&&(r[s++]=i[3]);i.length>1;){for(o=[],a=0,c=i.length-1;a<c;a++)e=n.default.lerp(t,i[a],i[a+1]),r[s++]=e,o.push(e);i=o}return r},split:function(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;var i=this.hull(t),o={left:2===this.order?new _([i[0],i[3],i[5]]):new _([i[0],i[4],i[7],i[9]]),right:2===this.order?new _([i[5],i[4],i[2]]):new _([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=n.default.map(0,0,1,this._t1,this._t2),o.left._t2=n.default.map(t,0,1,this._t1,this._t2),o.right._t1=n.default.map(t,0,1,this._t1,this._t2),o.right._t2=n.default.map(1,0,1,this._t1,this._t2),e?(e=n.default.map(e,t,1,0,1),o.right.split(e).left):o},extrema:function(){var t,e,i={},o=[];return this.dims.forEach(function(r){e=function(t){return t[r]},t=this.dpoints[0].map(e),i[r]=n.default.droots(t),3===this.order&&(t=this.dpoints[1].map(e),i[r]=i[r].concat(n.default.droots(t))),i[r]=i[r].filter(function(t){return t>=0&&t<=1}),o=o.concat(i[r].sort(n.default.numberSort))}.bind(this)),o=o.sort(n.default.numberSort).filter(function(t,e){return o.indexOf(t)===e}),i.values=o,i},bbox:function(){var t=this.extrema(),e={};return this.dims.forEach(function(i){e[i]=n.default.getminmax(this,i,t[i])}.bind(this)),e},overlaps:function(t){var e=this.bbox(),i=t.bbox();return n.default.bboxoverlap(e,i)},offset:function(t,e){if(void 0!==e){var i=this.get(t),n=this.normal(t),o={c:i,n:n,x:i.x+n.x*e,y:i.y+n.y*e};return this._3d&&(o.z=i.z+n.z*e),o}if(this._linear){var r=this.normal(0),s=this.points.map(function(e){var i={x:e.x+t*r.x,y:e.y+t*r.y};return e.z&&n.z&&(i.z=e.z+t*r.z),i});return[new _(s)]}return this.reduce().map(function(e){return e.scale(t)})},simple:function(){if(3===this.order){var t=n.default.angle(this.points[0],this.points[3],this.points[1]),e=n.default.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}var i=this.normal(0),o=this.normal(1),r=i.x*o.x+i.y*o.y;return this._3d&&(r+=i.z*o.z),s(l(r))<d/3},reduce:function(){var t,e,i=0,o=0,r=[],a=[],c=this.extrema().values;for(-1===c.indexOf(0)&&(c=[0].concat(c)),-1===c.indexOf(1)&&c.push(1),i=c[0],t=1;t<c.length;t++)o=c[t],(e=this.split(i,o))._t1=i,e._t2=o,r.push(e),i=o;return r.forEach(function(t){for(i=0,o=0;o<=1;)for(o=i+.01;o<=1.01;o+=.01)if(!(e=t.split(i,o)).simple()){if(s(i-(o-=.01))<.01)return[];(e=t.split(i,o))._t1=n.default.map(i,0,1,t._t1,t._t2),e._t2=n.default.map(o,0,1,t._t1,t._t2),a.push(e),i=o;break}i<1&&((e=t.split(i,1))._t1=n.default.map(i,0,1,t._t1,t._t2),e._t2=t._t2,a.push(e))}),a},scale:function(t){var e=this.order,i=!1;if("function"==typeof t&&(i=t),i&&2===e)return this.raise().scale(i);var o=this.clockwise,r=i?i(0):t,s=i?i(1):t,a=[this.offset(0,10),this.offset(1,10)],c=n.default.lli4(a[0],a[0].c,a[1],a[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");var u=this.points,p=[];return[0,1].forEach(function(t){var i=p[t*e]=n.default.copy(u[t*e]);i.x+=(t?s:r)*a[t].n.x,i.y+=(t?s:r)*a[t].n.y}.bind(this)),i?([0,1].forEach(function(n){if(2!==this.order||!n){var r=u[n+1],s={x:r.x-c.x,y:r.y-c.y},a=i?i((n+1)/e):t;i&&!o&&(a=-a);var l=h(s.x*s.x+s.y*s.y);s.x/=l,s.y/=l,p[n+1]={x:r.x+a*s.x,y:r.y+a*s.y}}}.bind(this)),new _(p)):([0,1].forEach(function(t){if(2!==this.order||!t){var i=p[t*e],o=this.derivative(t),r={x:i.x+o.x,y:i.y+o.y};p[t+1]=n.default.lli4(i,r,c,u[t+1])}}.bind(this)),new _(p))},outline:function(t,e,i,r){e=void 0===e?t:e;var s,a=this.reduce(),c=a.length,u=[],p=[],l=0,h=this.length(),d=void 0!==i&&void 0!==r;function f(t,e,i,o,r){return function(s){var a=o/i,c=(o+r)/i,u=e-t;return n.default.map(s,0,1,t+a*u,t+c*u)}}a.forEach(function(n){A=n.length(),d?(u.push(n.scale(f(t,i,h,l,A))),p.push(n.scale(f(-e,-r,h,l,A)))):(u.push(n.scale(t)),p.push(n.scale(-e))),l+=A}),p=p.map(function(t){return(s=t.points)[3]?t.points=[s[3],s[2],s[1],s[0]]:t.points=[s[2],s[1],s[0]],t}).reverse();var _=u[0].points[0],y=u[c-1].points[u[c-1].points.length-1],v=p[c-1].points[p[c-1].points.length-1],m=p[0].points[0],g=n.default.makeline(v,_),S=n.default.makeline(y,m),x=[g].concat(u).concat([S]).concat(p),A=x.length;return new o.default(x)},outlineshapes:function(t,e,i){e=e||t;for(var o=this.outline(t,e).curves,r=[],s=1,a=o.length;s<a/2;s++){var c=n.default.makeshape(o[s],o[a-s],i);c.startcap.virtual=s>1,c.endcap.virtual=s<a/2-1,r.push(c)}return r},intersects:function(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof _&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)},lineIntersects:function(t){var e=a(t.p1.x,t.p2.x),i=a(t.p1.y,t.p2.y),o=c(t.p1.x,t.p2.x),r=c(t.p1.y,t.p2.y),s=this;return n.default.roots(this.points,t).filter(function(t){var a=s.get(t);return n.default.between(a.x,e,o)&&n.default.between(a.y,i,r)})},selfintersects:function(t){var e,i,n,o,r=this.reduce(),s=r.length-2,a=[];for(e=0;e<s;e++)n=r.slice(e,e+1),o=r.slice(e+2),i=this.curveintersects(n,o,t),a=a.concat(i);return a},curveintersects:function(t,e,i){var o=[];t.forEach(function(t){e.forEach(function(e){t.overlaps(e)&&o.push({left:t,right:e})})});var r=[];return o.forEach(function(t){var e=n.default.pairiteration(t.left,t.right,i);e.length>0&&(r=r.concat(e))}),r},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,e,i,o){var r=(o-i)/4,a=this.get(i+r),c=this.get(o-r),u=n.default.dist(t,e),p=n.default.dist(t,a),l=n.default.dist(t,c);return s(p-u)+s(l-u)},_iterate:function(t,e){var i,o=0,r=1;do{i=0,r=1;var s,a,c,l,h,d=this.get(o),f=!1,_=!1,y=r,v=1;do{if(_=f,l=c,y=(o+r)/2,0,s=this.get(y),a=this.get(r),(c=n.default.getccenter(d,s,a)).interval={start:o,end:r},f=this._error(c,d,o,r)<=t,(h=_&&!f)||(v=r),f){if(r>=1){if(c.interval.end=v=1,l=c,r>1){var m={x:c.x+c.r*u(c.e),y:c.y+c.r*p(c.e)};c.e+=n.default.angle({x:c.x,y:c.y},m,this.get(1))}break}r+=(r-o)/2}else r=y}while(!h&&i++<100);if(i>=100)break;l=l||c,e.push(l),o=v}while(r<1);return e}},i.default=_,cc._RF.pop()},{"./poly-bezier":"poly-bezier","./svg-to-beziers":"svg-to-beziers","./utils":"utils"}],example_Animator:[function(t,e,i){"use strict";cc._RF.push(e,"683f3oS26xEb6dYL8SIz0lE","example_Animator"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../script/core/Animator"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animator=null,e}return __extends(e,t),e.prototype.start=function(){this.test2()},e.prototype.update=function(t){},e.prototype.test1=function(){var t=this;this.animator.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove"}],transitions:[{nextState:"stateY",exitTime:.5,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove"},{name:"yMove"}],transitions:[{nextState:"stateX",exitTime:1,conditions:[]}]}]}),cc.log("loaded"),this.scheduleOnce(function(){t.animator.set("isToY",!0),cc.log("isToY true")},3),this.scheduleOnce(function(){t.animator.set("isToY",!1),cc.log("isToY false")},20)},e.prototype.test2=function(){var t=this;this.animator.load({defaultState:"stateA",parameter:{isToB:!1},states:[{name:"stateA",clips:[{name:"xMove"}],transitions:[{nextState:"stateB",exitTime:.5,conditions:[{key:"isToB",comparer:"==",value:!0}]}]},{name:"stateB",clips:[{name:"scale"},{name:"yMove"}],transitions:[{nextState:"stateA",exitTime:1,conditions:[]}]}]}),cc.log("loaded"),this.scheduleOnce(function(){t.animator.set("isToB",!0),cc.log("isToB true")},3),this.scheduleOnce(function(){t.animator.set("isToB",!1),cc.log("isToB false")},20)},__decorate([s(n.Animator)],e.prototype,"animator",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"../script/core/Animator":"Animator"}],example_PageCard:[function(t,e,i){"use strict";cc._RF.push(e,"fa2f5f5jZZNfZulM+AB6Ix9","example_PageCard"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../../Uzil"),o=cc._decorator,r=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){n.PageCtrl.get().GoPage("page1"),this.scheduleOnce(function(){n.PageCtrl.get().GoPage("page2")},3),this.scheduleOnce(function(){n.PageCtrl.get().GoPage("page3")},6),this.scheduleOnce(function(){n.PageCtrl.get().HidePage("page3"),n.PageCtrl.get("another").GoPage("page3")},9)},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));i.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],i18nButtonExt:[function(t,e,i){"use strict";cc._RF.push(e,"08b4cvZHcZLZ6Ey6fmWDGJ7","i18nButtonExt"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./i18n"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.key_normal="",e.key_pressed="",e.key_hover="",e.key_disabled="",e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;null==this.button&&(this.button=this.node.getComponent(cc.Button)),this.render(),n.i18n.onChange.add(function(){t.render()})},e.prototype.onEnable=function(){this.render()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.setNormal=function(t){this.key_normal=t,this.renderNormal()},e.prototype.setPressed=function(t){this.key_pressed=t,this.renderPressed()},e.prototype.setHover=function(t){this.key_hover=t,this.renderHover()},e.prototype.setDisabled=function(t){this.key_disabled=t,this.renderDisabled()},e.prototype.render=function(){this.renderNormal(),this.renderPressed(),this.renderHover(),this.renderDisabled()},e.prototype.renderNormal=function(){if(this.key_normal&&""!=this.key_normal){var t=this;this._renderEach(this.key_normal,function(e){t.button.normalSprite=e;var i=t.button.target.getComponent(cc.Sprite);null!=i&&(i.spriteFrame=e)})}},e.prototype.renderPressed=function(){if(this.key_pressed&&""!=this.key_pressed){var t=this;this._renderEach(this.key_pressed,function(e){t.button.pressedSprite=e})}},e.prototype.renderHover=function(){if(this.key_hover&&""!=this.key_hover){var t=this;this._renderEach(this.key_hover,function(e){t.button.hoverSprite=e})}},e.prototype.renderDisabled=function(){if(this.key_disabled&&""!=this.key_disabled){var t=this;this._renderEach(this.key_disabled,function(e){t.button.disabledSprite=e})}},e.prototype._renderEach=function(t,e){var i=n.i18n.img(t,function(t){null!=t&&e(t)});null!=i&&e(i)},__decorate([s(cc.Button)],e.prototype,"button",void 0),__decorate([s()],e.prototype,"key_normal",void 0),__decorate([s()],e.prototype,"key_pressed",void 0),__decorate([s()],e.prototype,"key_hover",void 0),__decorate([s()],e.prototype,"key_disabled",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"./i18n":"i18n"}],i18nImgLoader:[function(t,e,i){"use strict";cc._RF.push(e,"a2755ogJzpM6LoCWOcNVJAB","i18nImgLoader"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./i18n"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(){function t(){this.key="",this.spriteFrame=null}return __decorate([s()],t.prototype,"key",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),t=__decorate([r("i18nImgLoaderPair")],t)}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.languageID="",e.images=[],e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=0,e=this.images;t<e.length;t++){var i=e[t];n.i18n.regImg(this.languageID,i.key,i.spriteFrame,!1)}},__decorate([s()],e.prototype,"languageID",void 0),__decorate([s(a)],e.prototype,"images",void 0),e=__decorate([r],e)}(cc.Component);i.i18nTextLoader=c,cc._RF.pop()},{"./i18n":"i18n"}],i18nImgSet:[function(t,e,i){"use strict";cc._RF.push(e,"b38a7Aef9hDeIm9ZglVbXGi","i18nImgSet"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_i18n"),o=function(){function t(){this.key2spriteFrame=new Map,this.langID=null,this.fallbackLangID=null,this.langID=n.i18nSetting.defaultLang,this.fallbackLangID=n.i18nSetting.defaultLang}return t.prototype.get=function(t,e){if(this.key2spriteFrame.has(t)){var i=this.key2spriteFrame.get(t);return e(i),i}return n.i18n.imgFallback(this.langID,this.fallbackLangID,t,function(t){e(t)}),null},t.prototype.has=function(t){return this.key2spriteFrame.has(t)},t.prototype.fallback=function(t,e,i){if(this.key2spriteFrame.has(e)){var o=this.key2spriteFrame.get(e);return i(o),o}return t==this.langID||t==this.fallbackLangID?null:n.i18n.imgFallback(this.langID,this.fallbackLangID,e,function(t){i(t)})},t.prototype.set=function(t,e){this.key2spriteFrame.set(t,e)},t}();i.i18nImgSet=o,cc._RF.pop()},{"../index_i18n":"index_i18n"}],i18nLabelExt:[function(t,e,i){"use strict";cc._RF.push(e,"7e7d8lgvmhHh6fJQvZexPT/","i18nLabelExt"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./i18n"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.key="",e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;null==this.label&&(this.label=this.node.getComponent(cc.Label)),this.render(),n.i18n.onChange.add(function(){t.render()})},e.prototype.onEnable=function(){this.render()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.set=function(t){this.key=t,this.render()},e.prototype.render=function(){var t=this,e=n.i18n.text(this.key,function(e){t._setLabelStr(e)});this._setLabelStr(e)},e.prototype._setLabelStr=function(t){null!=t&&(this.label.string=t)},__decorate([s(cc.Label)],e.prototype,"label",void 0),__decorate([s()],e.prototype,"key",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"./i18n":"i18n"}],i18nSetting:[function(t,e,i){"use strict";cc._RF.push(e,"6e02aceTfZF5qozc2iOfojV","i18nSetting"),Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(){}return t.defaultLang="cn",t.langDefine={cn:{fallback:""},en:{fallback:"cn"}},t}();i.i18nSetting=n,cc._RF.pop()},{}],i18nSpriteExt:[function(t,e,i){"use strict";cc._RF.push(e,"912f7RurQFGdoxhs7LxoQNP","i18nSpriteExt"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./i18n"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.key="",e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;null==this.sprite&&(this.sprite=this.node.getComponent(cc.Sprite)),this.render(),n.i18n.onChange.add(function(){t.render()})},e.prototype.onEnable=function(){this.render()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.set=function(t){this.key=t,this.render()},e.prototype.render=function(){var t=this,e=n.i18n.img(this.key,function(e){t._setSpriteFrame(e)});this._setSpriteFrame(e)},e.prototype._setSpriteFrame=function(t){null!=t&&(this.sprite.spriteFrame=t)},__decorate([s(cc.Sprite)],e.prototype,"sprite",void 0),__decorate([s()],e.prototype,"key",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"./i18n":"i18n"}],i18nTextLoader:[function(t,e,i){"use strict";cc._RF.push(e,"f5ae1LW7m9CH7AS0SNkMwRs","i18nTextLoader"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./i18n"),o=cc._decorator,r=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.languageID="",e.jsonFile=null,e}return __extends(e,t),e.prototype.onLoad=function(){if(this.jsonFile&&this.jsonFile.json){var t=this.jsonFile.json;for(var e in t)n.i18n.regText(this.languageID,e,t[e],!1)}},__decorate([s()],e.prototype,"languageID",void 0),__decorate([s(cc.JsonAsset)],e.prototype,"jsonFile",void 0),e=__decorate([r],e)}(cc.Component);i.default=a,cc._RF.pop()},{"./i18n":"i18n"}],i18nTextSet:[function(t,e,i){"use strict";cc._RF.push(e,"82a0fV42KNC8IsebQOzjHg7","i18nTextSet"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("../index_i18n"),o=cc._decorator.ccclass,r=function(){function t(){this.key2str=new Map,this.langID=null,this.fallbackLangID=null,this.langID=n.i18nSetting.defaultLang,this.fallbackLangID=n.i18nSetting.defaultLang}return t.prototype.get=function(t,e){if(this.key2str.has(t)){var i=this.key2str.get(t);return e(i),i}return n.i18n.textFallback(this.langID,this.fallbackLangID,t,function(t){e(t)}),null},t.prototype.has=function(t){return this.key2str.has(t)},t.prototype.fallback=function(t,e,i){if(this.key2str.has(e)){var o=this.key2str.get(e);return i(o),o}return t==this.langID||t==this.fallbackLangID?null:n.i18n.textFallback(this.langID,this.fallbackLangID,e,function(t){i(t)})},t.prototype.set=function(t,e){this.key2str.set(t,e)},t=__decorate([o("i18nTextSet")],t)}();i.i18nTextSet=r,cc._RF.pop()},{"../index_i18n":"index_i18n"}],i18n:[function(t,e,i){"use strict";cc._RF.push(e,"4acf5cb7gZLy7rGt+2s5lKV","i18n"),Object.defineProperty(i,"__esModule",{value:!0});var n,o=t("../index_i18n"),r=t("../../Uzil");(function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"})(n=i.i18nState||(i.i18nState={}));var s=function(){function t(){}return t.getCurrentTextSet=function(){return t.getTextSet(t.currentLang)},t.getTextSet=function(e){return t.langID2TextSet.has(e)?t.langID2TextSet.get(e):null},t.getCurrentImgSet=function(){return t.getImgSet(t.currentLang)},t.getImgSet=function(e){return t.langID2ImgSet.has(e)?t.langID2ImgSet.get(e):null},t.init=function(e){if(t.state!=n.LOADED){if(e&&t.onChange.addOnce(function(){e()}),t.state==n.NONE){var i=o.i18nSetting.langDefine;for(var s in i)this.regLang(s,s.fallback);var a=o.i18nSetting.defaultLang,c=r.UrlArgs.get("lang");null!=c&&(a=c),t.setLanguage(a)}}else e&&e()},t.setLanguage=function(e){var i=this;t.state!=n.LOADING?(t.currentLang=e,t.state=n.LOADING,r.Async.parallel([function(t){cc.loader.loadResDir("i18n/"+e+"/text/",cc.JsonAsset,function(n,r,s){new o.i18nTextSet;for(var a=0,c=r;a<c.length;a++){var u=c[a].json;for(var p in u)i.regText(e,p,u[p])}t()})},function(t){var n="i18n/"+e+"/img/";cc.loader.loadResDir(n,cc.SpriteFrame,function(r,s,a){new o.i18nImgSet;for(var c=0;c<s.length;c++){var u=s[c],p=a[c].substring(n.length);i.regImg(e,p,u)}t()})}],function(e,i){t.state=n.LOADED,t.onChange.call()})):t.onChange.addOnce(function(){t.setLanguage(e)})},t.text=function(e,i){if(t.state==n.NONE)return t.init(function(){t.text(e,i)}),null;var o=t.getCurrentTextSet();return null==o?null:o.get(e,function(t){i(t)})},t.textFallback=function(e,i,o,r){if(t.state==n.NONE)return t.init(function(){t.textFallback(e,i,o,r)}),null;var s=this.getTextSet(i);if(null==s)return r(null),null;var a=s.fallback(e,o,function(t){r(t)});return a||null},t.img=function(e,i){if(t.state==n.NONE)return t.init(function(){t.img(e,i)}),null;var o=t.getCurrentImgSet();return null==o?null:o.get(e,function(t){i(t)})},t.imgFallback=function(e,i,o,r){if(t.state==n.NONE)return t.init(function(){t.imgFallback(e,i,o,r)}),null;var s=this.getImgSet(i);if(null==s)return r(null),null;var a=s.fallback(e,o,function(t){r(t)});return a||null},t.regLang=function(e,i){var n,r;void 0===i&&(i=null),t.langID2TextSet.has(e)?n=t.langID2TextSet.get(e):((n=new o.i18nTextSet).fallbackLangID=o.i18nSetting.defaultLang,t.langID2TextSet.set(e,n)),t.langID2ImgSet.has(e)?r=t.langID2ImgSet.get(e):((r=new o.i18nImgSet).fallbackLangID=o.i18nSetting.defaultLang,t.langID2ImgSet.set(e,r)),i&&(n.fallbackLangID=i,r.fallbackLangID=i)},t.regText=function(e,i,n,o){void 0===o&&(o=!0),0==t.langID2TextSet.has(e)&&this.regLang(e);var r=t.langID2TextSet.get(e);!o&&r.has(i)||r.set(i,n)},t.regImg=function(e,i,n,o){void 0===o&&(o=!0),0==t.langID2ImgSet.has(e)&&this.regLang(e);var r=t.langID2ImgSet.get(e);!o&&r.has(i)||r.set(i,n)},t.state=n.NONE,t.currentLang=null,t.langID2TextSet=new Map,t.langID2ImgSet=new Map,t.onChange=new r.Event,t}();i.i18n=s,cc._RF.pop()},{"../../Uzil":"Uzil","../index_i18n":"index_i18n"}],index_AniTween:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"a130fPuj89Fqa1ES2cehGsI","index_AniTween"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/AniTween")),n(t("./script/AniAct")),n(t("./script/act/AniMove")),n(t("./script/act/AniGoto")),n(t("./script/act/AniSpin")),n(t("./script/act/AniSwing")),n(t("./script/act/AniLookAt")),n(t("./script/act/AniSpiral")),n(t("./script/act/AniPath")),n(t("./script/act/AniCollect")),cc._RF.pop()},{"./script/AniAct":"AniAct","./script/AniTween":"AniTween","./script/act/AniCollect":"AniCollect","./script/act/AniGoto":"AniGoto","./script/act/AniLookAt":"AniLookAt","./script/act/AniMove":"AniMove","./script/act/AniPath":"AniPath","./script/act/AniSpin":"AniSpin","./script/act/AniSpiral":"AniSpiral","./script/act/AniSwing":"AniSwing"}],index_Animator:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"57a93tr4rNCM7sqyFQlJbmd","index_Animator"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/core/AnimClip")),n(t("./script/core/AnimCondition")),n(t("./script/core/AnimTransition")),n(t("./script/core/AnimState")),n(t("./script/core/AnimFactory")),n(t("./script/core/Animator")),n(t("./script/CocosAnimator")),n(t("./script/SpineAnimator")),cc._RF.pop()},{"./script/CocosAnimator":"CocosAnimator","./script/SpineAnimator":"SpineAnimator","./script/core/AnimClip":"AnimClip","./script/core/AnimCondition":"AnimCondition","./script/core/AnimFactory":"AnimFactory","./script/core/AnimState":"AnimState","./script/core/AnimTransition":"AnimTransition","./script/core/Animator":"Animator"}],index_Async:[function(t,e,i){"use strict";cc._RF.push(e,"2d532E/wppAnobVHU9mYIf1","index_Async"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/Async")),cc._RF.pop()},{"./script/Async":"Async"}],index_AudioMng:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"e197ama8uhHRohChwE5t6EY","index_AudioMng"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/AudioState")),n(t("./script/AudioObj")),n(t("./script/AudioLayer")),n(t("./script/AudioMng")),cc._RF.pop()},{"./script/AudioLayer":"AudioLayer","./script/AudioMng":"AudioMng","./script/AudioObj":"AudioObj","./script/AudioState":"AudioState"}],index_Bezier:[function(t,e,i){"use strict";cc._RF.push(e,"ef1a10nJhFIWIGd5KhbSqtz","index_Bezier"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/BezierData")),cc._RF.pop()},{"./script/BezierData":"BezierData"}],index_Curve:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"a7fe3D6zv9Ji6apzDBnSKs9","index_Curve"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/CurveData")),n(t("./script/PointData")),cc._RF.pop()},{"./script/CurveData":"CurveData","./script/PointData":"PointData"}],index_Event:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"1a259Qu0RRH/q+2XH/O6hh5","index_Event"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Event")),n(t("./script/EventBus")),n(t("./script/EventListener")),n(t("./script/EventData")),cc._RF.pop()},{"./script/Event":"Event","./script/EventBus":"EventBus","./script/EventData":"EventData","./script/EventListener":"EventListener"}],index_Invoker:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"1d66d7qhw1D/LxZYNLGBCIS","index_Invoker"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Invoker")),n(t("./script/InvokerQueue")),n(t("./script/InvokerQueueTask")),n(t("./script/InvokerTask")),n(t("./script/InvokerUpdateTask")),cc._RF.pop()},{"./script/Invoker":"Invoker","./script/InvokerQueue":"InvokerQueue","./script/InvokerQueueTask":"InvokerQueueTask","./script/InvokerTask":"InvokerTask","./script/InvokerUpdateTask":"InvokerUpdateTask"}],index_ObjPool:[function(t,e,i){"use strict";cc._RF.push(e,"63736d9e5tDYKcYDN5p2die","index_ObjPool"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./ObjPool")),cc._RF.pop()},{"./ObjPool":"ObjPool"}],index_PageCard:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"2daf5xgQgVOt5VzeVHBQssk","index_PageCard"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Card")),n(t("./script/Page")),n(t("./script/PageCtrl")),cc._RF.pop()},{"./script/Card":"Card","./script/Page":"Page","./script/PageCtrl":"PageCtrl"}],index_Reel:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"b5a00ZCOXhGerkQK6ADqK3s","index_Reel"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/ReelConst")),n(t("./script/ReelColData")),n(t("./script/ReelColObj")),n(t("./script/ReelRowViewPass")),n(t("./script/ReelRowView")),n(t("./script/ReelRowObj")),n(t("./script/ReelObj")),n(t("./script/ReelContainer")),cc._RF.pop()},{"./script/ReelColData":"ReelColData","./script/ReelColObj":"ReelColObj","./script/ReelConst":"ReelConst","./script/ReelContainer":"ReelContainer","./script/ReelObj":"ReelObj","./script/ReelRowObj":"ReelRowObj","./script/ReelRowView":"ReelRowView","./script/ReelRowViewPass":"ReelRowViewPass"}],index_Shuriken:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"9656aKHGVlNXIly9Q2mgSYO","index_Shuriken"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/ShurikenSystem")),n(t("./script/Shuriken")),n(t("./script/ShurikenEmitter")),n(t("./script/Emitter/ShurikenEmitter_Base")),n(t("./script/Emitter/ShurikenEmitter_NodeRect")),n(t("./script/Emitter/ShurikenEmitter_Circle")),cc._RF.pop()},{"./script/Emitter/ShurikenEmitter_Base":"ShurikenEmitter_Base","./script/Emitter/ShurikenEmitter_Circle":"ShurikenEmitter_Circle","./script/Emitter/ShurikenEmitter_NodeRect":"ShurikenEmitter_NodeRect","./script/Shuriken":"Shuriken","./script/ShurikenEmitter":"ShurikenEmitter","./script/ShurikenSystem":"ShurikenSystem"}],index_Slot:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"b1ca9JuoshIpY6AXdQDhhkm","index_Slot"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/const/SymbolCode")),n(t("./script/const/SlotStrip")),n(t("./script/res/SymbolRes")),cc._RF.pop()},{"./script/const/SlotStrip":"SlotStrip","./script/const/SymbolCode":"SymbolCode","./script/res/SymbolRes":"SymbolRes"}],index_SpinUI:[function(t,e,i){"use strict";cc._RF.push(e,"189345EUepA8rG1pH82dNgt","index_SpinUI"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./script/SpinUI")),cc._RF.pop()},{"./script/SpinUI":"SpinUI"}],index_State:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"36fc32rSJZEAo0PCtMTMQAp","index_State"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/State")),n(t("./script/StateCtrl")),cc._RF.pop()},{"./script/State":"State","./script/StateCtrl":"StateCtrl"}],index_System:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"34a64d7hmJH856JKT9k9YYY","index_System"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Mathf")),n(t("./script/Objf")),n(t("./script/Comparer")),n(t("./script/UrlArgs")),n(t("./script/Stringf")),cc._RF.pop()},{"./script/Comparer":"Comparer","./script/Mathf":"Mathf","./script/Objf":"Objf","./script/Stringf":"Stringf","./script/UrlArgs":"UrlArgs"}],index_Time:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"849f3dIt65AOotTCNPtn6yP","index_Time"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/Time")),n(t("./script/TimeInstance")),cc._RF.pop()},{"./script/Time":"Time","./script/TimeInstance":"TimeInstance"}],index_UI:[function(t,e,i){"use strict";cc._RF.push(e,"0bdedl1KRpE76uSSA9JFWWu","index_UI"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./CountingNumber/script/CountingNumber")),cc._RF.pop()},{"./CountingNumber/script/CountingNumber":"CountingNumber"}],index_i18n:[function(t,e,i){"use strict";function n(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}cc._RF.push(e,"ec203p/Jr1O+ZPfOANkUi8B","index_i18n"),Object.defineProperty(i,"__esModule",{value:!0}),n(t("./script/i18nSetting")),n(t("./script/i18n")),n(t("./script/i18nTextSet")),n(t("./script/i18nImgSet")),n(t("./script/i18nLabelExt")),n(t("./script/i18nSpriteExt")),cc._RF.pop()},{"./script/i18n":"i18n","./script/i18nImgSet":"i18nImgSet","./script/i18nLabelExt":"i18nLabelExt","./script/i18nSetting":"i18nSetting","./script/i18nSpriteExt":"i18nSpriteExt","./script/i18nTextSet":"i18nTextSet"}],"normalise-svg":[function(t,e,i){"use strict";cc._RF.push(e,"8f5d9Q/ZvtO3I0jNMiiutxs","normalise-svg"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){var e,i,n,o,r,s,a=(t=t.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),c=a.length,u=[],p=0,l=0,h=0,d=0,f=0,_=0,y=0,v=0,m="";for(e=1;e<c;e++)if(o=(n=(i=a[e]).substring(0,1)).toLowerCase(),r=(u=(u=i.replace(n,"").trim().split(" ")).filter(function(t){return""!==t}).map(parseFloat)).length,"m"===o){if(m+="M ","m"===n?(h+=u[0],d+=u[1]):(h=u[0],d=u[1]),p=h,l=d,m+=h+" "+d+" ",r>2)for(s=0;s<r;s+=2)"m"===n?(h+=u[s],d+=u[s+1]):(h=u[s],d=u[s+1]),m+=["L",h,d,""].join(" ")}else if("l"===o)for(s=0;s<r;s+=2)"l"===n?(h+=u[s],d+=u[s+1]):(h=u[s],d=u[s+1]),m+=["L",h,d,""].join(" ");else if("h"===o)for(s=0;s<r;s++)"h"===n?h+=u[s]:h=u[s],m+=["L",h,d,""].join(" ");else if("v"===o)for(s=0;s<r;s++)"v"===n?d+=u[s]:d=u[s],m+=["L",h,d,""].join(" ");else if("q"===o)for(s=0;s<r;s+=4)"q"===n?(f=h+u[s],_=d+u[s+1],h+=u[s+2],d+=u[s+3]):(f=u[s],_=u[s+1],h=u[s+2],d=u[s+3]),m+=["Q",f,_,h,d,""].join(" ");else if("t"===o)for(s=0;s<r;s+=2)f=h+(h-f),_=d+(d-_),"t"===n?(h+=u[s],d+=u[s+1]):(h=u[s],d=u[s+1]),m+=["Q",f,_,h,d,""].join(" ");else if("c"===o)for(s=0;s<r;s+=6)"c"===n?(f=h+u[s],_=d+u[s+1],y=h+u[s+2],v=d+u[s+3],h+=u[s+4],d+=u[s+5]):(f=u[s],_=u[s+1],y=u[s+2],v=u[s+3],h=u[s+4],d=u[s+5]),m+=["C",f,_,y,v,h,d,""].join(" ");else if("s"===o)for(s=0;s<r;s+=4)f=h+(h-y),_=d+(d-v),"s"===n?(y=h+u[s],v=d+u[s+1],h+=u[s+2],d+=u[s+3]):(y=u[s],v=u[s+1],h=u[s+2],d=u[s+3]),m+=["C",f,_,y,v,h,d,""].join(" ");else"z"===o&&(m+="Z ",h=p,d=l);return m.trim()},cc._RF.pop()},{}],"poly-bezier":[function(t,e,i){"use strict";cc._RF.push(e,"f19855tvBtHb7fPonfEwate","poly-bezier"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./utils"),o=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};o.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(t){return n.default.pointsToString(t.points)}).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,e){return t+e})},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,e=t[0].bbox(),i=1;i<t.length;i++)n.default.expandbox(e,t[i].bbox());return e},offset:function(t){var e=[];return this.curves.forEach(function(i){e=e.concat(i.offset(t))}),new o(e)}},i.default=o,cc._RF.pop()},{"./utils":"utils"}],"svg-to-beziers":[function(t,e,i){"use strict";cc._RF.push(e,"4117bthHHhCEbxQhbfPOUCr","svg-to-beziers"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./normalise-svg"),o={x:!1,y:!1};function r(t,e,i){if("Z"!==e){if("M"!==e){var n=[!1,o.x,o.y].concat(i),r=new(t.bind.apply(t,n)),s=i.slice(-2);return o={x:s[0],y:s[1]},r}o={x:i[0],y:i[1]}}}i.default=function(t,e){for(var i,o,s=n.default(e).split(" "),a=new RegExp("[MLCQZ]",""),c=[],u={C:6,Q:4,L:2,M:2};s.length;)i=s.splice(0,1)[0],a.test(i)&&(o=r(t,i,s.splice(0,u[i]).map(parseFloat)))&&c.push(o);return new t.PolyBezier(c)},cc._RF.pop()},{"./normalise-svg":"normalise-svg"}],utils:[function(t,e,i){"use strict";cc._RF.push(e,"d9086/eCPRCl5xyprUmXAKv","utils"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("./bezier"),o=Math.abs,r=Math.cos,s=Math.sin,a=Math.acos,c=Math.atan2,u=Math.sqrt,p=Math.pow,l=function(t){return t<0?-p(-t,1/3):p(t,1/3)},h=Math.PI,d=2*h,f=h/2,_=Number.MAX_SAFE_INTEGER||9007199254740991,y=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},m={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){var i=e(t),n=i.x*i.x+i.y*i.y;return void 0!==i.z&&(n+=i.z*i.z),u(n)},compute:function(t,e,i){if(0===t)return e[0];var n=e.length-1;if(1===t)return e[n];var o=e,r=1-t;if(0===n)return e[0];if(1===n)return h={x:r*o[0].x+t*o[1].x,y:r*o[0].y+t*o[1].y},i&&(h.z=r*o[0].z+t*o[1].z),h;if(n<4){var s,a,c,u=r*r,p=t*t,l=0;2===n?(o=[o[0],o[1],o[2],v],s=u,a=r*t*2,c=p):3===n&&(s=u*r,a=u*t*3,c=r*p*3,l=t*p);var h={x:s*o[0].x+a*o[1].x+c*o[2].x+l*o[3].x,y:s*o[0].y+a*o[1].y+c*o[2].y+l*o[3].y};return i&&(h.z=s*o[0].z+a*o[1].z+c*o[2].z+l*o[3].z),h}for(var d=JSON.parse(JSON.stringify(e));d.length>1;){for(var f=0;f<d.length-1;f++)d[f]={x:d[f].x+(d[f+1].x-d[f].x)*t,y:d[f].y+(d[f+1].y-d[f].y)*t},void 0!==d[f].z&&(d[f]=d[f].z+(d[f+1].z-d[f].z)*t);d.splice(d.length-1,1)}return d[0]},derive:function(t,e){for(var i=[],n=t,o=n.length,r=o-1;o>1;o--,r--){for(var s,a=[],c=0;c<r;c++)s={x:r*(n[c+1].x-n[c].x),y:r*(n[c+1].y-n[c].y)},e&&(s.z=r*(n[c+1].z-n[c].z)),a.push(s);i.push(a),n=a}return i},between:function(t,e,i){return e<=t&&t<=i||m.approximately(t,e)||m.approximately(t,i)},approximately:function(t,e,i){return o(t-e)<=(i||1e-6)},length:function(t){var e,i,n=0,o=m.Tvalues.length;for(e=0;e<o;e++)i=.5*m.Tvalues[e]+.5,n+=m.Cvalues[e]*m.arcfn(i,t);return.5*n},map:function(t,e,i,n,o){return n+(o-n)*((t-e)/(i-e))},lerp:function(t,e,i){var n={x:e.x+t*(i.x-e.x),y:e.y+t*(i.y-e.y)};return e.z&&i.z&&(n.z=e.z+t*(i.z-e.z)),n},pointToString:function(t){var e=t.x+"/"+t.y;return void 0!==t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(m.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,i){var n=e.x-t.x,o=e.y-t.y,r=i.x-t.x,s=i.y-t.y;return c(n*s-o*r,n*r+o*s)},round:function(t,e){var i=""+t,n=i.indexOf(".");return parseFloat(i.substring(0,n+1+e))},dist:function(t,e){var i=t.x-e.x,n=t.y-e.y;return u(i*i+n*n)},closest:function(t,e){var i,n,o=p(2,63);return t.forEach(function(t,r){(n=m.dist(e,t))<o&&(o=n,i=r)}),{mdist:o,mpos:i}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var i=p(t,e)+p(1-t,e);return o((i-1)/i)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var i=p(1-t,e);return i/(p(t,e)+i)},lli8:function(t,e,i,n,o,r,s,a){var c=(t-i)*(r-a)-(e-n)*(o-s);return 0!=c&&{x:((t*n-e*i)*(o-s)-(t-i)*(o*a-r*s))/c,y:((t*n-e*i)*(r-a)-(e-n)*(o*a-r*s))/c}},lli4:function(t,e,i,n){var o=t.x,r=t.y,s=e.x,a=e.y,c=i.x,u=i.y,p=n.x,l=n.y;return m.lli8(o,r,s,a,c,u,p,l)},lli:function(t,e){return m.lli4(t,t.c,e,e.c)},makeline:function(t,e){var i=t.x,o=t.y,r=e.x,s=e.y,a=(r-i)/3,c=(s-o)/3;return new n.default(i,o,i+a,o+c,i+2*a,o+2*c,r,s)},findbbox:function(t){var e=_,i=_,n=y,o=y;return t.forEach(function(t){var r=t.bbox();e>r.x.min&&(e=r.x.min),i>r.y.min&&(i=r.y.min),n<r.x.max&&(n=r.x.max),o<r.y.max&&(o=r.y.max)}),{x:{min:e,mid:(e+n)/2,max:n,size:n-e},y:{min:i,mid:(i+o)/2,max:o,size:o-i}}},shapeintersections:function(t,e,i,n,o){if(!m.bboxoverlap(e,n))return[];var r=[],s=[t.startcap,t.forward,t.back,t.endcap],a=[i.startcap,i.forward,i.back,i.endcap];return s.forEach(function(e){e.virtual||a.forEach(function(n){if(!n.virtual){var s=e.intersects(n,o);s.length>0&&(s.c1=e,s.c2=n,s.s1=t,s.s2=i,r.push(s))}})}),r},makeshape:function(t,e,i){var n=e.points.length,o=t.points.length,r=m.makeline(e.points[n-1],t.points[0]),s=m.makeline(t.points[o-1],e.points[0]),a={startcap:r,forward:t,back:e,endcap:s,bbox:m.findbbox([r,t,e,s])},c=m;return a.intersections=function(t){return c.shapeintersections(a,a.bbox,t,t.bbox,i)},a},getminmax:function(t,e,i){if(!i)return{min:0,max:0};var n,o,r=_,s=y;-1===i.indexOf(0)&&(i=[0].concat(i)),-1===i.indexOf(1)&&i.push(1);for(var a=0,c=i.length;a<c;a++)n=i[a],(o=t.get(n))[e]<r&&(r=o[e]),o[e]>s&&(s=o[e]);return{min:r,mid:(r+s)/2,max:s,size:s-r}},align:function(t,e){var i=e.p1.x,n=e.p1.y,o=-c(e.p2.y-n,e.p2.x-i);return t.map(function(t){return{x:(t.x-i)*r(o)-(t.y-n)*s(o),y:(t.x-i)*s(o)+(t.y-n)*r(o)}})},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};var i=t.length-1,n=m.align(t,e),o=function(t){return 0<=t&&t<=1};if(2===i){if(0!==(_=(y=n[0].y)-2*(v=n[1].y)+(g=n[2].y))){var s=-u(v*v-y*g),c=-y+v;return[-(s+c)/_,-(-s+c)/_].filter(o)}return v!==g&&0===_?[(2*v-g)/(2*v-2*g)].filter(o):[]}var p=n[0].y,h=n[1].y,f=n[2].y,_=3*h-p-3*f+n[3].y,y=3*p-6*h+3*f,v=-3*p+3*h,g=p;if(m.approximately(_,0)){if(m.approximately(y,0))return m.approximately(v,0)?[]:[-g/v].filter(o);var S=2*y;return[((x=u(v*v-4*y*g))-v)/S,(-v-x)/S].filter(o)}var x,A,T=(n=(3*(v/=_)-(y/=_)*y)/3)/3,R=(x=(2*y*y*y-9*y*v+27*(g/=_))/27)/2,b=R*R+T*T*T;if(b<0){var P=-n/3,C=u(P*P*P),w=-x/(2*C),O=a(w<-1?-1:w>1?1:w),E=2*l(C);return[E*r(O/3)-y/3,E*r((O+d)/3)-y/3,E*r((O+2*d)/3)-y/3].filter(o)}if(0===b)return[2*(A=R<0?l(-R):-l(R))-y/3,-A-y/3].filter(o);var I=u(b);return[(A=l(-R+I))-l(R+I)-y/3].filter(o)},droots:function(t){if(3===t.length){var e=t[0],i=t[1],n=t[2],o=e-2*i+n;if(0!==o){var r=-u(i*i-e*n),s=-e+i;return[-(r+s)/o,-(-r+s)/o]}return i!==n&&0===o?[(2*i-n)/(2*(i-n))]:[]}if(2===t.length)return(e=t[0])!==(i=t[1])?[e/(e-i)]:[]},curvature:function(t,e,i){var n,o,r=m.derive(e),s=r[0],a=r[1],c=m.compute(t,s),l=m.compute(t,a);return i?(n=u(p(c.y*l.z-l.y*c.z,2)+p(c.z*l.x-l.z*c.x,2)+p(c.x*l.y-l.x*c.y,2)),o=p(c.x*c.x+c.y*c.y+c.z*c.z,1.5)):(n=c.x*l.y-c.y*l.x,o=p(c.x*c.x+c.y*c.y,1.5)),0===n||0===o?{k:0,r:0}:{k:n/o,r:o/n}},inflections:function(t){if(t.length<4)return[];var e=m.align(t,{p1:t[0],p2:t.slice(-1)[0]}),i=e[2].x*e[1].y,n=e[3].x*e[1].y,o=e[1].x*e[2].y,r=18*(-3*i+2*n+3*o-(l=e[3].x*e[2].y)),s=18*(3*i-n-3*o),a=18*(o-i);if(m.approximately(r,0)){if(!m.approximately(s,0)){var c=-a/s;if(0<=c&&c<=1)return[c]}return[]}var u=s*s-4*r*a,p=Math.sqrt(u),l=2*r;return m.approximately(l,0)?[]:[(p-s)/l,-(s+p)/l].filter(function(t){return 0<=t&&t<=1})},bboxoverlap:function(t,e){var i,n,r,s,a,c=["x","y"],u=c.length;for(i=0;i<u;i++)if(r=t[n=c[i]].mid,s=e[n].mid,a=(t[n].size+e[n].size)/2,o(r-s)>=a)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,i){var n=t.bbox(),o=e.bbox(),r=1e5,s=i||.5;if(n.x.size+n.y.size<s&&o.x.size+o.y.size<s)return[(r*(t._t1+t._t2)/2|0)/r+"/"+(r*(e._t1+e._t2)/2|0)/r];var a=t.split(.5),c=e.split(.5),u=[{left:a.left,right:c.left},{left:a.left,right:c.right},{left:a.right,right:c.right},{left:a.right,right:c.left}],p=[];return 0===(u=u.filter(function(t){return m.bboxoverlap(t.left.bbox(),t.right.bbox())})).length?p:(u.forEach(function(t){p=p.concat(m.pairiteration(t.left,t.right,s))}),p=p.filter(function(t,e){return p.indexOf(t)===e}))},getccenter:function(t,e,i){var n,o=e.x-t.x,a=e.y-t.y,u=i.x-e.x,p=i.y-e.y,l=o*r(f)-a*s(f),h=o*s(f)+a*r(f),_=u*r(f)-p*s(f),y=u*s(f)+p*r(f),v=(t.x+e.x)/2,g=(t.y+e.y)/2,S=(e.x+i.x)/2,x=(e.y+i.y)/2,A=v+l,T=g+h,R=S+_,b=x+y,P=m.lli8(v,g,A,T,S,x,R,b),C=m.dist(P,t),w=c(t.y-P.y,t.x-P.x),O=c(e.y-P.y,e.x-P.x),E=c(i.y-P.y,i.x-P.x);return w<E?((w>O||O>E)&&(w+=d),w>E&&(n=E,E=w,w=n)):E<O&&O<w?(n=E,E=w,w=n):E+=d,P.s=w,P.e=E,P.r=C,P},numberSort:function(t,e){return t-e}};i.default=m,cc._RF.pop()},{"./bezier":"bezier"}]},{},["index_AniTween","AniAct","AniComponent","AniTween","AniCollect","AniGoto","AniLookAt","AniMove","AniPath","AniSpin","AniSpiral","AniSwing","AniTemplate","AniComponent_Collect","AniComponent_Goto","AniComponent_LookAt","AniComponent_Move","AniComponent_Path","AniComponent_Spin","AniComponent_Spiral","AniComponent_Swing","example_Animator","index_Animator","CocosAnimator","SpineAnimator","AnimClip","AnimCondition","AnimFactory","AnimState","AnimTransition","Animator","index_Async","Async","Async_Each","Async_EachSeries","Async_Parallel","Async_Waterfall","index_AudioMng","AudioLayer","AudioMng","AudioObj","AudioState","index_Bezier","bezier","normalise-svg","poly-bezier","svg-to-beziers","utils","BezierData","index_Curve","CurveData","PointData","Example_Event","Example_EventBus","index_Event","Event","EventBus","EventData","EventListener","Example_Async","Example_AudioMng","Example_Curve","Example_Invoker","example_PageCard","Example_Shuriken","Example_CountingNumber","index_Invoker","Invoker","InvokerQueue","InvokerQueueTask","InvokerTask","InvokerUpdateTask","ObjPool","index_ObjPool","index_PageCard","Card","Page","PageCtrl","index_Shuriken","ShurikenEmitter_Base","ShurikenEmitter_Circle","ShurikenEmitter_NodeRect","Shuriken","ShurikenComponent","ShurikenEmitter","ShurikenSystem","index_State","State","StateCtrl","index_System","Comparer","Mathf","Objf","Stringf","UrlArgs","index_Time","Time","TimeInstance","TimeUser","CountingNumber","index_UI","Uzil","index_i18n","i18n","i18nButtonExt","i18nImgLoader","i18nImgSet","i18nLabelExt","i18nSetting","i18nSpriteExt","i18nTextLoader","i18nTextSet","Example_Reel","index_Reel","ReelColData","ReelColObj","ReelConst","ReelContainer","ReelObj","ReelRowObj","ReelRowView","ReelRowViewPass","ReelRowViewPass_3D","ReelRowViewPass_Idle","ReelRowViewPass_New","ReelRowViewPass_Position","index_Slot","ReelCtrl","ReelCtrlState_Auto","ReelCtrlState_Normal","ReelCtrlState_Turbo","ReelCtrlState_TurboAuto","SlotStrip","SymbolCode","SymbolRes","index_SpinUI","SpinUI"]);